"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[7983],{14694:(e,t,s)=>{s.d(t,{Z:()=>c});s(67294);var n=s(480),r=s(86628),a=s(24405),i=s(39567),o=s(50659),l=s(85893);function d(){window.__c={n:"AliasIcon"};const e=(0,a.yK)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.regularTextColor:"#3E3C38",stroke:"dark"===e.mode?e.sidebarBackground:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,l.jsx)("div",{children:(0,i.Y)(e.icon)})}function c(e){var t;window.__c={n:"SidebarItem"};const s=(0,n.O7)(),i=s.device.isMobile,c=(0,r.VK)((()=>{var t,n;if(i)return s.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(n=e.style)||void 0===n?void 0:n.paddingLeft:10)}),[s.WindowSizeStore,i,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),u=(0,a.yK)((t=>({wrapper:{...i?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:c,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:e.disableMobileBorder?void 0:`0 1px 0 ${t.regularDividerColor}`,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:27,paddingTop:2,paddingBottom:2,marginTop:1,marginBottom:1,...(0,o.MF)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:i?28:22,height:i?24:18,marginLeft:-3,marginRight:4,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.mediumTextColor,width:i?26:22,height:i?24:22,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!i?"clip":"ellipsis",...e.childrenStyle}})),[i,c,e.disableMobileBorder,e.shouldShowMobileMarginBottom,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,l.jsxs)("div",{role:e.role,"aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:u.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,l.jsx)("div",{style:u.left,children:e.left}),e.icon&&(0,l.jsxs)("div",{style:u.icon,children:[e.icon,e.isAlias&&(0,l.jsx)(d,{})]}),(0,l.jsx)("div",{style:u.children,children:e.children}),e.right&&(0,l.jsx)("div",{style:u.right,children:e.right})]})}},1063:(e,t,s)=>{s.d(t,{X:()=>c});s(67294);var n=s(480),r=s(24405),a=s(68939),i=s(50906),o=s(35057),l=s(42402),d=s(85893);function c(e){window.__c={n:"StartupCouponInlineTextLink"};const t=(0,n.O7)(),s=(0,r.yK)((()=>({couponLink:{fontSize:12}})),[]);return(0,d.jsx)(l.Z,{href:"https://notionup.typeform.com/to/qYXezfBW",external:!0,style:s.couponLink,onClick:()=>{const s=(0,o.zt)();i.sS1(t,{tier:e.tier,currentTier:s})},children:(0,d.jsx)("div",{children:(0,d.jsx)(a.FormattedMessage,{id:"startupCouponInlineLink.text",defaultMessage:"Are you a startup?"})})})}},69098:(e,t,s)=>{s.d(t,{j:()=>c,o:()=>n});var n={};s.r(n),s.d(n,{showAsyncModal:()=>p,showAsyncModalComponent:()=>m,testOnly:()=>v});var r=s(67294),a=s(86628),i=s(49085);class o extends i.default{getInitialState(){return{asyncModals:[]}}}const l=new o;var d=s(85893);const c=r.memo((e=>{window.__c={n:"AsyncModalRenderer"};const{store:t=l}=e,s=(0,a.VK)((()=>t.state.asyncModals),[t]);return(0,d.jsx)(d.Fragment,{children:s.map((e=>{const{id:t,internalRenderModal:s,isOpen:n}=e,a=s(n);return(0,d.jsx)(r.Fragment,{children:a},t)}))})}));var u=s(4615);function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return new Promise(((s,n)=>{try{g({asyncModal:x({renderModal:e,promiseResolve:s,promiseReject:n,store:t}),store:t})}catch(r){n(r)}}))}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;const s=t=>r.createElement(e,t);return p(s,t)}function g(e){const{asyncModal:t,store:s=l}=e;s.update((e=>({asyncModals:[...e.asyncModals,t]})))}function y(e){const{id:t,promiseResolve:s,store:n=l}=e;return e=>{const r=b({id:t,store:n});null!=r&&r.isOpen&&(M({id:t,store:n,update:{isOpen:!1}}),s(e))}}function f(e){const{id:t,promiseResolve:s,store:n=l}=e;return()=>{const e=b({id:t,store:n});null!=e&&e.isOpen&&(M({id:t,store:n,update:{isOpen:!1}}),s())}}function h(e){const{id:t,store:s=l}=e;return()=>{s.update((e=>({asyncModals:e.asyncModals.filter((e=>e.id!==t))})))}}function x(e){const{renderModal:t,promiseResolve:s,promiseReject:n,store:r=l}=e,a=(0,u.ZP)(),i=h({id:a,store:r}),o=f({id:a,promiseResolve:s,store:r}),d=y({id:a,promiseResolve:s,store:r});return{id:a,internalRenderModal:e=>{try{return t({isOpen:e,onClosed:i,onDismiss:o,resolve:d})}catch(s){throw n(s),s}},isOpen:!0}}function b(e){const{id:t,store:s=l}=e;return s.state.asyncModals.find((e=>e.id===t))}function M(e){const{id:t,update:s,store:n=l}=e;n.update((e=>({asyncModals:e.asyncModals.map((e=>e.id!==t?e:{...e,...s}))})))}const v={addAsyncModal:g,createAsyncModal:x,createOnClosed:h,createOnDismiss:f,createResolve:y,getAsyncModal:b,updateAsyncModal:M}},81477:(e,t,s)=>{s.d(t,{Z:()=>n});const n=function(e){return!!e.device.isMobile||e.WindowSizeStore.state.width<960}},50659:(e,t,s)=>{s.d(t,{G$:()=>r,MF:()=>a,Z3:()=>n});function n(e){let{isMobile:t}=e;return{...!t&&{borderRadius:3}}}function r(e){let{isMobile:t}=e;return t?{}:{...n({isMobile:t}),marginLeft:4,marginRight:4,width:"calc(100% - 8px)"}}function a(){return{paddingLeft:10,paddingRight:10}}},91493:(e,t,s)=>{s.d(t,{G:()=>o});s(67294);var n=s(68939),r=s(51133),a=s(27533),i=s(85893);function o(e){window.__c={n:"OrderSummaryAccountBalanceItem"};const t=(0,r.hr)(),{accountBalance:s}=e;return 0===s.amount?null:(0,i.jsxs)("div",{style:t.itemContainer,children:[(0,i.jsx)("div",{style:t.captionContainer,children:(0,i.jsx)("span",{style:t.name,children:(0,i.jsx)(n.FormattedMessage,{id:"subscriptionHelpers.lineItems.balance",defaultMessage:"Balance"})})}),(0,i.jsx)("span",{style:t.credit,children:(0,i.jsx)(a.W,{cost:s.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},59148:(e,t,s)=>{s.d(t,{T:()=>o});s(67294);var n=s(68939),r=s(51133),a=s(27533),i=s(85893);function o(e){window.__c={n:"OrderSummaryDiscountItem"};const t=(0,r.hr)(),{discount:s,promo:o}=e;return(0,i.jsxs)("div",{style:t.itemContainer,children:[(0,i.jsx)("div",{style:t.captionContainer,children:(0,i.jsx)("span",{style:t.name,children:(0,i.jsx)(n.FormattedMessage,{id:"subscriptionHelpers.lineItems.promo",defaultMessage:"Coupon"})})}),o.duration_in_months?(0,i.jsx)("span",{style:t.caption,children:(0,i.jsx)(n.FormattedMessage,{id:"subscriptionHelpers.lineItems.promo.subtitle",defaultMessage:"Valid for {durationInMonths} months",values:{durationInMonths:o.duration_in_months}})}):void 0,(0,i.jsx)("span",{style:t.credit,children:(0,i.jsx)(a.W,{cost:s.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},42329:(e,t,s)=>{s.d(t,{r:()=>o});s(67294);var n=s(68939),r=s(51133),a=s(27533),i=s(85893);function o(e){window.__c={n:"OrderSummarySubtotalItem"};const t=(0,r.hr)(),{subtotal:s}=e;return(0,i.jsxs)("div",{style:t.itemContainer,children:[(0,i.jsx)("div",{style:t.captionContainer,children:(0,i.jsx)("span",{style:t.name,children:(0,i.jsx)(n.FormattedMessage,{id:"subscriptionHelpers.lineItems.subTotal",defaultMessage:"Subtotal"})})}),(0,i.jsx)("span",{style:t.price,children:(0,i.jsx)(a.W,{cost:s.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},92041:(e,t,s)=>{s.d(t,{u:()=>l});s(67294);var n=s(68939),r=s(68785),a=s(51133),i=s(27533),o=s(85893);function l(e){window.__c={n:"OrderSummaryTaxItem"};const t=(0,a.hr)(),{tax:s,calculatingTax:l}=e;return(0,o.jsxs)("div",{style:t.itemContainer,children:[(0,o.jsx)("div",{style:t.captionContainer,children:(0,o.jsx)("span",{style:t.name,children:(0,o.jsx)(n.FormattedMessage,{id:"subscriptionHelpers.lineItems.taxIfApplicable.title",defaultMessage:"Tax if applicable"})})}),(0,o.jsx)("span",{style:t.price,children:l?(0,o.jsx)(r.Z,{}):0===s.amount?"—":(0,o.jsx)(i.W,{cost:s.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},64906:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Me});var n=s(86664),r=s(67294),a=s(480),i=s(86628),o=s(3791),l=s(68939),d=s(29497),c=s(7184),u=s(43250),p=s(38755),m=s(80444),g=s(88632),y=s(27242),f=s(78291),h=s(68626),x=s(90850),b=s(50906),M=s(47307),v=s(92625),j=s(92083),C=s(70060),w=s(95014),S=s(88893),I=s(33493),_=s(22616),T=s(34583),F=s(85893);const O=(0,l.defineMessages)({cancelFailedSubscription:{id:"subscription.upgrade.cancel_failed_subscription",defaultMessage:"Cancelling subscription..."},finishingUp:{id:"subscription.upgrade.finishing",defaultMessage:"Finishing up..."}});async function Z(e){const{environment:t,state:s,data:n,stripe:r,elements:a,intl:i,useTestClock:o}=e;if(!a||!r)return void h.log({level:"error",from:"SpaceSubscriptionUpgradeModal",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}});let d=s.paymentData;if(!d){var c,u;const{error:e}=await a.submit();if(e)return b.VQs(t,{error:"could not submit form",error_type:"payment_method",modal_id:s.sessionId}),void y.Z.setState({...s,error:i.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});const n=await r.createPaymentMethod({elements:a});if(n.error)return b.VQs(t,{error:n.error.message,error_type:"payment_method",modal_id:s.sessionId}),void y.Z.setState({...s,error:w.translateStripeError(t,i,n.error)});if(!n.paymentMethod)return b.VQs(t,{error:"could not create token",error_type:"payment_method",modal_id:s.sessionId}),void y.Z.setState({...s,error:i.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});d={type:"paymentMethodId",value:n.paymentMethod.id},y.Z.setState({...s,paymentData:d,temporaryAddress:{...s.temporaryAddress,zipCode:(null===(c=n.paymentMethod.billing_details.address)||void 0===c?void 0:c.postal_code)??"",country:(null===(u=n.paymentMethod.billing_details.address)||void 0===u?void 0:u.country)??""}})}await async function(e){var t,s;const{environment:n,data:r,paymentData:a,stripe:i,useTestClock:o}=e,d=m.default.state.currentSpaceStore,c=y.Z.state;d&&_.Zz({environment:n,spaceId:d.id});const{status:u,prices:p,selectedCurrencyCode:g}=I.Z.state;if(!c.open||!d||"ready"!==u)return;const f=c.sessionId,h=S.GD(c.temporaryBillingInterval),Z=S.Md(c,r),B=null===(t=p.find((e=>e.product===c.subscriptionTier&&e.billingInterval===h&&e.currencyCode===g)))||void 0===t?void 0:t.externalId,V=null===(s=p.find((e=>e.product===c.addOnFeature&&e.billingInterval===h&&e.currencyCode===g)))||void 0===s?void 0:s.externalId,A=c.appliedPromo,k=c.temporaryAddress;try{const e=await T.Mg({environment:n,spaceStore:d,plan:B,paymentData:a,billingEmail:Z,coupon:A&&"coupon"===A.source?A.code:void 0,customerName:k.name,businessName:k.businessName,addressLine1:k.addressLine1,addressCity:k.city,addressZip:k.zipCode,addressState:k.state,addressCountry:k.country,vatId:c.vatApplicable?c.temporaryVatCode:void 0,promoCodeId:A&&"promo_code"===A.source?A.code:void 0,from:"subscription_upgrade_modal",addOns:V?[{priceId:V,isCancellation:!1}]:[],useTestClock:o,sessionId:c.sessionId,inAppOffer:"ai"===c.addOnFeature?c.coupon:void 0,isTrial:c.isTrial,isMmOrEnt:(0,C.MV)()&&(0,C.yt)()});v.j({message:O.finishingUp});const t=e.paymentIntentClientSecret,s=e.paymentIntentId;let r=e.paymentIntentStatus;if(t&&"requires_action"===r){const{paymentIntent:e,error:s}=await i.handleNextAction({clientSecret:t});e?r=e.status:null!=s&&s.payment_intent&&(r=s.payment_intent.status)}"succeeded"===r?b.fZH(n,{payment_intent_id:s,modal_id:f}):w.paymentIntentRequiresPaymentMethod({status:r})&&M.showDialog({message:"trialing"===e.subscriptionStatus?(0,F.jsx)(l.FormattedMessage,{id:"subscription.upgrade.payment_failed.trial",defaultMessage:"Please provide an alternate payment method to complete your upgrade."}):(0,F.jsx)(l.FormattedMessage,{id:"subscription.upgrade.payment_failed",defaultMessage:"Your payment could not be processed. Please provide an alternate payment method or you will lose access to Notion."}),showCancel:!1,keepFocus:!1,disableBackgroundDismiss:!0,items:[{label:(0,F.jsx)(l.FormattedMessage,{id:"subscription.upgrade.payment_failed.pay_invoice",defaultMessage:"Complete payment"}),onAccept:()=>{b.AqV(n,{payment_intent_id:s,modal_id:f}),window.open(e.invoiceUrl,"_blank")},color:"red"},{label:(0,F.jsx)(l.FormattedMessage,{id:"subscription.upgrade.payment_failed.cancel",defaultMessage:"Cancel upgrade"}),onAccept:async()=>{b.cYL(n,{payment_intent_id:s,modal_id:f}),v.j({message:O.cancelFailedSubscription}),await T.EO({environment:n,spaceStore:d,planType:d.getPlanType()??"personal",from:"subscription_upgrade_modal-failed_payment"}),v.x()}}]}),A&&(0,x.$r)(n.currentUser.id),function(e){const{environment:t,modalId:s}=e;y.Z.reset(),b.LYj(t,{modal_id:s})}({environment:n,modalId:f}),j.Z.setState({...j.Z.state,currentTab:"billing",defaultSubtab:void 0})}catch{b.cYL(n,{modal_id:f})}v.x()}({environment:t,data:n,paymentData:d,stripe:r,useTestClock:o})}async function B(e){const{environment:t,state:s,data:n,stripe:r,elements:a,intl:i,useTestClock:o}=e;b.PNo(t,{modal_id:s.sessionId}),y.Z.update((e=>({...e,payButtonState:"disabled"}))),await Z({environment:t,state:s,data:n,stripe:r,elements:a,intl:i,useTestClock:o});const l=y.Z.state;l.open&&y.Z.setState({...l,payButtonState:"enabled"})}var V=s(18810),A=s(51133),k=s(48122),L=s(34310),U=(s(21703),s(72126)),P=s(97880);const D={free:0,personal:1,student:1,ai:2,plus:3,business:4,enterprise:5};var R=s(75849),z=s(42778),E=s(87755),K=s(24405),N=s(82990),W=s(61519),H=s(68785),Y=s(1063),q=s(38461),G=s(27533),X=s(91493),Q=s(59148),$=s(42329),J=s(92041);function ee(e){window.__c={n:"SpaceSubscriptionOrderSummary"};const{state:t,data:s,promo:n}=e,{coupon:r,isTrial:o}=t,d=(0,a.O7)(),c=(0,K.yK)((e=>({container:{display:"flex",flexDirection:"column",gap:16},header:{alignItems:"center",color:e.regularTextColor,display:"flex",fontSize:16,fontWeight:N.Z.fontWeight.semibold,gap:8,marginBottom:11,lineHeight:"22px"},couponLink:{fontSize:12}})),[]),{availableCurrencyCodes:u,selectedCurrencyCode:p}=(0,i.VK)((()=>({availableCurrencyCodes:I.Z.availableCurrencyCodes,selectedCurrencyCode:I.Z.selectedCurrencyCode})),[]),m=t.temporaryBillingInterval??"month",g=A.Zr(n),y=A.Lp(t),f=(0,i.VK)((()=>y.map((e=>I.Z.getPrice(d,(t=>t.product===e&&t.billingInterval===m))))),[m,d,y]);if(f.some((e=>!e.isLoaded)))return(0,F.jsx)(H.Z,{});const h=f.map((e=>e.result)).filter(Boolean),x=S.su(s),b=h[0].unitAmount.currencyValue,M=A.cv({prices:h,quantity:x,coupon:r}),v=A.VT({calculatingTax:t.calculatingTax,taxAmount:t.taxAmount,currencyValue:b}),j=A.rF({prices:h,quantity:x,promo:g}),C=A.Et(s,b),w=M.plus(v).minus(j).minus(C),T=w.amount<0?w.withMultipliedAmount(0):w;return(0,F.jsxs)("div",{style:c.container,children:[o?null:(0,F.jsxs)("label",{style:c.header,children:[(0,F.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.header",defaultMessage:"Order summary"}),(0,F.jsx)(q.V,{availableCurrencyCodes:u,from:"upgrade_modal",onSelectCurrency:_.yD,selectedCurrencyCode:p})]}),(0,F.jsx)(ne,{prices:h,coupon:t.coupon,data:s,isTrial:o}),S.Fu(t.subscriptionTier)&&(0,F.jsx)(Y.X,{tier:t.subscriptionTier}),(0,F.jsx)(W.Z,{size:1}),o?null:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(se,{subtotal:M,tax:v,discount:j,accountBalance:C,promo:g,state:t,style:{marginBottom:8}}),(0,F.jsx)(te,{total:T})]})]})}function te(e){const t=A.hr();return(0,F.jsxs)("div",{style:t.itemContainer,children:[(0,F.jsx)("div",{style:t.captionContainer,children:(0,F.jsx)("span",{style:t.totalName,children:(0,F.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeOrderSummary.totalForToday",defaultMessage:"Total for today"})})}),(0,F.jsx)("span",{style:t.totalPrice,children:(0,F.jsx)(G.W,{cost:e.total.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}function se(e){const{subtotal:t,tax:s,discount:n,accountBalance:r,style:a,promo:i}=e,{calculatingTax:o,coupon:l}=e.state;return(0,F.jsxs)("div",{style:a,children:[(0,F.jsx)($.r,{subtotal:t}),(0,F.jsx)(J.u,{tax:s,calculatingTax:o}),i&&!l?(0,F.jsx)(Q.T,{discount:n,promo:i}):void 0,(0,F.jsx)(X.G,{accountBalance:r})]})}function ne(e){const{coupon:t,data:s,prices:n,isTrial:r}=e;return(0,F.jsx)(F.Fragment,{children:n.map((e=>(0,F.jsx)(re,{price:e,data:s,coupon:t,isTrial:r},e.externalId)))})}function re(e){window.__c={n:"SpaceSubscriptionGrossOrderItem"};const{price:t,data:s,coupon:n,isTrial:r}=e,a=(0,K.yK)((e=>({container:{display:"flex",justifyContent:"space-between"},item:{},title:{fontSize:14,fontWeight:N.Z.fontWeight.medium,marginBottom:4},subtitle:{color:e.mediumTextColor,fontSize:12},price:{fontSize:14}})),[]),i=S.su(s),o=t.getCostPerBillingInterval({quantity:i,coupon:n}),l=(0,F.jsx)(G.W,{cost:o.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"});return(0,F.jsxs)("div",{style:a.container,children:[(0,F.jsxs)("div",{style:a.item,children:[(0,F.jsx)("div",{style:a.title,children:(0,F.jsx)(ae,{price:t})}),(0,F.jsx)("div",{style:a.subtitle,children:(0,F.jsx)(ie,{price:t,data:s,coupon:n,isTrial:r})})]}),r?null:(0,F.jsx)("div",{style:a.price,children:l})]})}function ae(e){const{price:t}=e;switch(t.product){case"free":case"student":return null;case"ai":return(0,F.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.ai.addOn",defaultMessage:"Notion AI"});case"personal":return(0,F.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.singlePlayerPlusPlan",defaultMessage:"Plus plan with a 1-member limit"});case"plus":return(0,F.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.plusPlan",defaultMessage:"Plus plan"});case"business":return(0,F.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.businessPlan",defaultMessage:"Business plan"});case"enterprise":return(0,F.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.enterprisePlan",defaultMessage:"Enterprise plan"});default:(0,P.t1)(t.product)}}function ie(e){const{price:t,data:s,coupon:n,isTrial:r}=e,a=S.su(s),i=t.getMonthlyUnitCost(n),o=(0,F.jsx)(G.W,{cost:i.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"});if(r)return(0,F.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.planSubtitle.trial.billedYearly",defaultMessage:"{price} / member / month",values:{br:(0,F.jsx)("br",{}),price:o}});switch(t.billingInterval){case"year":return(0,F.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.planSubtitle.billedYearly",defaultMessage:"{price} / member / month × {numberOfMembers, plural, one {# member} other {# members}}{br}Billed yearly",values:{br:(0,F.jsx)("br",{}),price:o,numberOfMembers:a}});case"month":return(0,F.jsx)(l.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.planSubtitle.billedMonthly",defaultMessage:"{price} / member / month × {numberOfMembers, plural, one {# member} other {# members}}{br}Billed monthly",values:{br:(0,F.jsx)("br",{}),price:o,numberOfMembers:a}});default:(0,P.t1)(t.billingInterval)}}var oe=s(63594),le=s(57378);function de(e){window.__c={n:"CheckoutDescription"};const{product:t,isTrial:s}=e,n=(0,a.O7)(),r=(0,i.VK)((()=>{const e=m.default.state.currentSpaceStore;if(e)return(0,p.rn)(n,e)}),[n]),o=(0,i.VK)((()=>!oe.Z.state&&"ai"===t),[t]),d=(0,i.VK)((()=>(0,C.MV)()),[]),c=(0,le.P)()&&d&&(0,C.yt)();if(!r)return null;switch(t){case"ai":return(0,F.jsxs)(F.Fragment,{children:[o?(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(l.FormattedMessage,{id:"addOnUpgrade.confirmation.description.outOfFreeAiResponses",defaultMessage:"Your workspace has used all of its free AI responses."})}):null,(0,F.jsx)(l.FormattedMessage,{id:"addOnUpgrade.confirmation.description.admins",defaultMessage:"Go unlimited with Notion AI for all members in {spaceName}.",values:{spaceName:r}})]});case"plus":return s?(0,F.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.oneLiner.trial",defaultMessage:"Collaborate with unlimited people with full access to features such as file uploads and automations. {isMmOrEnt, select, true {30} other {14}} days for free. Cancel the trial stress-free at any time.",values:{isMmOrEnt:c}}):(0,F.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.oneLiner.v2.plus",defaultMessage:"Do more work, faster, with unlimited blocks, files, automations & integrations."});case"business":return s?(0,F.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.oneLiner.trial",defaultMessage:"Collaborate with unlimited people with full access to features such as file uploads and automations. {isMmOrEnt, select, true {30} other {14}} days for free. Cancel the trial stress-free at any time.",values:{isMmOrEnt:c}}):(0,F.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.oneLiner.v2.business",defaultMessage:"For companies using Notion to connect several teams & tools."});case"enterprise":return(0,F.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.oneLiner.v2.enterprise",defaultMessage:"Advanced controls & support to run your entire organization."})}}var ce=s(89024),ue=s(7124);function pe(e){const{title:t,subtitle:s,image:n}=e;return(0,F.jsxs)(ce.jX,{gap:8,children:[n,(0,F.jsxs)(ce.jX,{gap:4,children:[(0,F.jsx)(ue.q,{styleName:"Title-22px/Bold",children:t}),(0,F.jsx)(ue.q,{styleName:"Heading-17px/Regular",colorName:"secondary",children:s})]})]})}var me=s(1853),ge=s(81477);function ye(e){let{header:t,paymentContent:s,orderOptions:n,footer:r,showDismissButton:o}=e;window.__c={n:"CheckoutModalLayout"};const l=(0,a.O7)(),{isMobile:d}=(0,a.Fy)(),c=(0,i.VK)((()=>(0,ge.Z)(l)),[l])||!n,u=function(e){return(0,K.yK)((()=>({wrapper:{overflowY:"scroll",...!e&&{minWidth:484}},desktop:{overflow:"auto"},mobile:{display:"grid",gridTemplateRows:"1fr auto",overflow:"hidden auto"},dismiss:{top:16,right:16}})),[e])}(d),p=(0,F.jsxs)(ce.jX,{direction:c?"column":"row",gap:32,style:{...d?u.mobile:u.desktop},children:[(0,F.jsx)(ce.jX,{direction:"column",gap:28,width:c?"fill":420,children:s}),(0,F.jsxs)(ce.jX,{direction:"column",gap:28,width:c?"fill":310,children:[n,r]})]});return(0,F.jsxs)(ce.jX,{direction:"column",gap:36,padding:32,width:"hug",height:"hug",style:u.wrapper,children:[t,p,o&&(0,F.jsx)(me.U4,{style:u.dismiss})]})}function fe(e){const{product:t,isTrial:s}=e;switch(t){case"ai":return(0,F.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.ai.addOn.title",defaultMessage:"Get more Notion AI"});case"plus":return s?(0,F.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.title.plusTrial",defaultMessage:"Try the Plus plan for free"}):(0,F.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.title.plus",defaultMessage:"Upgrade to Plus"});case"business":return s?(0,F.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.title.businessTrial",defaultMessage:"Try the Business plan for free"}):(0,F.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.upgradeToBusinessDialog.businessPlan",defaultMessage:"Upgrade to Business"});case"enterprise":return(0,F.jsx)(l.FormattedMessage,{id:"subscriptionUpgradeModal.title.enterprise",defaultMessage:"Upgrade to Enterprise"});default:(0,P.t1)(t)}}function he(e){window.__c={n:"ModalContentV2"};const{state:t,data:s,spaceStore:r}=e,d=(0,a.O7)(),c=(0,l.useIntl)(),u=(0,n.useStripe)(),m=(0,n.useElements)(),h=(0,i.VK)((()=>g.Z.state.online),[]),[x,b,M,v,j]=(0,i.VK)((()=>{var e;const s=(null===(e=f.default.state.data)||void 0===e?void 0:e.addOns)??[],n=(0,p.CV)(r);return[t.subscriptionTier,t.temporaryBillingInterval,t.addOnFeature,!n&&!(0,o.de)(s),t.coupon]}),[t,r]);if(!t.open)return null;if(!h)return(0,F.jsx)(E.Z,{});const C=A.Lp(t),w=function(e){if(0===e.length)return;const t=(0,U.UT)((0,U.oA)(e),(e=>D[e]));if(t)switch(t){case"ai":case"plus":case"business":case"enterprise":return t;case"free":case"personal":case"student":throw new Error("Invalid product passed into checkout.");default:(0,P.t1)(t)}}(C);return w?(0,F.jsx)(ye,{showDismissButton:!0,header:(0,F.jsx)("div",{children:(0,F.jsx)(pe,{title:(0,F.jsx)(fe,{product:w,isTrial:Boolean(t.isTrial)}),subtitle:(0,F.jsx)(de,{product:w,isTrial:Boolean(t.isTrial)}),image:(0,F.jsx)(R.q,{product:w})})}),paymentContent:(0,F.jsx)(V.iQ,{}),orderOptions:t.onlyShowAddOn?null:(0,F.jsx)("div",{children:(0,F.jsx)(z.Z,{subscriptionTier:x,billingInterval:b,addOnFeature:M,canAddAI:v,isTrial:t.isTrial,modalId:t.sessionId,coupon:j,onChangeBillingInterval:e=>{y.Z.update((t=>({...t,temporaryBillingInterval:e})))},onChangeAddOnFeature:e=>{y.Z.update((t=>({...t,addOnFeature:e})))}})}),footer:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(ee,{state:t,data:s,promo:t.appliedPromo}),(0,F.jsx)(k.f,{state:t,products:C,onClickUpgrade:e=>B({environment:d,intl:c,state:t,stripe:u,elements:m,data:s,useTestClock:e.useTestClock})})]})}):null}function xe(e){window.__c={n:"ModalContentWrapper"};const{state:t,data:s,spaceStore:r}=e,{subscriptionTier:a,onlyShowAddOn:o,calculatingTax:l,temporaryBillingInterval:d,taxAmount:c,addOnFeature:u,coupon:p}=t,m=S.XX(s),g=(0,i.VK)((()=>(null==m?void 0:m.currencyCode)??I.Z.selectedCurrencyCode),[m]),{payAmount:y}=S.uN({subscriptionTier:a,currencyCode:g,promo:t.appliedPromo,data:s,onlyShowAddOn:o,calculatingTax:l,billingInterval:d??"year",taxAmount:c,addOnFeature:u,coupon:p}),f=(0,w.useElementsOptions)({type:"subscription",amount:y.amount,currency:y.currencyCode});return(0,F.jsx)(n.Elements,{stripe:(0,w.getStripe)(),options:f,children:(0,F.jsx)(be,{state:t,data:s,spaceStore:r})})}function be(e){window.__c={n:"ModalContent"};const{state:t,data:s,spaceStore:r}=e,c=(0,a.O7)(),u=(0,l.useIntl)(),{isMobile:m}=(0,a.Fy)(),h=(0,n.useStripe)(),x=(0,n.useElements)(),b=(0,i.VK)((()=>g.Z.state.online),[]),M=(0,i.VK)((()=>(0,C.Pw)()),[]),[v,j,w,S,I]=(0,i.VK)((()=>{var e;const s=(null===(e=f.default.state.data)||void 0===e?void 0:e.addOns)??[],n=(0,p.CV)(r);return[t.subscriptionTier,t.temporaryBillingInterval,t.addOnFeature,!n&&!(0,o.de)(s),t.coupon]}),[t,r]);if(!t.open)return null;if(!b)return(0,F.jsx)(E.Z,{});const _=A.Lp(t);return M?(0,F.jsx)(he,{state:t,data:s,spaceStore:r}):(0,F.jsx)(d.CT,{showDismissButton:!0,main:(0,F.jsx)(d.T1,{width:m?"fill":450,children:(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{style:{paddingBottom:24},children:(0,F.jsx)(L.Q,{subscriptionTier:t.subscriptionTier,onlyShowAddOn:t.onlyShowAddOn,addOnFeature:t.addOnFeature,type:t.type,isTrial:t.isTrial})}),t.onlyShowAddOn?null:(0,F.jsx)(z.Z,{subscriptionTier:v,billingInterval:j,addOnFeature:w,canAddAI:S,isTrial:t.isTrial,modalId:t.sessionId,coupon:I,onChangeBillingInterval:e=>{y.Z.update((t=>({...t,temporaryBillingInterval:e})))},onChangeAddOnFeature:e=>{y.Z.update((t=>({...t,addOnFeature:e})))}}),(0,F.jsx)(V.iQ,{})]})}),sidebar:(0,F.jsxs)(d.T6,{width:m?"fill":300,children:[(0,F.jsx)(ee,{state:t,data:s,promo:t.appliedPromo}),(0,F.jsx)(k.f,{state:t,products:_,onClickUpgrade:e=>B({environment:c,intl:u,state:t,stripe:h,elements:x,data:s,useTestClock:e.useTestClock})})]})})}const Me=function(e){window.__c={n:"SpaceSubscriptionUpgradeModal"};const{data:t,spaceStore:s}=e,n=(0,i.VK)((()=>y.Z.state),[]),o=(0,a.O7)(),d=(0,l.useIntl)();return(0,r.useEffect)((()=>{const{state:e}=y.Z;if(!e.open)return;const{currentUserStore:s}=m.default.state,n=null!=s&&s.isDefined()?s.getModel():void 0;if(n){const s=n.getDisplayName(d);var r;if(y.Z.setState({...e,temporaryAddress:{...e.temporaryAddress,name:s}}),"subscribed_admin"===t.type||"unsubscribed_admin"===t.type)y.Z.setState({...e,appliedPromo:null===(r=t.customerData)||void 0===r?void 0:r.stripe.promo})}}),[]),(0,F.jsx)(c.c,{ariaLabelledBy:u.BaY,isOpen:n.open,onDismiss:()=>T.Fp(o),children:n.open?(0,F.jsx)(xe,{state:n,data:t,spaceStore:s}):null})}},15967:(e,t,s)=>{s.d(t,{J:()=>a});s(67294);var n=s(45238),r=s(85893);const a=(0,n.I)("settingsBilling",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M3.24219 17.5625H16.7578C18.3984 17.5625 19.2109 16.75 19.2109 15.1406V5.60156C19.2109 3.99219 18.3984 3.17969 16.7578 3.17969H3.24219C1.60938 3.17969 0.789062 3.98438 0.789062 5.60156V15.1406C0.789062 16.7578 1.60938 17.5625 3.24219 17.5625ZM2.04688 5.66406C2.04688 4.85156 2.47656 4.4375 3.25781 4.4375H16.7422C17.5156 4.4375 17.9531 4.85156 17.9531 5.66406V6.84375H2.04688V5.66406ZM3.25781 16.3047C2.47656 16.3047 2.04688 15.8906 2.04688 15.0781V8.61719H17.9531V15.0781C17.9531 15.8906 17.5156 16.3047 16.7422 16.3047H3.25781ZM4.5 14.625H6.41406C6.86719 14.625 7.17969 14.3125 7.17969 13.875V12.4297C7.17969 11.9844 6.86719 11.6797 6.41406 11.6797H4.5C4.03906 11.6797 3.72656 11.9844 3.72656 12.4297V13.875C3.72656 14.3125 4.03906 14.625 4.5 14.625Z"})})},5517:(e,t,s)=>{s.d(t,{q:()=>a});s(67294);var n=s(45238),r=s(85893);const a=(0,n.I)("settingsPlans",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M2.75781 17.7656C2.95312 17.7656 3.15625 17.6953 3.40625 17.5547L7.38281 15.4141L11.7031 17.8359C11.9844 17.9922 12.2891 18.0703 12.5781 18.0703C12.8516 18.0703 13.125 18 13.3594 17.8672L17.4453 15.5469C17.9141 15.2891 18.125 14.9141 18.125 14.3906V3.86719C18.125 3.28906 17.8047 2.96875 17.2422 2.96875C17.0469 2.96875 16.8438 3.03125 16.5859 3.17188L12.4453 5.47656L8.20312 2.875C7.96094 2.73438 7.6875 2.65625 7.41406 2.65625C7.13281 2.65625 6.85156 2.73438 6.60938 2.875L2.54688 5.1875C2.08594 5.45312 1.875 5.82812 1.875 6.35156V16.8594C1.875 17.4375 2.19531 17.7656 2.75781 17.7656ZM6.875 14.1719L3.35156 16.1094C3.3125 16.125 3.27344 16.1484 3.23438 16.1484C3.17188 16.1484 3.13281 16.1016 3.13281 16.0234V6.65625C3.13281 6.46875 3.20312 6.33594 3.39062 6.22656L6.59375 4.35156C6.69531 4.29688 6.78125 4.25 6.875 4.19531V14.1719ZM8.13281 14.2969V4.35938C8.21094 4.40625 8.30469 4.45312 8.38281 4.5L11.8672 6.625V16.3906C11.7578 16.3281 11.6406 16.2734 11.5234 16.2109L8.13281 14.2969ZM13.125 16.5312V6.54688L16.6484 4.625C16.6875 4.60156 16.7266 4.58594 16.7578 4.58594C16.8281 4.58594 16.8672 4.63281 16.8672 4.71094V14.0781C16.8672 14.2734 16.7891 14.4062 16.6094 14.5156L13.4766 16.3359C13.3594 16.4062 13.2422 16.4766 13.125 16.5312Z"})})},72263:(e,t,s)=>{s.d(t,{_:()=>a});s(67294);var n=s(45238),r=s(85893);const a=(0,n.I)("settingsUpgrade",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm0-2.734a.562.562 0 00.586-.586V9.383l-.063-1.656.797.945.922.937a.52.52 0 00.414.172c.32 0 .57-.242.57-.562a.566.566 0 00-.164-.406L10.43 6.219c-.149-.149-.29-.227-.461-.227-.164 0-.297.07-.453.227l-2.61 2.593a.555.555 0 00-.148.407c0 .32.242.562.562.562a.572.572 0 00.414-.172l.93-.937.781-.938-.062 1.649v3.906c0 .344.25.586.586.586z"})})}}]);