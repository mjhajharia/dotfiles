"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[3144],{21797:(e,t,n)=>{n.d(t,{Sw:()=>M,Tr:()=>C,Vm:()=>S,b4:()=>w,rz:()=>N,te:()=>x});n(67294);var a=n(8848),o=n(80988),i=n(72126),s=n(68939),l=n(50906),r=n(96802),c=n(98724),d=n(39699),u=n(41216),m=n(72495),p=n(19037),f=n(46888),g=n(80025),v=n(51783),y=n(52689),h=n(62967),k=n(85893);const b=(0,s.defineMessages)({lastUsedHighlightTitle:{id:"action.lastUsedHighlight.title",defaultMessage:"Last used"},lastUsedHighlightKeywords:{id:"action.lastUsedHighlight.fuzzySearchKeywords",defaultMessage:"Color last used"},highlightName:{id:"action.highlight.name",defaultMessage:"Highlight"}}),N=(0,h.$J)({key:"text color actions",title:h.RE.colorSection,render:e=>(0,k.jsx)(m.Z,{...e}),actions:a.CY.map((e=>T(e)))}),S=(0,h.$J)({key:"background color actions",title:h.RE.backgroundSection,overrideSearchTitle:h.RE.backgroundSectionKeywords,render:e=>(0,k.jsx)(m.Z,{...e}),actions:[T("default","default background",g.mF.backgroundColorDefault),...a._K.map((e=>T(e)))]}),M=(0,h.$J)({key:"background color selection actions",title:h.RE.backgroundSection,overrideSearchTitle:h.RE.backgroundSectionKeywords,render:e=>(0,k.jsx)(m.Z,{...e}),actions:[T("default","default background",g.mF.backgroundColorDefault),...a._K.map((e=>P(e)))]}),w=(0,h.$J)({key:"text color selection actions",title:h.RE.colorSection,render:e=>(0,k.jsx)(m.Z,{...e}),actions:a.CY.map((e=>P(e)))});function A(){return[p.J5,p.ff(p.fI),p.XQ,p.YB,p.ff(p.O4),p.IZ]}function T(e,t,n){const o=n||(0,g.qf)(e),i=(0,h.cN)({key:`color ${t||e}`,displayName:o,analyticsName:o.defaultMessage,analyticsActionType:"change_block_color",fuzzySearchKeywords:(0,h.CJ)(e),validators:A(),action:t=>{let{blocks:n,environment:o}=t;y.Z.setHighlightColor(e),d.createAndCommit({userAction:"actionRegistry.createBlockColorAction",environment:o,perform:t=>{(0,a.jS)(e)||(c.V$({environment:o,annotationType:"h",blocks:n,transaction:t}),r.FH({stores:Array.from((0,f.c)(n)),update:{block_color:void 0},transaction:t})),r.FH({stores:n,update:{block_color:e},transaction:t})}})},closeParentMenu:!0,render:t=>(0,k.jsx)(u.Z,{...t,color:e,overrideDisplayName:i.displayName}),nativeRender:n=>{let{environment:a}=n;return(0,h.fi)(a,e,t)}});return i}function P(e,t,n){const a=n||(0,g.qf)(e),o=(0,h.cN)({key:`color ${t||e}`,displayName:a,analyticsName:a.defaultMessage,fuzzySearchKeywords:(0,h.CJ)(e),validators:A(),action:async t=>{let{blocks:n,environment:a}=t;var o;v.y6(a)&&await(null===(o=a.NativeMobileActionBarStore)||void 0===o?void 0:o.clearNativeActionMenuAndRestoreSelectionIfNecessary());c.mX({environment:a,annotationType:"h"}),"default"!==e&&(y.Z.setHighlightColor(e),c.aS({environment:a,annotation:["h",y.Z.state.color]}),l.mt_(a,{action:"h",color:y.Z.state.color}))},closeParentMenu:!0,render:t=>(0,k.jsx)(u.Z,{...t,color:e,overrideDisplayName:o.displayName}),nativeRender:n=>{let{environment:a}=n;return(0,h.fi)(a,e,t)}});return o}const x=(0,h.$J)({key:"toggle last highlight",title:b.lastUsedHighlightTitle,overrideSearchTitle:b.lastUsedHighlightKeywords,render:e=>(0,k.jsx)(m.Z,{...e}),actions:[(0,h.cs)({key:"toggle highlight action",displayName:b.highlightName,analyticsName:b.highlightName.defaultMessage,validators:A(),shortcuts:["toggleHighlight"],closeParentMenu:!0,action:e=>{let{environment:t,blocks:n}=e;const a=y.Z.state.color;d.createAndCommit({userAction:"actionRegistry.toggleLastUsedHighlight",environment:t,perform:e=>{const t=i.yW(n.map((e=>{const t=e.getFormat();return t&&t.block_color===a})))?void 0:a;r.FH({stores:n,update:{block_color:t},transaction:e})}})},render:e=>{const t=y.Z.state.color;return(0,k.jsx)(u.Z,{...e,color:t,shortcuts:["toggleHighlight"]})}})]}),C=(0,h.MV)({key:"color section",displayName:h.RE.colorName,analyticsName:h.RE.colorName.defaultMessage,svg:o.U,validators:A(),subActions:()=>[x,N,S]})},69815:(e,t,n)=>{n.d(t,{U:()=>v,V:()=>y});var a=n(41432),o=n(49089),i=n(45137),s=n(68939),l=n(42858),r=n(18821),c=n(19037),d=n(68056),u=n(89086),m=n(58202),p=n(24666),f=n(62967);const g=(0,s.defineMessages)({commentName:{id:"action.comment.name",defaultMessage:"Comment"},captionName:{id:"action.caption.name",defaultMessage:"Caption"}}),v=(0,f.cs)({key:"comment",displayName:g.commentName,analyticsName:g.commentName.defaultMessage,svg:i.o,validators:[c.J5,c.ff(c.fI),c.XQ,c.ff(c.DF),c.ff(c.F6),c.or([c.U7,c.KL]),c.ff(c.OX)],shortcuts:["comment"],closeParentMenu:!0,action:e=>{let{blocks:t,environment:n}=e;const o=t[0],i=null==o?void 0:o.getModel();if(o){const e="editing"===p.default.state.mode&&p.default.state.multiSelection;if(e&&!(0,d.iG)(e)&&(e.start.store.id===o.id||null!=i&&i.isType("table")&&"properties"===e.start.store.path[0]&&e.start.store.path[1]&&(o.getFormatStore().getKeyStore("table_block_column_order").getValue()??[]).includes(String(e.start.store.path[1]))))r.WD({environment:n,blockStore:o,multiSelection:e});else if(o.isDefined()&&null!=i&&i.isType(a.eh)){const e=o.getTitleStore(),t=e&&(0,u.x0)(e);if(e&&t&&t.endIndex>0){const a={startIndex:0,endIndex:t.endIndex};r.WD({environment:n,blockStore:o,multiSelection:(0,d.TD)({store:e,selection:a}),rect:m.R.getRect(o)})}}else r.yw({environment:n,blockStore:o})}}}),y=(0,f.cs)({key:"caption",displayName:g.captionName,analyticsName:g.captionName.defaultMessage,svg:o.o,validators:[c.J5,c.ff(c.fI),c.U7,c.W2,c.or([c.l$("source"),c.l$("link"),c.P9("code")])],shortcuts:["caption"],closeParentMenu:!0,action:e=>l.VJ(e)})},89941:(e,t,n)=>{n.d(t,{ez:()=>l,fF:()=>i,vE:()=>s});var a=n(19037),o=n(19124);const i=[e=>(0,o.GD)(e.publicEditMode),a.J5],s=[...i,a.ff(a.fI),a.ff(a.OX)],l=[...s,e=>a.P9("ai_block")&&e.blocks.every((e=>e.isSkillBlock()))]},8416:(e,t,n)=>{n.d(t,{OY:()=>P,NY:()=>T,_K:()=>I,$3:()=>x});n(52262),n(24506);var a=n(67294),o=n(12970),i=n(91856),s=n(20669),l=n(25651),r=n(11751),c=n(68939),d=n(96802),u=n(39699),m=n(86628),p=n(24405),f=n(36591),g=n(52275),v=n(85893);function y(e,t){window.__c={n:"AiSectionSkillMenuItem"};const{store:n,displayName:a,selectedSkillType:o,icon:i,...s}=e,l=(0,c.useIntl)(),r=(0,m.VK)((()=>(null==n?void 0:n.getCurrentSkillType())===o),[n,o]),d=(0,p.yK)((e=>({icon:{width:14,fill:e.aiPurpleColor}})),[]);return(0,v.jsx)(g.Z,{...s,ref:t,icon:i(d.icon),title:l.formatMessage(a),right:r?(0,f.e)({width:14}):void 0})}const h=a.forwardRef(y);var k=n(72495),b=n(19037),N=n(95083),S=n(89941),M=n(62967);const w=[...S.vE,e=>{const{blocks:t}=e;return t.some((e=>{const t=e.getType();return void 0!==t&&N.d[t]}))}],A=(0,c.defineMessages)({blockSelectionCompletionName:{id:"action.blockSelectionCompletionName.name",defaultMessage:"Ask AI"},executeFillAiSectionName:{id:"action.executeAiSection.name",defaultMessage:"Fill with AI"},editAiSectionName:{id:"action.editAiSection.name",defaultMessage:"Edit AI autofill"},meetingSummarySkillName:{id:"action.editAiSectionExtension.meetingSummary.name",defaultMessage:"Summarize"},meetingActionItemSkillName:{id:"action.editAiSectionExtension.meetingActionItem.name",defaultMessage:"Action items"}}),T=(0,M.cs)({key:"block selection completion",displayName:A.blockSelectionCompletionName,analyticsName:A.blockSelectionCompletionName.defaultMessage,svg:r.t,shortcuts:["commandJ"],validators:w,hideFromSlashActionMenu:!0,closeParentMenu:!0,action:(e,t)=>{const{environment:n,lazyDependencies:{ai:a}}=e;null==a||a.completionInitialPromptActions.toggleInitialPrompt({from:"block_action_menu",environment:n})}}),P=(0,M.cs)({key:"ai prompt menu",analyticsName:"ai_prompt_menu",displayName:void 0,validators:[...S.vE,b.FS],shortcuts:["commandJ"],closeParentMenu:!0,action:e=>{let{environment:t,lazyDependencies:{ai:n}}=e;null==n||n.completionInitialPromptActions.toggleInitialPrompt({from:"keyboard_shortcut",environment:t})}}),x=(0,M.cN)({key:"execute fill in ai section",displayName:A.executeFillAiSectionName,analyticsName:"Fill AI Section",validators:S.ez,closeParentMenu:!0,svg:s.y,action:e=>{const{blocks:t,lazyDependencies:{assistant:n}}=e,a=t.at(0);a&&(null==n||n.assistantActions.fillInAiSection({environment:e.environment,blockStore:a}))}}),C=["meeting_summary","meeting_action_items"],R={meeting_summary:{displayName:A.meetingSummarySkillName,analyticsName:"AI meeting summary",icon:i.Y},meeting_action_items:{displayName:A.meetingActionItemSkillName,analyticsName:"AI meeting action items",icon:o.O}},I=(0,M.MV)({key:"edit ai section skill",displayName:A.editAiSectionName,analyticsName:"Edit AI Section Skill",svg:l.R,validators:S.ez,subActions:e=>[{key:0,title:void 0,render:e=>(0,v.jsx)(k.Z,{...e}),actions:C.map((t=>{const n=R[t],{displayName:a,analyticsName:o,icon:i}=n;return(0,M.cN)({key:t,displayName:a,analyticsName:o,validators:S.ez,closeParentMenu:!0,action:e=>{let{environment:n,blocks:a}=e;u.createAndCommit({userAction:"actionRegistry.editAiSectionSkill",environment:n,perform:e=>{d.FH({transaction:e,stores:a,update:{ai_skill:{ai_show_skill_picker:!0,ai_skill_type:t}}})}})},render:n=>(0,v.jsx)(h,{...n,icon:i,displayName:a,selectedSkillType:t,store:e.blocks.at(0)})})}))}]})},82763:(e,t,n)=>{n.d(t,{H:()=>r,K:()=>l});var a=n(27714),o=n(14871),i=n(19037),s=n(62967);const l=(0,s.cN)({key:"copy link to page",displayName:s.RE.copyLinkNavigableTypeName,analyticsName:s.RE.copyLinkNavigableTypeName.defaultMessage,svg:a.N,validators:[i.jl,i.U7,i.DF,i.ff(i.q4)],closeParentMenu:!0,action:(e,t)=>{o.Hs({...e,event:t})}}),r=(0,s.cs)({key:"copy link to block",displayName:s.RE.copyLinkName,analyticsName:s.RE.copyLinkName.defaultMessage,svg:a.N,shortcuts:["copyLinkToBlock"],validators:[i.jl,i.U7,i.ff(i.DF),i.ff(i.q4)],closeParentMenu:!0,action:(e,t)=>{o.Hs({...e,event:t})}})},35067:(e,t,n)=>{n.d(t,{G:()=>r});var a=n(41432),o=n(37612),i=n(42858),s=n(19037),l=n(62967);const r=(0,l.cs)({key:"delete block",displayName:l.RE.deleteName,analyticsName:l.RE.deleteName.defaultMessage,svg:o.y,validators:[s.or([s.xD([s.lA,s.M]),s.xD([s.eo,s.ff(s.sR)])]),s.ff(s.fI),s.ff(s.Vf),s.ff(s.oY),s.ff(s.P9(a.Ti.externalObjectInstancePage)),s.vd],shortcuts:["delete","backspace"],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:n}=e;await i.Qw({environment:n,blocks:t})}})},29768:(e,t,n)=>{n.d(t,{Ay:()=>f,DN:()=>S,MI:()=>w,UO:()=>y,fI:()=>M,gl:()=>h,jW:()=>p,m7:()=>k,nh:()=>b,o1:()=>g,vh:()=>v});n(67294);var a=n(88437),o=n(3297),i=n(42858),s=n(72495),l=n(19037),r=n(80444),c=n(77080),d=n(34583),u=n(62967),m=n(85893);const p=()=>c.default.checkGate("duplicate_collection_schema"),f=(0,u.cs)({key:"duplicate",displayName:u.RE.duplicateName,analyticsName:u.RE.duplicateName.defaultMessage,svg:a.a,validators:[l.M,l.ff(l.sR),l.ff(l.cW),l.or([l.O4,l.ff(l.fI)]),...u.kv],shortcuts:["duplicate"],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:n}=e;await i.nG({environment:n,blocks:t})}}),g=(0,u.cs)({key:"duplicate",displayName:u.RE.duplicateName,analyticsName:u.RE.duplicateName.defaultMessage,svg:a.a,validators:[l.M,l.ff(l.sR),l.ff(l.cW),l.or([l.O4,l.ff(l.fI)]),l.or([l.ff(l.pl),l.f7]),...u.kv],shortcuts:["duplicate"],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:n}=e;await i.nG({environment:n,blocks:t})}}),v=(0,u.MV)({key:"duplicateCollection",displayName:u.RE.duplicateName,analyticsName:u.RE.duplicateName.defaultMessage,svg:a.a,width:275,validators:[l.M,l.ff(l.sR),l.ff(l.cW),l.or([l.O4,l.ff(l.fI)]),l.xD([l.pl,l.ff(l.f7)]),...u.kv],subActions:()=>[{key:"collection duplication options",render:e=>(0,m.jsx)(s.Z,{...e}),actions:y.actions}]}),y=(0,u.$J)({key:"duplicate collection actions",title:u.RE.duplicateName,render:e=>(0,m.jsx)(s.Z,{...e}),actions:[(0,u.cs)({key:"duplicate with data",displayName:u.RE.duplicateCollectionWithDataName,analyticsName:"",validators:[],shortcuts:["duplicate"],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:n}=e;await i.nG({environment:n,blocks:t,duplicateOnlyCollectionSchema:!1})}}),(0,u.cs)({key:"duplicate schema only",displayName:u.RE.duplicateCollectionSchemaOnlyName,analyticsName:"",validators:[],shortcuts:["duplicateSchema"],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:n}=e;await i.nG({environment:n,blocks:t,duplicateOnlyCollectionSchema:!0})}})]}),h=(0,u.cs)({key:"duplicate",displayName:u.RE.duplicateName,analyticsName:u.RE.duplicateName.defaultMessage,svg:a.a,validators:[l.U7,l.KE,l.ff(l.xk),...u.kv],shortcuts:["duplicate"],closeParentMenu:!0,action:e=>{let{blocks:t,environment:n}=e;T(t,n)}}),k=(0,u.cs)({key:"duplicate",displayName:u.RE.duplicateName,analyticsName:u.RE.duplicateName.defaultMessage,svg:a.a,validators:[l.U7,l.KE,l.ff(l.xk),l.or([l.ff(l.pl),l.f7]),...u.kv],shortcuts:["duplicate"],closeParentMenu:!0,action:e=>{let{blocks:t,environment:n}=e;T(t,n)}}),b=(0,u.MV)({key:"duplicateCollection",displayName:u.RE.duplicateName,analyticsName:u.RE.duplicateName.defaultMessage,svg:a.a,width:275,validators:[l.U7,l.KE,l.ff(l.xk),l.xD([l.pl,l.ff(l.f7)]),...u.kv],subActions:()=>[{key:"collection duplication options",render:e=>(0,m.jsx)(s.Z,{...e}),actions:N.actions}]}),N=(0,u.$J)({key:"duplicate collection actions",title:u.RE.duplicateName,render:e=>(0,m.jsx)(s.Z,{...e}),actions:[(0,u.cs)({key:"duplicate with data",displayName:u.RE.duplicateCollectionWithDataName,analyticsName:"",validators:[],shortcuts:["duplicate"],closeParentMenu:!0,action:e=>{let{blocks:t,environment:n}=e;T(t,n,!1)}}),(0,u.cs)({key:"duplicate schema only",displayName:u.RE.duplicateCollectionSchemaOnlyName,analyticsName:"",validators:[],shortcuts:["duplicateSchema"],closeParentMenu:!0,action:e=>{let{blocks:t,environment:n}=e;T(t,n,!0)}})]}),S=(0,u.cN)({key:"duplicate into private",displayName:u.RE.duplicateToPrivateName,analyticsName:u.RE.duplicateToPrivateName.defaultMessage,svg:a.a,validators:[l.ff(l.sR),l.DF,l.J5,l.ff(l.nJ),l.or([l.cW,l.ff(l.KE),l.b1])],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:n}=e;await P(t,n)}}),M=(0,u.cN)({key:"duplicate into private",displayName:u.RE.duplicateToPrivateName,analyticsName:u.RE.duplicateToPrivateName.defaultMessage,svg:a.a,validators:[l.ff(l.sR),l.DF,l.J5,l.ff(l.nJ),l.or([l.cW,l.ff(l.KE),l.b1]),l.or([l.ff(l.pl),l.f7])],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:n}=e;await P(t,n)}}),w=(0,u.MV)({key:"duplicate collection to private",displayName:u.RE.duplicateToPrivateName,analyticsName:u.RE.duplicateToPrivateName.defaultMessage,svg:a.a,width:275,validators:[l.ff(l.sR),l.DF,l.J5,l.ff(l.nJ),l.or([l.cW,l.ff(l.KE),l.b1]),l.xD([l.pl,l.ff(l.f7)])],subActions:()=>[{key:"collection duplication options",render:e=>(0,m.jsx)(s.Z,{...e}),actions:A.actions}]}),A=(0,u.$J)({key:"duplicate collection to private actions",title:u.RE.duplicateName,render:e=>(0,m.jsx)(s.Z,{...e}),actions:[(0,u.cN)({key:"duplicate with data",displayName:u.RE.duplicateCollectionWithDataName,analyticsName:"",validators:[],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:n}=e;await P(t,n,!1)}}),(0,u.cN)({key:"duplicate schema only",displayName:u.RE.duplicateCollectionSchemaOnlyName,analyticsName:"",validators:[],closeParentMenu:!0,action:async e=>{let{blocks:t,environment:n}=e;await P(t,n,!0)}})]}),T=(e,t,n)=>{if(!d.M_(t))return;const a=e[0].getParentStore();"block"!==(null==a?void 0:a.table)&&"team"!==(null==a?void 0:a.table)&&"space"!==(null==a?void 0:a.table)||o.VE({environment:t,store:e[0],newParent:a,duplicateOnlyCollectionSchema:n})},P=async(e,t,n)=>{if(!d.M_(t))return;const a=e[0],i=r.default.state.currentSpaceStore,s=r.default.state.currentSpaceViewStore;i&&s&&await o.DK({environment:t,store:a,spaceStore:i,spaceViewStore:s,isPrivate:!0,context:"duplicate_to_private_space",duplicateOnlyCollectionSchema:n})}},89666:(e,t,n)=>{n.d(t,{d:()=>c});var a=n(4970),o=n(68939),i=n(42858),s=n(19037),l=n(62967);const r=(0,o.defineMessages)({fullScreenName:{id:"action.fullScreen.name",defaultMessage:"Full screen"}}),c=(0,l.cs)({key:"full screen",displayName:r.fullScreenName,analyticsName:r.fullScreenName.defaultMessage,svg:a.A,validators:[s.U7,s.Cj,s.IT,s.ff(s.D)],shortcuts:["space"],closeParentMenu:!0,action:e=>i.dK(e)})},71247:(e,t,n)=>{n.d(t,{A:()=>S,Q:()=>N});n(67294);var a=n(21566),o=n(97880),i=n(68939),s=n(50906),l=n(11302),r=n(64964),c=n(93405),d=n(1951),u=n(26388),m=n(19037),p=n(28020),f=n(43250),g=n(98742),v=n(75770),y=n(80444),h=n(62967),k=n(85893);const b=(0,i.defineMessages)({moveToName:{id:"action.moveTo.name",defaultMessage:"Move to"}}),N=(0,h.cs)({key:"move page to",displayName:b.moveToName,analyticsName:b.moveToName.defaultMessage,shortcuts:["moveTo"],validators:[m.ff(m.q4)],closeParentMenu:!0,action:e=>{let{environment:t,publicEditMode:n,lazyDependencies:a}=e;const{mainEditorCurrentBlockStore:o}=y.default.state;if(!o)return;const i=S.validators||[],s=document.querySelector(`.${f.mSZ}`);if(!s)return;const l={environment:t,blocks:[o],originRect:s.getBoundingClientRect(),publicEditMode:n,lazyDependencies:a};i.every((e=>e(l)))&&S.action(l)}}),S=(0,h.cs)({key:"move to",displayName:b.moveToName,analyticsName:b.moveToName.defaultMessage,svg:a.q,shortcuts:["moveTo"],validators:[...l.z1()],closeParentMenu:!0,render:(e,t)=>{const{environment:n,blocks:o}=t,s=v.hD({environment:n,blocks:o}),l=s.canMoveBlocks?void 0:M(s.reason),r=Boolean(l);return(0,k.jsx)(u.Z,{placement:u.Z.Placement.Right,textWrap:!0,style:{maxWidth:240},disableTooltip:!r,renderTooltip:()=>l,render:t=>(0,k.jsx)(c.Z,{...(0,g.Z)(e,t),svg:a.q,title:(0,k.jsx)(i.FormattedMessage,{...b.moveToName}),disabled:r,disabledFeedback:r,shortcut:"moveTo"})})},action:async e=>{const{environment:t}=e,n=v.hD({environment:t,blocks:e.blocks});if(!n.canMoveBlocks){const{reason:t}=n;return void function(e){let{environment:t,reason:n}=e;switch(r.oV({label:M(n)}),n.key){case"lockedTopLevelTeamPage":s.fW6(t,{type:"locked_top_level_team"});break;case"needsFullAccess":case"needsEditAccessOnParent":case"unknown":s.fW6(t,{type:"no_permission"});break;default:(0,o.t1)(n)}}({environment:e.environment,reason:t})}let a=[];const i=y.default.state.mainEditorCurrentBlockStore,c=p.np();e.blocks.length>0&&e.blocks[0]!==i?a=e.blocks:c&&(a=[c]),e.environment.device.isMobileNative?await l.$X({environment:e.environment,blocks:a,originRect:e.originRect,moveToContext:"action_menu"}):l.bA({environment:e.environment,blocks:a,originRect:e.originRect,moveToContext:"action_menu"})}});function M(e){var t;switch(e.key){case"needsFullAccess":return(0,k.jsx)(i.FormattedMessage,{id:"blockMenu.moveTo.disabled.fullAccess.reason",defaultMessage:'You need "Full access" to this page to move it.'});case"needsEditAccessOnParent":return null!==(t=e.parentStore)&&void 0!==t&&t.canRead()?(0,k.jsx)(i.FormattedMessage,{id:"blockMenu.moveTo.disabled.editAccessOnParent.reasonWithParentName",defaultMessage:"You need edit access to {parentPageName} to move this page.",values:{parentPageName:(0,k.jsx)(d.Z,{store:e.parentStore,useInvertedColors:!0})}}):(0,k.jsx)(i.FormattedMessage,{id:"blockMenu.moveTo.disabled.editAccessOnParent.reason",defaultMessage:"You need edit access to the parent page to move this page."});case"unknown":return(0,k.jsx)(i.FormattedMessage,{id:"action.doNotHavePermissionToMoveBlock",defaultMessage:"You do not have permission to move this page."});case"lockedTopLevelTeamPage":return(0,k.jsx)(i.FormattedMessage,{id:"action.isLockedTopLevelTeamPage",defaultMessage:"This teamspace has its sidebar locked. You must be a teamspace owner to move this page."});default:(0,o.t1)(e)}}},34658:(e,t,n)=>{n.d(t,{Jw:()=>b,KB:()=>N,OW:()=>w,Qk:()=>M,oL:()=>S,sN:()=>k});var a=n(15145),o=n(9999),i=n(31490),s=n(32240),l=n(21202),r=n(70279),c=n(68939),d=n(72711),u=n(75018),m=n(19037),p=n(84210),f=n(80444),g=n(88923),v=n(62967);const y=(0,c.defineMessages)({openInFullPage:{id:"action.navigation.openInFullPage",defaultMessage:"Open in full page"},openInSidePeek:{id:"action.navigation.openInSidePeek",defaultMessage:"Open in side peek"},openInNewTab:{id:"action.openInNewTab.name",defaultMessage:"Open in new tab"},openInNewWindow:{id:"action.openInNewWindow.name",defaultMessage:"Open in new window"}}),h=e=>{var t;const n=e.blocks[0];if(!n)return!1;if(null!==(t=n.getModel())&&void 0!==t&&t.isNavigableBlock())return!0;if(n.isType("alias")){var a;const e=null===(a=n.getAliasTargetStore())||void 0===a?void 0:a.getModel();if((null==e?void 0:e.table)===l.iU&&null!=e&&e.isNavigableBlock())return!0}return!1},k=(0,v.cN)({key:"open in full page",displayName:y.openInFullPage,analyticsName:y.openInFullPage.defaultMessage,svg:i.M,validators:[m.U7,h,e=>g.default.isSidePeekOpen()],closeParentMenu:!0,action:e=>{const t=e.blocks[0],n=t.getAliasTargetStore()??t;if(n.table===r.x_)return;const o=(0,p.ZP)({store:n,pageVisitSource:a.tY.LinkInPage});u.navigate({environment:e.environment,url:o})}}),b=(0,v.cs)({key:"open side peek",displayName:y.openInSidePeek,analyticsName:y.openInSidePeek.defaultMessage,svg:s.y,shortcuts:["openInSidePeek"],validators:[m.U7,h,m.ff(m.tq),m.ff(m.mq)],closeParentMenu:!0,action:e=>{var t;const n=e.blocks[0];if(!(null===(t=f.default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.id))return;const o=n.getAliasTargetStore()??n;if(o.table===r.x_)return;const i=(0,p.ZP)({store:o,openInSidePeek:!0,peekViewBlockId:o.id,peekMode:"s",pageVisitSource:a.tY.PeekOpen});u.navigate({environment:e.environment,url:i})}}),N=(0,v.cs)({key:"navigate to page in new tab",analyticsName:"Navigate to page in new tab",displayName:y.openInNewTab,svg:o.J,validators:[m.U7,m.DF,m.ff(m.tq),m.ff(m.K5)],shortcuts:["commandShiftEnter"],closeParentMenu:!0,action:e=>{let{blocks:t,environment:n}=e;d.ru({environment:n,blocks:t,openInNew:"tab",pageVisitSource:a.tY.LinkInPage})}}),S=(0,v.cN)({key:"navigate to page in new window",analyticsName:"Navigate to page in new window",displayName:y.openInNewWindow,svg:o.J,validators:[m.U7,m.DF,m.tY,m.ff(m.vj),m.ff(m.tq),m.ff(m.K5)],closeParentMenu:!0,action:e=>{let{blocks:t,environment:n}=e;d.ru({environment:n,blocks:t,openInNew:"window",pageVisitSource:a.tY.LinkInPage})}}),M=(0,v.cs)({key:"go up one page",analyticsName:"Go up one page",displayName:void 0,validators:[m.Tx],shortcuts:["peekUp"],closeParentMenu:!0,action:()=>u.goUpInPeekMode()}),w=(0,v.cs)({key:"go down one page",analyticsName:"Go down one page",displayName:void 0,validators:[m.Tx],shortcuts:["peekDown"],closeParentMenu:!0,action:()=>u.goDownInPeekMode()})},6471:(e,t,n)=>{n.d(t,{$:()=>u,g:()=>m});var a=n(41432),o=n(53470),i=n(68939),s=n(43008),l=n(52771),r=n(19037),c=n(62967);const d=(0,i.defineMessages)({renameName:{id:"action.rename.name",defaultMessage:"Rename"}}),u=(0,c.cs)({key:"rename page",displayName:d.renameName,analyticsName:d.renameName.defaultMessage,svg:o.H,validators:[r.YZ,r.k5,r.U7,r.DF,r.ff(r.Nn),r.ff(r.p1),r.ff(r.Vw),r.ff(r.P9(a.Ti.externalObjectInstancePage)),r.ff(r.K5),r.ff(r.q4)],shortcuts:["rename"],closeParentMenu:!0,action:e=>{const{blocks:t,originRect:n}=e;if(t.length>0)return l.$({blockStore:t[0],originRect:n})}}),m=(0,c.cs)({key:"rename file",displayName:d.renameName,analyticsName:d.renameName.defaultMessage,svg:o.H,validators:[r.J5,r.U7,r.$H,r.ff(r.j2("table"))],shortcuts:["rename"],closeParentMenu:!0,action:e=>{const{blocks:t,originRect:n}=e;if(t.length>0)return s.g({blockStore:t[0],originRect:n})}})},41670:(e,t,n)=>{n.d(t,{L9:()=>M,B:()=>S});var a=n(41432),o=n(69619),i=n(68939),s=(n(57658),n(72126)),l=n(23867),r=n(91791),c=n(95477),d=n(65598),u=n(58202),m=n(54642),p=n(54532),f=n(94419),g=n(42858),v=n(24677),y=n(39699);function h(e){return u.R.find((t=>t instanceof r.Z&&t.props.store===e))}var k=n(19037),b=n(62967);const N=(0,i.defineMessages)({unsyncTransclusionReferenceName:{id:"action.unsyncTransclusionReference.name",defaultMessage:"Unsync"},unsyncTransclusionReferenceFuzzySearch:{id:"action.unsyncTransclusionReference.fuzzySearchKeywords",defaultMessage:"Unsync ungroup"},unsyncTransclusionContainerName:{id:"action.unsyncTransclusionContainerName.name",defaultMessage:"Unsync all"},unsyncTransclusionContainerFuzzySearch:{id:"action.unsyncTransclusionContainer.fuzzySearchKeywords",defaultMessage:"Unsync all ungroup"}}),S=(0,b.cs)({key:"unsyncTransclusionReference",displayName:N.unsyncTransclusionReferenceName,analyticsName:N.unsyncTransclusionReferenceName.defaultMessage,fuzzySearchKeywords:N.unsyncTransclusionReferenceFuzzySearch,svg:o.T,validators:[k.J5,k.FY,k.U7],shortcuts:["ungroup"],closeParentMenu:!0,action:e=>{!async function(e){const{environment:t,store:n}=e,a=n.getRecordStoreUIParent(),o=n.getTransclusionReferenceTargetStore();if(!a||!(0,d.dz)(a)||!o)return;const i=h(o);i&&await i.confirmUnsyncTransclusionReference()&&y.createAndCommit({userAction:"transclusionActions.unsyncTransclusionReference",environment:t,perform:e=>{const i=o.getContentStores().map((n=>{const[o,i]=p.Qi({environment:t,stores:[n],addCopyName:!1,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!1,targetSpaceId:(0,l.C)(n.pointer.spaceId),baseUrl:c.default.domainBaseUrl,publicDomainName:c.default.publicDomainName,preferDuplicateLocation:"local",useCrdt:a.getRecordStoreAtRootPath().useCrdt()});return o[0]})),r=s.d9(i).reverse().map((t=>{const{child:o}=f.BE({parent:a,insert:t,after:n,transaction:e});return o}));g.Od({store:n,transaction:e}),v.Z5({environment:t,stores:r})}})}({environment:e.environment,store:e.blocks[0]})}}),M=(0,b.cs)({key:"unsyncTransclusionContainer",displayName:N.unsyncTransclusionContainerName,analyticsName:N.unsyncTransclusionContainerName.defaultMessage,fuzzySearchKeywords:N.unsyncTransclusionContainerFuzzySearch,svg:o.T,validators:[k.J5,k.P9(a.Ti.transclusionContainer),k.U7],shortcuts:["ungroup"],closeParentMenu:!0,action:e=>{!async function(e){const{environment:t,store:n}=e,a=h(n),o=n.getRecordStoreUIParent();if(!o||!(0,d.dz)(o)||!a)return;if(!(await a.confirmUnsyncTransclusionContainer()))return;const i=n.getContentStores();y.createAndCommit({userAction:"transclusionActions.unsyncTransclusionContainer",environment:t,canUndo:!1,perform:e=>{const a=i.map((n=>{const[a,i]=p.Qi({environment:t,stores:[n],addCopyName:!1,transaction:e,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!1,targetSpaceId:(0,l.C)(n.pointer.spaceId),baseUrl:c.default.domainBaseUrl,publicDomainName:c.default.publicDomainName,preferDuplicateLocation:"local",useCrdt:o.getRecordStoreAtRootPath().useCrdt()});return a[0]})),r=s.d9(a).reverse().map((t=>{const{child:a}=f.BE({parent:o,insert:t,after:n,transaction:e});return a}));g.Od({store:n,transaction:e}),v.Z5({environment:t,stores:r}),e.postSubmitCallbacks.push((async e=>{e||await m.deleteBlocks(t,{blocks:[{id:n.id,spaceId:(0,l.C)(n.pointer.spaceId)}],permanentlyDelete:!1})}))}})}({environment:e.environment,store:e.blocks[0]})}})},11732:(e,t,n)=>{n.d(t,{g:()=>y,s:()=>v});n(67294);var a=n(41432),o=n(72126),i=n(97880),s=n(68939),l=n(39699),r=n(68422),c=n(47099),d=n(72495),u=n(19037),m=n(40959),p=n(62967),f=n(85893);const g={column_list:!0,transclusion_container:!0},v=(0,s.defineMessages)({turnIntoSection:{id:"action.section.turnInto",defaultMessage:"Turn into"}}),y=(0,p.$J)({key:"turn into actions",title:v.turnIntoSection,render:e=>(0,f.jsx)(d.Z,{...e}),actions:[...(0,i.Yd)(a.Zi),...Object.values(a.MF)].map((e=>function(e){const t=m.Hc[e],n=g[e];return{key:`turn into ${e}`,displayName:t.displayName,analyticsName:t.analyticsName,analyticsActionType:"turn_block_into",searchName:t.searchName,validators:o.oA([u.J5,n?void 0:u.wF,u.XQ,"transclusion_container"===e?u.xD([u.ff(u.wT),h]):void 0,(0,a.sX)(e)?e=>1===e.blocks.length:void 0,(0,a.UW)(e)?e=>!1:void 0,"column_list"===e?e=>{if(!e.blocks)return!1;const t=e.blocks.length;if(t<2||t>5)return!1;const n=e.blocks[0].getParentBlockStore();if(!n)return!1;const a=e.blocks.map((e=>{const t=e.getParentBlockStore();return(null==t?void 0:t.id)!==n.id?-1:n.getRenderableContentIds().indexOf(e.id)}));for(let o=0;o<a.length;o++)if(o>0&&a[o-1]+1!==a[o])return!1;return!0}:void 0,(0,a.Fx)(e)?()=>!0:void 0,"mermaid_code_block"===e?()=>!1:void 0]),shortcuts:"transclusion_container"===e?["group"]:void 0,closeParentMenu:!0,action:t=>{let{environment:n,blocks:a}=t;l.createAndCommit({userAction:`actionRegistry.turnIntoAction.${e}`,environment:n,perform:t=>{r.Cj({environment:n,blocks:a,blockType:e,transaction:t})}})},render:(e,n)=>{const a=function(e,t){const n=e.blocks[0];if(!n)return!1;const a=n.getType()===t.blockType;if(a&&("header"===t.blockType||"sub_header"===t.blockType||"sub_sub_header"===t.blockType)){const e=n.getFormat().toggleable;return!(e&&!t.key.includes("toggle"))&&!(!e&&t.key.includes("toggle"))}return a}(n,t);return(0,f.jsx)(c.Z,{...e,...t,title:t.displayName,format:c.Q.TurnInto,selected:a})},nativeRender:e=>({thumbnail:t.thumbnail})}}(e)))});function h(e){return!u.KL(e)||u.D(e)&&u.EC(e)}},41216:(e,t,n)=>{n.d(t,{Z:()=>f});var a=n(67294),o=n(480),i=n(24405),s=n(8848),l=n(82990),r=n(80025),c=n(33929),d=n(52275),u=n(58261),m=n(85893);function p(e,t){window.__c={n:"BlockColorMenuItem"};const n=(0,o.Fy)(),{color:p,overrideDisplayName:f,right:g,shortcuts:v}=e,y=f||c.default.formatMessage((0,r.qf)(p)),h=!n.isMobile&&v&&v[0],k=(0,i.yK)((e=>({icon:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:22,height:22,textAlign:"center",fontSize:16,borderRadius:4,fontWeight:l.Z.fontWeight.medium,boxShadow:e.innerBorderBoxShadow,...(0,s.fi)(p,e)},shortcut:{color:e.lightTextColor,fontSize:12,whiteSpace:"nowrap"}})),[p]),b=(0,a.useCallback)((()=>(0,m.jsx)("div",{style:k.icon,"aria-hidden":"true",children:"A"})),[k.icon]);return(0,m.jsx)(d.Z,{...e,ref:t,title:y,icon:b(),dontShrinkRight:!0,right:g||h&&(0,m.jsx)(u.Z,{name:h,style:k.shortcut})})}const f=a.forwardRef(p)},47099:(e,t,n)=>{n.d(t,{Q:()=>N,Z:()=>M});var a=n(67294),o=n(480),i=n(24405),s=n(8848),l=n(36591),r=n(11751),c=n(25666),d=n(68939),u=n(47853),m=n(98742),p=n(52275),f=n(73420),g=n(12981),v=n(26388),y=n(82990),h=n(85893);const k=function(e){window.__c={n:"FrontNewBadge"};const t=(0,i.Fg)();return(0,h.jsx)("div",{style:{alignSelf:"center",marginBottom:!1===e.margin?0:8,padding:"1px 3px",background:t.redBadgeBackground,color:s.ZP.white,borderRadius:4,marginLeft:!1===e.margin?0:6,fontSize:9,lineHeight:1.3,textTransform:"uppercase",fontWeight:y.Z.fontWeight.semibold,letterSpacing:.5},children:(0,h.jsx)(d.FormattedMessage,{id:"newBadge.label",defaultMessage:"New"})})};var b=n(60442);let N=function(e){return e[e.Insert=0]="Insert",e[e.TurnInto=1]="TurnInto",e}({});function S(e,t){window.__c={n:"BlockMenuItem"};const n=(0,o.Fy)(),{badge:y,description:S,format:M,selected:w,title:A,thumbnail:T,tooltipPhoto:P}=e,x=M===N.Insert,C=(0,i.yK)((e=>({thumbnail:{display:"block",width:x?46:22,height:x?46:22,borderRadius:4,flexGrow:0,flexShrink:0,boxShadow:e.borderBoxShadow,background:s.ZP.white},selected:{width:14,padding:"1px 1px"},titleDiv:{display:"flex",alignItems:"center"}})),[x]),R=(0,a.useCallback)((()=>{const e=(0,u.D)(T)||c.T;return(0,h.jsx)(g.Z,{src:e,style:C.thumbnail})}),[T,C.thumbnail]),I=(0,a.useCallback)((n=>(0,h.jsx)(p.Z,{...(0,m.Z)(n||{},e),ref:t,right:w&&(0,h.jsx)("div",{style:C.selected,children:(0,l.e)()}),title:(0,h.jsxs)("div",{style:C.titleDiv,children:[(0,h.jsx)("span",{style:{marginRight:6},children:A}),!w&&"new"===y&&(0,h.jsx)(k,{margin:!1}),!w&&"ai"===y&&(0,h.jsx)("div",{style:{color:s.FN.light.purple[500]},children:(0,h.jsxs)(f.X2,{gap:4,alignItems:"center",children:[(0,r.t)({fill:s.FN.light.purple[500],width:14,height:14}),(0,h.jsx)(d.FormattedMessage,{id:"blockMenuItem.aiBadge",defaultMessage:"AI"})]})})]}),icon:R(),caption:x&&S})),[t,y,R,S,x,e,w,C,A]),_=(0,a.useCallback)((()=>{const e=P?(0,u.D)(P):void 0;return(0,h.jsx)(b.Z,{imageURL:e,imageWidth:e?140:void 0,imageHeight:100,caption:S})}),[P,S]);return n.isMobile?I():(0,h.jsx)(v.Z,{renderTooltip:_,placement:v.Z.Placement.Right,delayThreshold:0,render:e=>I(e)})}const M=a.forwardRef(S)},95083:(e,t,n)=>{n.d(t,{D:()=>o,d:()=>a});const a={text:!0,bulleted_list:!0,numbered_list:!0,quote:!0,to_do:!0,header:!0,sub_header:!0,sub_sub_header:!0,callout:!0,toggle:!0,table:!0,equation:!0,code:!0},o={...a}},51783:(e,t,n)=>{n.d(t,{Bo:()=>W,eQ:()=>L,QG:()=>X,ol:()=>ie,fn:()=>q,_W:()=>se,vs:()=>le,O2:()=>V,UF:()=>oe,Z3:()=>Q,w1:()=>re,rZ:()=>G,s0:()=>Y,GH:()=>ne,pk:()=>te,i2:()=>ae,$$:()=>$,LQ:()=>O,$3:()=>z,y6:()=>J,Tz:()=>K,oQ:()=>H,Oh:()=>ce});var a=n(70203),o=n(11342),i=n(50906),s=n(6404),l=n(36280),r=n(45990),c=n(67060),d=n(28020),u=n(27724),m=n(31781),p=n(42858),f=n(24677),g=n(39699),v=n(53471);var y=n(1892),h=n(993),k=n(98724),b=n(98104),N=n(92022),S=n(18821),M=n(45162),w=n(24646),A=n(38676),T=n(41662),P=n(5162),x=n(80444),C=n(3418),R=n(19111),I=n(19671),_=n(56638),B=n(55320),E=n(24666),F=n(19037),Z=n(68056),D=n(67669),j=n(73959),U=n(89086);function O(e){const{environment:t}=e,{isMobileNative:n,osVersion:a,isIOS:i}=t.device;return!!n&&(!i||!o.isLessThanVersion(a,[14,0]))}const z=(e,t,n)=>{var a;const{NativeMobileActionBarStore:o}=e,i=Boolean(null==o?void 0:o.state.enableShouldShowDebugging);if(!((e,t,n)=>{const{device:a,NativeMobileActionBarStore:o}=e,i=Boolean(null==o?void 0:o.state.enableShouldShowDebugging);return a.isMobile?B.default.state.open?(de(i,"canShowMobileActionBar = false (reason: quickFindOpen)"),!1):I.Z.state.isOpen?(de(i,"canShowMobileActionBar = false (reason: blockPropertyOverlayOpen)"),!1):!a.isMobileNative&&R.Z.state.open?(de(i,"canShowMobileActionBar = false (reason: !device.isMobileNative && MentionMenuStore.state.open)"),!1):E.default.isEditingComment()?(de(i,"canShowMobileActionBar = false (reason: TextSelectionStore.isEditingComment())"),!1):!_.Z.state.open&&O({environment:e})&&C.Z.hasOpenPopups()?(de(i,"canShowMobileActionBar = false (reason: !PageTemplateModalStore.state.open && isNativeMobileActionBarAvailable({ environment }) && GlobalPopupStore.hasOpenPopups() > 0)"),!1):w.in(e)&&A.sidebarOpenStore.state?(de(i,"canShowMobileActionBar = false (reason: sidebarHelpers.sidebarIsExpanded(environment) && sidebarOpenStore.get()"),!1):(0,F.ry)()?!!(0,F.J5)({environment:e,blocks:[t],publicEditMode:n})||(de(i,"canShowMobileActionBar = false (reason: !_canEdit)"),!1):(de(i,"canShowMobileActionBar = false (reason: !currentPageIsNotLocked())"),!1):(de(i,"canShowMobileActionBar = false (reason: !device.isMobile)"),!1)})(e,t,n))return de(i,"shouldShowMobileActionBar = false (reason: !canShowMobileActionBar)"),{canShow:!1,canShowNativeBar:!1,shouldShow:!1};const s=O({environment:e});if(o&&null!==o.state.menuType&&!(0,d.JE)())return de(i,"shouldShowMobileActionBar = true (reason: NativeMobileActionBarStore && NativeMobileActionBarStore.state.menuType !== null"),{canShow:!0,canShowNativeBar:s,shouldShow:!0};const l=E.default.state;if("editing"!==l.mode)return de(i,"shouldShowMobileActionBar = false (reason: TextSelectionStore.state.mode !== editing"),{canShow:!0,canShowNativeBar:s,shouldShow:!1};const r=l.multiSelection,c=(0,M.L5)(r),u=c.some((e=>e.editable.props.disableStyleAnnotations)),m=c.some((e=>e.editable.props.disableMobileActionBar)),p=c.some((e=>e.editable.props.disableComment));return c&&m?(de(i,"shouldShowMobileActionBar = false (reason: !renderedBlocks || !disableMobileActionBar)"),{canShow:!0,canShowNativeBar:s,shouldShow:!1}):(de(i,"shouldShowMobileActionBar = true"),{shouldShow:!0,canShowNativeBar:s,disableStyleAnnotations:u,disableComment:p,isEmpty:(0,Z.iG)(r)&&0===r.end.index&&0===(null===(a=(0,U.x0)(r.end.store))||void 0===a?void 0:a.endIndex)})};function K(e){const{environment:t,store:n}=e,{isPhone:a}=t.device,o=x.default.state.currentLoadingContainerStore,i=Boolean(n&&n.isCollectionView()),s=Boolean(n&&n.getParentCollectionStore()),l=t.currentUser.isLoggedIn(),r=_.Z.state.open;return Boolean(!s&&!i&&!r&&a&&n&&o&&n.isDefined()&&n.canEdit()&&!n.hasContent()&&l&&o.state.ready)}const H=(e,t)=>{const n=E.default.state;if("editing"===n.mode)return!t.state.isComposing&&!(0,Z.iG)(n.multiSelection)||T.g$.getSimpleTableCellFromTextSelection();const a=e.state.savedTextSelectionStoreState;return!(!a||"editing"!==a.mode)&&!(0,Z.iG)(a.multiSelection)},J=e=>{const{NativeMobileActionBarStore:t,device:n}=e;return Boolean(t&&null!==t.state.menuType&&!n.isTablet&&!n.isAndroid&&!(0,P.Y)("supportsMobileActionBarNativeActionMenuWithoutIgnoreSelectionArea"))},W=e=>{if((0,D.YF)(e))return!1;const{stores:t}=u.default.state;return t.length>0&&t[0].canEdit()&&!t[0].isNavigableBlock()&&!Boolean(T.g$.getSimpleTableCellFromTextSelection())},L=(e,t)=>!(0,D.YF)(e)&&t.canEdit(),V=e=>{if("editing"!==E.default.state.mode)return;const t=(0,j.sQ)(E.default.state.multiSelection.start.store);t&&g.createAndCommit({userAction:"mobileActionBarHelpers.handleIndent",environment:e,perform:n=>{h.n2({environment:e,transaction:n,shiftKey:!1,closestSelectable:t})}}),ce(e,"indent")},$=e=>{if("editing"!==E.default.state.mode)return;const t=(0,j.sQ)(E.default.state.multiSelection.start.store);t&&g.createAndCommit({userAction:"mobileActionBarHelpers.handleUnindent",environment:e,perform:n=>{h.n2({environment:e,transaction:n,shiftKey:!0,closestSelectable:t})}}),ce(e,"unindent")},Y=e=>{g.createAndCommit({userAction:"mobileActionBarHelpers.handleMoveUp",environment:e,perform:t=>{h.fs({environment:e,transaction:t,direction:"up"})}}),ce(e,"move-up")},G=e=>{g.createAndCommit({userAction:"mobileActionBarHelpers.handleMoveDown",environment:e,perform:t=>{h.fs({environment:e,transaction:t,direction:"down"})}}),ce(e,"move-down")},q=e=>{const t=u.default.state.stores[0],n=E.default.state;if(t&&"editing"===n.mode){const{multiSelection:a}=n,o=(0,U.hn)(a.end.store)||(0,U.mK)(a.start.store);g.createAndCommit({userAction:"mobileActionBarHelpers.handleDelete",environment:e,perform:e=>{p.Od({store:t,transaction:e})}});if(T.g$.getSimpleTableCellFromTextSelection())g.createAndCommit({userAction:"mobileActionBarHelpers.handleDelete",environment:e,perform:t=>{T.HM.clearSelectedCell({environment:e,transaction:t})}});else if(o){const t=(0,j.sQ)(o);f.eP({environment:e,store:t}),f.Db(e)}else f.ZH(e);ce(e,"remove")}},Q=e=>{c.lZ(e,{page:!0,heading:!0,createPage:!0,user:!0,inviteUser:!1,bot:!0,date:!0,reminder:!0,templateVariable:!0,group:!0}),ce(e,"mention")},X=e=>{ee(e),(0,N.toggleInitialPrompt)({from:"mobile_action_bar",environment:e}),ce(e,"ai")},ee=e=>{if(1!==u.default.state.stores.length)return;const t=E.default.state;if("empty"!==t.mode&&(0,Z.iG)(t.multiSelection)){const n=t.multiSelection.start.store;b.mT({environment:e,store:n,canSelectAllBlocks:!1})}},te=(e,t)=>{k.aS({environment:e,annotation:t}),ce(e,t[0])},ne=e=>{y.KX(e),ce(e,"redo")},ae=e=>{y.Yw(e),ce(e,"undo")},oe=e=>{r.dz({type:"focusOnly",focus:!0}),ce(e,a.GKr.Link)},ie=(e,t,n)=>{let a=!1;const o=u.default.state.stores[0];if(o){if(t){const t=E.default.state,i="empty"!==t.mode&&t.multiSelection;if(!i)return;a=!0,S.WD({environment:e,blockStore:o,multiSelection:i}),ce(e,"comment",n)}a||(S.yw({environment:e,blockStore:o}),ce(e,"discuss",n))}},se=e=>{l.qn({environment:e,analyticsFrom:"rich_text_menu"}),ce(e,"equation")},le=e=>{!async function(e){const t=u.default.state.stores,n=await v.y({multiple:!0,accept:e.device.isIOS?"image/*, video/*":"image/*"}),a=u.default.getCurrentRecordCache(),o=d.qQ(e);0!==n.length&&a&&g.createAndCommit({userAction:"mobileActions.takePicture",environment:e,perform:i=>{var s,l;const r=m.z({environment:e,files:n,inMemoryRecordCache:a,pageWidth:o,transaction:i,spaceId:0!==t.length?t[0].pointer.spaceId:null===(s=(0,d.RM)())||void 0===s?void 0:s.pointer.spaceId,useCrdt:0!==t.length?t[0].useCrdt():(null===(l=(0,d.RM)())||void 0===l?void 0:l.useCrdt())??!1});p.is({environment:e,blocks:r,selection:t,transaction:i,replaceEmptyTextBlock:!0}),f.ZH(e)}})}(e),ce(e,"take_picture")},re=(e,t,n)=>{f.Z5({environment:e,stores:u.default.state.stores}),t&&n?s.Qn({environment:e,stores:u.default.state.stores,actionSectionGroupKey:"default",left:t,top:n,showInput:!1,analyticsFrom:"mobile_more_menu"}):s.$Z({environment:e,stores:u.default.state.stores,actionSectionGroupKey:"default",showInput:!1,analyticsFrom:"mobile_more_menu"}),ce(e,"more")},ce=(e,t,n)=>{i.YOV(e,{itemName:t,from:n})};function de(e,t){e&&console.log(t)}},56638:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(49085);class o extends a.default{getInitialState(){return{open:!1}}}const i=new o}}]);