"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[2426],{32603:(e,t,o)=>{o.r(t),o.d(t,{measureSubMetricsInBrowserProfiler:()=>c,setInitialRenderCompleted:()=>d,setSubMetric:()=>a,setSubMetricsAtRenderCallback:()=>s,updateMetricData:()=>l});var i=o(5809),n=o(83055),r=o(77144);function s(e){const{mainStartTime:t,prefetchInitiatedTime:o,renderStartTime:n,renderEndTime:s,mainImportEndTime:a}=e,l=(0,i.$)();if(!l)return;const d={app_start_to_main_start:{startTime:l,endTime:t},main_start_to_prefetch_initiated:{startTime:t,endTime:o},prefetch_initiated_to_render_start:{startTime:o,endTime:n},render_start_to_render_end:{startTime:n,endTime:s},import_start:{startTime:0,endTime:t},import_start_to_prefetch_stage_completion:{startTime:t,endTime:o},main_import:{startTime:t,endTime:a},react_render:{startTime:n,endTime:s}};r.Z.state.subMetrics.update((e=>({...e,...d})))}function a(e){const{name:t,endTime:o}=e,i=e.startTime(r.Z.state.subMetrics.state);i&&r.Z.state.subMetrics.update((e=>({...e,[t]:{startTime:i,endTime:o}})))}function l(e){r.Z.state.metricData.update((t=>({...t,...e})))}function d(){r.Z.update((e=>({...e,initialRenderCompleted:!0})))}function c(){for(const[t,o]of Object.entries(n.D9())){if(!o)break;try{window.performance.measure(t,{start:o.startTime,end:o.endTime})}catch(e){}}}},61916:(e,t,o)=>{o.d(t,{YT:()=>d,kQ:()=>l,nI:()=>c,vn:()=>s});var i=o(70203),n=o(96802),r=o(39699);function s(e){if(e){const t=(0,i.QaF)(e.getValue());return Boolean(t)}return!1}function a(e){if(e){const t=e.getSettings();if(t&&t.hidden_collection_descriptions)return t.hidden_collection_descriptions}return[]}function l(e){const{environment:t,store:o,value:i}=e;r.createAndCommit({userAction:"PageViewBlock.setCollectionViewPageDescription",environment:t,perform:e=>{n.FH({stores:[o],update:{hide_collection_view_page_description:i},transaction:e})}})}function d(e){const{environment:t,pageId:o,isExpanded:i,store:n,userSettingsStore:l,descriptionStore:d}=e,c=n.state.isExpanded;n.setState({isExpanded:i});s(d)&&l&&c!==i&&r.createAndCommit({userAction:"pageDescriptionActions.setExpanded",environment:t,perform:e=>{if(i){const t={pointer:{table:"user_settings",id:l.id},path:["settings","hidden_collection_descriptions"],command:"listRemove",args:{id:o}};r.applyOperation({store:l,transaction:e,operation:t})}else{const t={pointer:{table:"user_settings",id:l.id},path:["settings","hidden_collection_descriptions"],command:"listAfter",args:{id:o}};r.applyOperation({store:l,transaction:e,operation:t});let i=a(l);for(;i.length>1e3;){const t=i[0],o={pointer:{table:"user_settings",id:l.id},path:["settings","hidden_collection_descriptions"],command:"listRemove",args:{id:t}};r.applyOperation({store:l,transaction:e,operation:o}),i=a(l)}}}})}function c(e){const{pageId:t,store:o,userSettingsStore:i,descriptionHasText:n}=e;let r=n;a(i).includes(t)&&(r=!1),o.setState({isExpanded:r})}},59389:(e,t,o)=>{o.d(t,{T_:()=>y,Ud:()=>f,eV:()=>m});var i=o(1302),n=o(45953),r=o(42),s=o(58202),a=o(50906),l=o(41433),d=o(96802),c=o(94419),p=o(9953),u=o(24677),h=o(98104),g=o(68422);function m(e){const{environment:t,store:o,transaction:n,preventTextSelection:r,onTextSelection:s}=e,l=o.useCrdt(),d=p.j4({environment:t,type:"text",inMemoryRecordCache:o.inMemoryRecordCache,transaction:n,spaceId:o.pointer.spaceId,useCrdt:l}),g=c.R3({parent:o.getContentStore(),append:d,transaction:n}).child;return r||i.default.afterNextFlush((()=>{u.eP({environment:t,store:g}),h.N_({store:g.getBlockTitleStore()}),null==s||s()})),a.W2j(t,{from:"template_picker",type:"text"}),g}function y(e){const{environment:t,store:o,transaction:i}=e;d.is({store:o,transaction:i}),m({environment:t,store:o,transaction:i})}function f(e){var t;const{environment:o,store:d,viewType:c,transaction:u}=e,h=null===(t=d.getBlockTitleStore())||void 0===t?void 0:t.getValue();l.ZI({environment:o,sourceBlockId:"root",targetBlockPointer:d.pointer,sourceBlockSubtree:(0,n.R3)((0,r.iC)({isInline:!1,viewType:c})),targetRecordCache:d.inMemoryRecordCache,transaction:u,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0,useCrdt:d.useCrdt()}),g.vs({environment:o,block:d,blockType:"collection_view_page",transaction:u}),h&&p.sO({store:d.getBlockTitleStore(),value:h,transaction:u}),i.default.afterNextFlush((()=>{const e=s.R.findCollectionViewBlockFromStore(d);null==e||e.handleCreated()})),a.W2j(o,{from:"template_picker",type:"collection_view_page"})}},19977:(e,t,o)=>{o.d(t,{Z:()=>d});o(67294);var i=o(86628),n=o(68709),r=o(77907),s=o(82136),a=o(92650),l=o(85893);function d(e){window.__c={n:"MarginComments"};const{pageBlockStore:t,isVisible:o,context:d}=e,c=(0,i.VK)((()=>t.isFullWidth()||d===s.S.CollectionPageView),[d,t]);return(0,l.jsx)(n.p,{allowSelectionWithin:!0,style:{width:c&&o?a.QB:0},children:(0,l.jsx)(r.LazyMarginCommentsSection,{...e})})}},94960:(e,t,o)=>{o.d(t,{s:()=>V});var i=o(67294),n=o(1302),r=o(480),s=o(6740),a=o(86628),l=o(27961),d=o(83303),c=o(70203),p=o(68939),u=o(61916),h=o(24677),g=o(98104),m=o(31192),y=o(28020),f=o(50627),S=o(89086),v=o(80444),x=o(63971),C=o(82136),b=o(53223),M=o(23063),w=o(89728),k=o(16720),P=o(5618),j=o(35943),_=o(85893);function T(e){return"sprint_board"===e.getFormat().special_page_for_pm_launch}function V(e){window.__c={n:"CollectionPageViewBlock"};const{canEdit:t,context:o,controlHoverStyle:m,disabled:C,handleHeaderMouseEnterThrottled:b,handleHeaderMouseLeaveDebounced:V,headerControlsStyle:Z,headerFocusStore:L,isEditable:B,paddingLeft:E,paddingRight:K,pageCover:F,store:D,topControls:O}=e,A=(0,r.O7)(),N=(0,i.useMemo)((()=>new x.Z),[]),W=(0,a.VK)((()=>D.getCollectionViewSourceDescriptionStore()),[D]),H=(0,a.VK)((()=>D.getCollectionViewSourceCollectionStore()),[D]),z=(0,a.VK)((()=>u.vn(W)),[W]),U=(0,a.VK)((()=>D.getTitleStore()),[D]),$=(0,a.VK)((()=>D.getFormat()),[D]),G=(0,a.VK)((()=>T(D)),[D]),Q=i.useRef(!1);(0,i.useEffect)((()=>{if(!Q.current){Q.current=!0;const{currentUserSettingsStore:e}=v.default.state;u.nI({pageId:D.id,store:N,userSettingsStore:e,descriptionHasText:z})}}),[z,D.id,N]);const Y=(0,a.VK)((()=>{if(D.getCollectionViewSourceCollectionStore())return!0;if(!U)return!1;return!!c.QaF(U.getValue())||!!(0,S.J5)(U)}),[D,U]),q=(0,a.VK)((()=>y.qG(D.id)),[D]),X=(0,a.VK)((()=>(0,f.kC)(D,A)),[D,A]),J=(0,a.VK)((()=>(0,f.du)(D,o,A)),[D,o,A]),ee=()=>{const{currentUserSettingsStore:e}=v.default.state,t=D.id;u.YT({environment:A,pageId:t,isExpanded:!1,store:N,userSettingsStore:e,descriptionStore:W})},te=()=>{const{currentUserSettingsStore:e}=v.default.state,t=D.id;u.YT({environment:A,pageId:t,isExpanded:!0,store:N,userSettingsStore:e,descriptionStore:W})},oe=(0,a.VK)((()=>{if("sprint_board"===D.getFormat().special_page_for_pm_launch)return!0;const e=N.isExpanded();return(u.vn(W)||B)&&e}),[W,B,N,D]),ie=(0,a.VK)((()=>{if(!oe)return{type:"hidden"};if(!W)return{type:"hidden"};if(!N.isExpanded())return{type:"hidden"};const{currentUserSettingsStore:e}=v.default.state;return{type:"visible",descriptionStore:W,currentUserSettingsStore:e,collectionStore:H}}),[W,H,N,oe]),ne=(0,a.VK)((()=>D.isLocked()),[D]),re=(0,a.VK)((()=>c.QaF(null==U?void 0:U.getValue())),[U]),se=e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,s.E)(t)&&L.setState(!0)},ae=()=>{const{device:e}=A,{currentUserSettingsStore:t}=v.default.state,o=W;u.YT({environment:A,pageId:D.id,store:N,userSettingsStore:t,isExpanded:!0,descriptionStore:o}),n.default.afterNextFlush((()=>{o&&!e.isMobileBrowser&&g.NX({store:o})}))},le=()=>{L.setState(!1)},de=()=>{U&&(h.ZH(A),g.NX({store:U}))},ce=()=>{const{device:e}=A;if(B&&!H&&!re)return(0,_.jsx)(w.Z,{style:m,isLightGray:!0,onClick:de,icon:d.c,children:e.isSmallPhone?(0,_.jsx)(p.FormattedMessage,{id:"pageViewBlock.add.pageTitleMobile",defaultMessage:"Title"}):(0,_.jsx)(p.FormattedMessage,{id:"pageViewBlock.add.pageTitle",defaultMessage:"Add title"})},"add-title")},pe=()=>{const{device:e}=A;if(!G||!B)return;return Boolean($.hide_collection_view_page_description)?(0,_.jsx)(w.Z,{isLightGray:!0,style:m,onClick:()=>u.kQ({environment:A,store:D,value:!1}),icon:l.z,children:e.isSmallPhone?(0,_.jsx)(p.FormattedMessage,{defaultMessage:"Description",id:"pageViewBlock.showDescription.mobileButton"}):(0,_.jsx)(p.FormattedMessage,{defaultMessage:"Show description",id:"pageViewBlock.showDescription.button"})}):(0,_.jsx)(w.Z,{isLightGray:!0,style:m,onClick:()=>{u.kQ({environment:A,store:D,value:!0})},icon:l.z,children:(0,_.jsx)(p.FormattedMessage,{defaultMessage:"Hide description",id:"pageViewBlock.hideDescription.button"})})},ue=()=>{const{device:e}=A;if(H)return oe?(0,_.jsx)(w.Z,{isLightGray:!0,style:m,onClick:ee,icon:l.z,children:(0,_.jsx)(p.FormattedMessage,{defaultMessage:"Hide description",id:"pageViewBlock.hideDescription.button"})}):B&&!z?(0,_.jsx)(w.Z,{isLightGray:!0,style:m,onClick:ae,icon:l.z,children:e.isSmallPhone?(0,_.jsx)(p.FormattedMessage,{defaultMessage:"Description",id:"pageViewBlock.addDescription.mobileButton"}):(0,_.jsx)(p.FormattedMessage,{defaultMessage:"Add description",id:"pageViewBlock.addDescription.button"})}):z?(0,_.jsx)(w.Z,{isLightGray:!0,style:m,onClick:te,icon:l.z,children:e.isSmallPhone?(0,_.jsx)(p.FormattedMessage,{defaultMessage:"Description",id:"pageViewBlock.showDescription.mobileButton"}):(0,_.jsx)(p.FormattedMessage,{defaultMessage:"Show description",id:"pageViewBlock.showDescription.button"})}):void 0};return(0,_.jsxs)(_.Fragment,{children:[function(){const{WindowSizeStore:o}=A,i=q?null:(0,_.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,_.jsx)(P.Z,{...e}),Y&&(0,_.jsx)(j.Z,{...e})]});return(0,_.jsxs)("div",{style:X,onMouseEnter:b,onMouseMove:b,onMouseLeave:V,children:[F,(0,_.jsx)(M.Z,{isVisible:!0,animationStyle:{width:J},render:()=>(0,_.jsxs)("div",{style:{maxWidth:"100%",paddingLeft:o.getSafePaddingLeftCSS(E)},children:[(0,_.jsxs)("div",{onFocus:se,onBlur:le,style:{...Z},className:"notion-page-controls",children:[O,ce(),pe(),ue()]}),(0,_.jsxs)("div",{style:{paddingRight:o.getSafePaddingRightCSS(K),marginBottom:8},children:[i,(0,_.jsx)(I,{store:D}),"visible"===ie.type&&(0,_.jsx)(k.Z,{disabled:!B,canEdit:t,locked:ne,pageId:D.id,toggleStore:N,descriptionStore:ie.descriptionStore,collectionStore:ie.collectionStore,userSettingsStore:ie.currentUserSettingsStore})]})]})})]})}(),(0,_.jsx)(R,{store:D,paddingLeft:E,paddingRight:K,context:o,disabled:C})]})}function R(e){let{store:t,paddingLeft:o,paddingRight:i,context:n,disabled:s}=e;window.__c={n:"CollectionView"};const l=(0,r.O7)(),d=(0,a.VK)((()=>(0,m.nZ)(t,l)),[t,l]);return(0,_.jsx)(b.DZ,{overridePaddingLeft:o,overridePaddingRight:i,store:t,isFullScreen:!0,viewId:d,disabled:s,hideHeaderActions:n===C.S.InAppTemplatePreview})}function I(e){let{store:t}=e;window.__c={n:"SprintBoardDescription"};const o=(0,a.VK)((()=>T(t)),[t]),i=(0,a.VK)((()=>Boolean(t.getFormat().hide_collection_view_page_description)),[t]);return o&&!i?(0,_.jsx)(k.k,{}):null}},56199:(e,t,o)=>{o.d(t,{K:()=>g});o(67294);var i=o(86628),n=o(24405),r=o(70475),s=o(26136),a=o(64369),l=o(45653),d=o(61679),c=o(65187),p=o(85893);function u(e){window.__c={n:"TranscriptSnippet"};const t=(0,i.VK)((()=>e.store.getTextStore()),[e.store]),o=(0,i.VK)((()=>e.store.getParticipantName()||""),[e.store]),r=(0,n.yK)((()=>({wrapper:{display:"flex",gap:10,marginBottom:20},avatar:{display:"flex"},speaker:{display:"flex",gap:10,marginBottom:4}})),[]);return(0,p.jsxs)("div",{style:r.wrapper,children:[(0,p.jsx)("div",{style:r.avatar,children:(0,p.jsx)(l.Z,{userStore:void 0,size:22,avatar:{name:o,avatarUrl:""}})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{style:r.speaker,children:(0,p.jsx)(a.Z,{style:{fontWeight:500,fontSize:16},children:o})}),(0,p.jsx)(c.Z,{style:{opacity:.8},disabled:!0,store:t,parentStore:e.store})]})]})}function h(e){window.__c={n:"MeetingNoteTranscriptSnippets"};const t=(0,i.VK)((()=>e.store.getTranscriptSnippetStores()),[e.store]);return(0,p.jsx)("div",{children:t.map((e=>(0,p.jsx)(u,{store:e},e.id)))})}function g(e){window.__c={n:"MeetingNoteTranscriptModule"};const t=(0,i.VK)((()=>{var t;const o=null===(t=e.store.getFormat())||void 0===t||null===(t=t.content_tabs)||void 0===t?void 0:t[r.Z];if(o)return s.G.createChildStore(e.store,o)}),[e.store]);return t?(0,p.jsx)(d.bU,{className:"layout-editor",children:(0,p.jsx)(h,{store:t})}):null}},16738:(e,t,o)=>{o.d(t,{Z:()=>ge});var i=o(67294),n=o(83355),r=o(72126),s=o(96802),a=o(39699),l=o(66890),d=o(79131),c=(o(57658),o(73935)),p=o(1302),u=o(86628),h=o(24405),g=o(49085),m=o(92996),y=o(41432),f=o(99036),S=o(80951),v=o(39068),x=o(84619),C=o(89767),b=o(47453),M=o(70663),w=o(35840),k=o(4615),P=o(21202),j=o(6287),_=o(70203),T=o(82990),V=o(68939),R=o(50906),I=o(51365),Z=o(31869),L=o(98834),B=o(60971),E=o(9953),K=o(14473),F=o(98104),D=o(49616),O=o(75079),A=o(75081),N=o(33929),W=o(65598),H=o(29376),z=o(77907),U=o(86098),$=o(45452),G=o(29798),Q=o(85526),Y=o(26136),q=o(78030),X=o(88071),J=o(64921),ee=o(32163),te=o(72495),oe=o(26388),ie=o(80559),ne=o(68139),re=o(85893);const se={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0};class ae extends n.Z{constructor(){super(...arguments),this.storeTypes={menuListStore:G.Z,customTokenLimit:g.default.createClass(10),draggableListStore:$.Z},this.getRelationMenuRows=(e,t,o,i,n,r)=>{const{store:s,collectionStore:a,disabled:l,property:d,locked:c}=this.props,p=o.getFormatStore().getKeyStore("app_config_uri").getValue()===m.p$;return e.reduce(((e,u,h)=>{const g=Y.G.createChildStore(s,u),m=g.getAssociatedCollectionStore();if((null==m?void 0:m.id)===f.F0(t)){const u={key:g.id,render:e=>(0,re.jsx)(ne.Z,{...e,canDrag:n&&1!==t.limit&&s.canEdit(),collectionStore:a,targetCollectionStore:o,relatedPageStore:g,disabled:l,canConfigureCollection:r,locked:c,isSelected:!0,pageStore:s,property:d,rowType:"section",onActionButtonClick:()=>this.handleRemoveRelationClick(i,g,o),onMouseLeave:()=>this.stores.menuListStore.unsetFocus(),onSecondaryButtonClick:()=>this.handleCreateNewRelation(h+1,o,"relation_section_inline"),onInsertInline:p?()=>{F.ZH(this.environment)}:()=>this.handleCreateNewRelation(h+1,o,"relation_section_inline"),onOpenPageButtonClick:()=>{K.O(i,g,this.environment,"relation_section_inline")},index:h+1,propertyLimit:t.limit}),action:e=>{}};e.push(u)}return e}),[])},this.relationValueStore=this.createComputedStore((()=>{const{store:e,schema:t,property:o}=this.props,i=t[o];if(!i||"relation"!==i.type)return[];const n=e.getPropertyValue(o);return S.j$({relationValue:S.rq(n),propertySchema:i,getRecordModel:e.getRecordModel})}),!0),this.numberOfRelations=this.createComputedStore((()=>this.relationValueStore.state.length)),this.handleRemoveRelationClick=(e,t,o)=>{var i;const{store:n,schema:r,property:s,blockPropertyValueOverlayStore:l}=this.props,{collectionContextStore:d}=this.context,c=r[s];if("relation"!==(null==c?void 0:c.type)||!d)return;const p=c.limit?[]:e.filter((e=>e.id!==t.id));a.createAndCommit({userAction:"RelationSection.handleRemoveRelationClick",environment:this.environment,perform:e=>{Z.sf({store:n,propertyId:s,value:p,environment:this.environment,relatedPageId:t.id,propertySchema:c,transaction:e,collectionContextStore:d,analyticsData:{isFromBulkActionsToolbar:D.VM(l),analyticsFrom:D.Sy(q.C.Page)},isUnthrottled:!1})}}),R.WFT(this.environment,{from:"relation_section",collection_id:null===(i=this.props.collectionStore)||void 0===i?void 0:i.id,target_collection_id:null==o?void 0:o.id})},this.handleDraggableListDrop=(e,t)=>{const{menuListStore:o}=this.stores,{collectionStore:i,schema:n,property:r,store:s}=this.props,a=n[r];if(!a||"relation"!==a.type)return;const l=f.j0(a);if(!l)return;const d=Y.NW.createChildStore(s,l);if(!(0,W.OY)(s)||!this.props.property)return;const c=s.getPropertyValue(this.props.property),p=S.j$({relationValue:S.rq(c),propertySchema:a,getRecordModel:s.getRecordModel}),u=[...e.map((e=>({id:e,spaceId:i.pointer.spaceId,table:P.iU}))),...p.slice(e.length)];this.handleRelationPropertyMenuUpdate({value:u},d),R.yT1(this.environment,{from:"relation_section"}),B.sv({store:o,focus:{section:0,indexLocal:t.endPosition,indexGlobal:t.endPosition}})},this.handleOpenProperty=(e,t,o)=>{const{blockPropertyValueOverlayStore:i,store:n,property:r}=this.props,{collectionContextStore:s}=this.context,a=c.findDOMNode(this.relationPropertyPageSectionRef);if(!(a&&a instanceof Element))return;const l=o?null==o?void 0:o.getBoundingClientRect():a.getBoundingClientRect(),d=e?l.top+H.Mu:l.top+5,p=new DOMRect(l.left,d,l.width,l.height);I.bA({environment:this.environment,blockPropertyValueOverlayStore:i,store:n,property:r,rect:p,format:q.C.Page,mode:t,collectionContextStore:s}),R.udZ(this.environment,{from:"relation_section"})},this.handleRelationPropertyPageSectionRefMount=e=>{e&&(this.relationPropertyPageSectionRef=e)},this.handleClearProperty=e=>{this.handleRelationPropertyMenuUpdate({value:[]},e)},this.handleCreateNewRelation=(e,t,o)=>{const{store:i,schema:n,property:r,collectionStore:s}=this.props,{collectionContextStore:a}=this.context;if(!r)return;const l=n[r];if(!l||"relation"!==l.type)return;if(!i.canEdit())return;const d=(0,k.ZP)(),c=s.pointer.spaceId,p=l.limit,u={id:d,table:P.iU,spaceId:c};if(!(0,W.OY)(i)||!this.props.property)return;const h=i.getPropertyValue(this.props.property),g=S.j$({relationValue:S.rq(h),propertySchema:l,getRecordModel:i.getRecordModel}),{customTokenLimit:m}=this.stores,y=m.state;e&&e+1>y&&m.setState(e+1);const f=p?[u]:e?[...g.slice(0,e),u,...g.slice(e)]:[u,...g];this.handleRelationPropertyMenuUpdate({newPage:{id:d,spaceId:c,name:""},value:f},t),R.W2j(this.environment,{...(0,O.Pn)(a),from:o,type:"page",target_collection_id:null==t?void 0:t.id,new_page_id:d})},this.handleRelationPropertyMenuUpdate=(e,t)=>{const{store:o,property:i}=this.props;if(!(0,W.OY)(o)||!i)return;let n;a.createAndCommit({userAction:"RelationToken.handleRelationPropertyMenuUpdate",environment:this.environment,perform:r=>{const s=t.id;if(e.newPage&&s){const o=_.TPx(e.newPage.name),i={id:e.newPage.id,version:0,type:y.Ti.page,parent_id:s,parent_table:j.v,alive:!0,properties:{title:o},collection_id:void 0,space_id:e.newPage.spaceId};n=E.ae({environment:this.environment,table:P.iU,value:i,inMemoryRecordCache:t.inMemoryRecordCache,transaction:r});const a=Y.G.createChildStore(this.props.store,n.pointer),l=t.getDefaultTemplatePageStore();l&&L.ob({title:{text:o},environment:this.environment,store:a,templateStore:l,isKeyboard:!1,isCreateIn:!1,transaction:r,from:"relation_property_page_section"})}if(e.value){const t=S.ow(e.value),n=o.getPropertyStore(i);E.sO({store:n,value:t,transaction:r})}}}),p.default.afterNextFlush((()=>{if(!n)return;const e=U.Z.findRow(n.id,"section",i);if(!e)return;const t=e.relationTokenBlockStoreRef.current;if(!t)return;const o=t.getBlockTitleStore(),r=o.getValue(),s=r?r[0][0].length:0,a={start:{index:s,store:o},end:{index:s,store:o}};F.NA({multiSelection:a})}))}}renderComponent(){const{schema:e,format:t,locked:o,property:i,collectionStore:n,store:r,disabled:s,visibility:a,isInPeekRenderer:l,topBorder:c}=this.props,{device:p}=this.environment,{collectionContextStore:u}=this.context,h=e[i];if("relation"!==(null==h?void 0:h.type)||!u)return;const g=f.j0(h);if(!g)return;const y=Y.NW.createChildStore(r,g),S=u.permissionScopes.state,v=this.relationValueStore.state,{customTokenLimit:w}=this.stores,k=w.state,P=v.slice(0,k),j=y.getFormatStore().getKeyStore("app_config_uri").getValue()===m.p$;if("section_hide"===a)return;if("minimal"===a||0===this.numberOfRelations.state)return(0,re.jsx)(le,{property:i,propertySchema:h,numberOfRelations:this.numberOfRelations.state,onHandleOpenProperty:this.handleOpenProperty,onHandleRelationPropertyPageSectionRefMount:this.handleRelationPropertyPageSectionRefMount,schema:e,format:t,disabled:s,locked:o,canConfigureCollection:S.canConfigureCollection,blockStore:r,collectionStore:n,collectionContextStore:u,isInPeekRenderer:l,targetCollectionStore:y});const _=1===h.limit,T=!(p.isMobile||s||o||_),R=this.getRelationMenuRows(P,h,y,v,T,S.canConfigureCollection),I=R.map((e=>e.key.toString())),Z=(0,re.jsx)(ee.Z,{type:ee.i.Vertical,store:this.stores.menuListStore,initialFocus:void 0,disableKeyboard:!0,style:{width:"100%"},sections:[{key:"section",render:e=>(0,re.jsx)(te.Z,{...e,disableDesktopPadding:!0,disableMobileBorders:!0,children:T?(0,re.jsx)(d.ZP,{direction:"vertical",keys:I,renderKey:t=>e.children[I.indexOf(t)],onDrop:this.handleDraggableListDrop,store:this.stores.draggableListStore}):e.children}),items:R}]}),L=y.canEdit(),B=r.canEdit(),E={maxWidth:p.isMobile?"none":300,...!p.isMobile&&{width:"auto"},...p.isMobile&&{paddingLeft:"none"}};return(0,re.jsx)(de,{collectionContextStore:u,title:(0,re.jsx)(ie.Q,{schema:e,format:t,property:i,blockStore:r,collectionStore:n,disabled:s,locked:o,canConfigureCollection:S.canConfigureCollection,intl:N.default.getIntl(),style:E,popupStyle:E,isInPeekRenderer:l}),collectionStore:n,targetCollectionStore:y,property:i,showRight:!0,disabled:s,schema:e,format:t,locked:o,canEditTargetCollection:y.canEdit(),canConfigureCollection:S.canConfigureCollection,canEditCurrentPage:B,handleMouseMove:this.props.handleMouseMove,onHandleOpenProperty:()=>{this.handleOpenProperty(!1)},onHandleRelationPropertyPageSectionRefMount:this.handleRelationPropertyPageSectionRefMount,onTitleEnter:()=>this.handleCreateNewRelation(void 0,y,"relation_section_inline"),handleClearProperty:()=>this.handleClearProperty(y),topBorder:c,children:(0,re.jsxs)("div",{style:{flex:1,minWidth:0,display:"flex",flexWrap:"wrap",flexDirection:"column",paddingBottom:"12px",paddingTop:"12px",width:"100%",...p.isMobile&&{paddingLeft:"none"}},onMouseMove:this.props.handleMouseMove,onMouseLeave:this.props.handleMouseLeave,children:[Z,v.length>k&&(0,re.jsx)(J.Z,{style:{width:"100%",display:"flex",alignItems:"center",borderRadius:3,fontSize:14,minHeight:30,margin:0,padding:"6px 8px 7px 8px"},onClick:()=>w.setState(k+10),children:(0,re.jsx)(X.Z,{count:v.length-k,format:x.lo.Medium,style:{margin:void 0},fixedHeight:!1,isCompact:!1})}),L&&B&&!o&&(0,re.jsxs)(J.Z,{style:(K=this.theme,{display:"flex",alignItems:"center",color:K.lightTextColor,borderRadius:4,paddingLeft:4,paddingRight:6,height:32,width:"100%",fontSize:14}),onClick:()=>{j?this.handleClearProperty(y):this.handleCreateNewRelation(v.length>=k?k:v.length+1,y,"relation_section_footer")},disabled:s||o,children:[j?(0,C.R)({width:16,height:16,marginRight:11,marginTop:1,marginLeft:4,fill:"#868682"}):1===h.limit?(0,M.h)(ue(this.theme)):(0,b.R)(ue(this.theme)),(0,re.jsxs)("div",{style:se,children:[j&&(0,re.jsx)("span",{style:{color:this.theme.mediumTextColor},children:(0,re.jsx)(V.FormattedMessage,{id:"RelationPropertyPageSection.button.replacePageSprint",defaultMessage:"Move to backlog"})}),!j&&(1===h.limit?(0,re.jsx)(V.FormattedMessage,{id:"RelationPropertyPageSection.button.replacePage",defaultMessage:"Replace linked page from {propertyName}",values:{propertyName:h.name}}):(0,re.jsx)(V.FormattedMessage,{id:"RelationPropertyPageSection.button.addPage",defaultMessage:"New page in {propertyName}",values:{propertyName:h.name}}))]})]})]})},i);var K}}function le(e){window.__c={n:"RelationPropertyMinimalPageSection"};const{property:t,propertySchema:o,numberOfRelations:n,schema:r,format:s,disabled:a,locked:l,canConfigureCollection:d,blockStore:c,collectionStore:p,onHandleOpenProperty:g,onHandleRelationPropertyPageSectionRefMount:y,isInPeekRenderer:f,targetCollectionStore:S}=e,x=(0,h.yK)((e=>({hoverButton:{display:"flex",alignItems:"baseline",justifyContent:"normal",color:e.mediumTextColor,width:"100%"},minimalButton:{display:"inline-flex",alignItems:"center",flexShrink:0,whiteSpace:"nowrap",height:28,borderRadius:4,fontSize:14,lineHeight:1.2,minWidth:0,paddingLeft:6,paddingRight:8,fontWeight:T.Z.fontWeight.medium,color:e.mediumTextColor},minimalButtonWrapper:{width:"100%",maxWidth:"100%",fontWeight:T.Z.fontWeight.medium,color:e.mediumTextColor},iconStyle:{width:14,height:14,fill:e.mediumIconColor,marginRight:6,alignItems:"baseline"},pagePropertiesRowName:{width:"100%",display:"inline-flex",flexWrap:"wrap"}})),[]),C=(0,h.Fg)(),b=(0,i.useCallback)((()=>{Q.Z.setState({...Q.Z.state,hoveredProperty:t})}),[t]),M=(0,i.useCallback)((()=>{Q.Z.setState({...Q.Z.state,hoveredProperty:void 0})}),[]),w=(0,u.VK)((()=>S.getFormatStore().getKeyStore("app_config_uri").getValue()),[S]),k=(0,A.sN)(m.p$),P=(0,A.Q_)(m.p$);return(0,re.jsx)("div",{style:x.hoverButton,onMouseMove:b,onMouseLeave:M,children:(0,re.jsx)(ie.Q,{schema:r,format:s,property:t,blockStore:c,collectionStore:p,disabled:a,locked:l,canConfigureCollection:d,intl:N.default.getIntl(),style:x.pagePropertiesRowName,popupStyle:x.pagePropertiesRowName,origin:(0,re.jsx)("div",{ref:y,style:x.minimalButtonWrapper,children:(0,re.jsx)(J.Z,{style:x.minimalButton,onClick:()=>g(!0),onContextMenu:e=>{a||l||!d||(e.preventDefault(),Q.Z.setState({...Q.Z.state,openProperty:{property:t,isInPeekRenderer:f}}))},children:(0,re.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,re.jsx)(v.ZP,{size:14,style:x.iconStyle,theme:C,type:o.type??"relation",icon:o.icon}),w===m.p$?(0,re.jsx)(V.FormattedMessage,{id:"RelationPropertyPageSection.sprints.showSprintRelations",defaultMessage:"{numberOfRelations, plural, =0 {Add {propertyName}} one {1 {singleTypedItemName}} other {{numberOfRelations} {pluralTypedItemName}}}",values:{numberOfRelations:n,propertyName:o.name,singleTypedItemName:k,pluralTypedItemName:P}}):(0,re.jsx)(V.FormattedMessage,{id:"RelationPropertyPageSection.showRelations",defaultMessage:"{numberOfRelations, plural, =0 {Add {propertyName}} one {1 {propertyName}} other {{numberOfRelations} {propertyName}}}",values:{numberOfRelations:n,propertyName:o.name}})]})},`minimal-section-${t}`)}),hideDragHandle:!0,isInPeekRenderer:f})})}function de(e){window.__c={n:"RelationPropertyPageSectionHeader"};const{collectionStore:t,targetCollectionStore:o,property:i,showRight:n,disabled:r,locked:s,style:a,children:l,canEditTargetCollection:d,canConfigureCollection:c,canEditCurrentPage:p,handleMouseMove:h,onHandleOpenProperty:g,onHandleRelationPropertyPageSectionRefMount:y,onTitleEnter:S,topBorder:v=!0}=e,x=(0,u.VK)((()=>o.isSyncedCollection()),[o]),C=(0,u.VK)((()=>{const e=t.getSchema()[i];return Boolean(e&&f.NK(e))}),[t,i]),M=(0,u.VK)((()=>o.getFormatStore().getKeyStore("app_config_uri").getValue()===m.p$),[o]);return(0,re.jsx)("div",{style:{width:"100%"},ref:y,children:(0,re.jsx)(te.Z,{...e,topBorder:v,children:l,noTextOverflow:!0,isTitleUppercase:!1,right:n&&!x&&!C&&(0,re.jsxs)("div",{style:{height:"100%",display:"flex",alignItems:"center",width:"100%"},children:[p&&(0,re.jsx)(ce,{disabled:r,handleMouseMove:h,onClick:g,icon:w.R,tooltipMessage:M?(0,re.jsx)(V.FormattedMessage,{id:"database.RelationPropertyPageSectionHeaderButton.tooltip.searchButtonSprints.message",defaultMessage:"Search for a sprint"}):(0,re.jsx)(V.FormattedMessage,{id:"database.RelationPropertyPageSectionHeaderButton.tooltip.searchButton.message",defaultMessage:"Link a page"})},`searchIcon-${i}`),d&&p&&!M&&!s&&(0,re.jsx)(ce,{disabled:r,handleMouseMove:h,onClick:S,icon:b.R,tooltipMessage:M?(0,re.jsx)(V.FormattedMessage,{id:"database.RelationPropertyPageSectionHeaderButton.tooltip.addButtonSprints.message",defaultMessage:"Create new sprint"}):(0,re.jsx)(V.FormattedMessage,{id:"database.RelationPropertyPageSectionHeaderButton.tooltip.addButton.message",defaultMessage:"Add new page"})},`addIcon-${i}`),(0,re.jsx)(z.LazyRelationPropertyCustomizeLayoutMenu,{collectionStore:t,targetCollectionStore:o,property:i,disabled:r||!c,rowType:"section"})]}),style:{paddingTop:0,paddingBottom:2,width:"100%",...a},desktopTitleStyle:{height:6,paddingLeft:0,paddingRight:8,paddingTop:24,fontWeight:"normal"},mobileTitleStyle:{paddingLeft:0,alignItems:"center",fontWeight:"normal"}})})}function ce(e){window.__c={n:"RelationPropertyPageSectionHeaderButton"};const{disabled:t,handleMouseMove:o,onClick:i,icon:n,tooltipMessage:r}=e,s=(0,h.yK)((e=>({buttonStyle:{width:24,height:24,borderRadius:4,display:"inline-flex",alignItems:"center",justifyContent:"center",marginRight:4},iconStyle:{width:14,height:14,flexGrow:0,flexShrink:0,fill:e.mediumIconColor}})),[]);return(0,re.jsx)(oe.Z,{renderTooltip:()=>r,render:e=>(0,re.jsx)(J.Z,{style:s.buttonStyle,onMouseMove:o,onClick:i,disabled:t,...e,children:n(s.iconStyle)})})}ae.displayName="RelationPropertyPageSection",ae.contextTypes={...n.w,...l.xm};const pe=ae;function ue(e){return{width:16,height:16,marginRight:11,marginTop:1,marginLeft:4,fill:e.lightIconColor}}class he extends n.Z{constructor(){super(...arguments),this.handleReorder=e=>{const{collectionStore:t,format:o}=this.props,i=o.collection_page_sections||[],n=[...r.oA(e.map((e=>i.find((t=>t.section===e))))),...i.filter((t=>!e.includes(t.section)))];a.createAndCommit({userAction:"RelationPropertyPageSections.handleReorder",environment:this.environment,perform:e=>{s.FH({stores:[t],update:{collection_page_sections:n},transaction:e})}})}}renderComponent(){const{locked:e,disabled:t,propertyIds:o,type:i}=this.props,{collectionContextStore:n}=this.context;if(!n)return;const r=n.permissionScopes.state;return"minimal"===i?o.map(((e,t)=>(0,re.jsx)("div",{children:(0,re.jsx)(me,{schema:this.props.schema,format:this.props.format,locked:this.props.locked,collectionStore:this.props.collectionStore,store:this.props.store,disabled:this.props.disabled,isInPeekRenderer:this.props.isInPeekRenderer,handleMouseMove:this.props.handleMouseMove,handleMouseLeave:this.props.handleMouseLeave,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,topBorder:this.props.topBorder,propertyId:e,index:t})},e))):t||e||!r.canConfigureCollection?(0,re.jsx)("div",{style:d.yA,children:o.map(((e,t)=>(0,re.jsx)("div",{children:(0,re.jsx)(me,{schema:this.props.schema,format:this.props.format,locked:this.props.locked,collectionStore:this.props.collectionStore,store:this.props.store,disabled:this.props.disabled,isInPeekRenderer:this.props.isInPeekRenderer,handleMouseMove:this.props.handleMouseMove,handleMouseLeave:this.props.handleMouseLeave,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore,topBorder:this.props.topBorder,propertyId:e,index:t})},e)))}):(0,re.jsx)(d.ZP,{direction:"vertical",keys:o,renderKey:(e,t,o)=>(0,re.jsx)(me,{propertyId:e,index:t,schema:this.props.schema,format:this.props.format,locked:this.props.locked,collectionStore:this.props.collectionStore,store:this.props.store,disabled:this.props.disabled,isInPeekRenderer:this.props.isInPeekRenderer,handleMouseMove:this.props.handleMouseMove,handleMouseLeave:this.props.handleMouseLeave,blockPropertyValueOverlayStore:this.props.blockPropertyValueOverlayStore}),onDrop:this.handleReorder})}}he.displayName="RelationPropertyPageSections",he.contextTypes={...n.w,...l.xm};const ge=he;function me(e){let{propertyId:t,index:o,schema:i,format:n,locked:r,collectionStore:s,store:a,disabled:l,isInPeekRenderer:d,handleMouseMove:c,handleMouseLeave:p,blockPropertyValueOverlayStore:u,topBorder:h}=e;const g=(n.collection_page_sections||[]).filter((e=>e.section===t)).map((e=>e.visibility))[0];return(0,re.jsx)(pe,{store:a,collectionStore:s,disabled:l,locked:r,property:t,schema:i,handleMouseMove:c,handleMouseLeave:p,handleContextMenu:()=>{},blockPropertyValueOverlayStore:u,format:n,visibility:g,isInPeekRenderer:d,topBorder:h&&0!==o})}},44862:(e,t,o)=>{o.d(t,{Z:()=>m});o(67294);var i=o(83355),n=o(8848),r=o(60291),s=o(54497),a=o(68939),l=o(5149),d=o(41232),c=o(32363),p=o(16402),u=o(84076),h=o(85893);class g extends i.Z{constructor(){super(...arguments),this.handleNavigateToSourceClick=()=>{const{collectionContextStore:e}=this.props;e&&(l.r$({collectionContextStore:e,collectionSettingsStore:e.settingsStore}),l.H4({collectionSettingsStore:e.settingsStore,item:{type:"source"}}))}}renderComponent(){const{collectionStore:e}=this.props;if(e.isSyncedCollection())return this.renderSyncedCollectionIndicators()}renderSyncedCollectionIndicators(){const{collectionStore:e}=this.props,t=e.getFormatStore().getKeyStore("original_url").getValue(),o=e.getSpaceId(),i=Boolean(e.getFormatStore().getKeyStore("sync_state").getValue()),n=t&&(0,d.pI)(t,o);return(0,h.jsxs)("div",{style:{display:"inline-flex",alignItems:"center"},children:[n&&(0,h.jsx)(u.Z,{href:n,style:{display:"inline-flex"},hoveredStyle:{background:"none",textDecoration:"underline"},innerStyle:{flexShrink:1,width:"none",padding:"2px 0px",marginRight:5,borderRadius:4,display:"flex",alignItems:"center",alignSelf:"center",...y(this.theme)},external:!0,children:(0,c.wY)(t,o)}),i?(0,h.jsx)("span",{style:{color:this.theme.mediumTextColor},children:"•"}):null,i?this.renderSyncState():null]})}renderSyncState(){var e,t;const{collectionStore:o}=this.props,i=o.getFormatStore().getKeyStore("sync_state").getKeyStore("syncing").getValue(),l=o.getFormatStore().getKeyStore("sync_state").getKeyStore("last_synced_at").getValue(),d=null===(e=this.props.collectionContextStore)||void 0===e?void 0:e.numberChildrenUnfurled.state,c=null===(t=this.props.collectionContextStore)||void 0===t?void 0:t.numberChildrenReceived.state,g=d&&c&&d/c<1&&!this.environment.device.isMobile,m=i&&this.environment.device.isMobile;let f;return l&&(f=(0,h.jsx)(a.FormattedMessage,{defaultMessage:"Synced {lastSyncedAt}",id:"synced.lastSyncedAt.label",values:{lastSyncedAt:(0,p.IS)(l,{useLowercase:!0})}})),"row_limit_exceeded"===i?(0,h.jsx)(u.Z,{style:{display:"inline-flex",...y(this.theme)},onClick:this.handleNavigateToSourceClick,children:(0,h.jsxs)("span",{style:{marginLeft:5,marginRight:5,display:"inline-flex",...y(this.theme)},children:[(0,s.t)({fill:(0,n.fi)("orange",this.theme).fill,marginLeft:4,marginRight:4,width:12,alignSelf:"center"}),(0,h.jsx)(a.FormattedMessage,{defaultMessage:"Partial Sync",id:"synced.partial_sync.label"})]})}):g||m?(0,h.jsxs)("span",{style:{marginLeft:5,marginRight:5,display:"inline-flex",...y(this.theme)},children:[(0,h.jsx)(a.FormattedMessage,{defaultMessage:"Syncing",id:"synced.syncing.label"}),(0,r.b)({marginLeft:4,marginRight:4,width:12,alignSelf:"center"},"sync-spinner")]}):(0,h.jsx)("span",{style:{marginLeft:5,marginRight:5,display:"inline-flex",...y(this.theme)},children:f})}}g.displayName="SyncedCollectionIndicators";const m=(0,a.injectIntl)(g);function y(e){return{color:e.mediumTextColor,fontSize:14,lineHeight:1.2}}},37451:(e,t,o)=>{o.d(t,{Z:()=>I});o(67294);var i=o(83355),n=o(15145),r=o(49271),s=o(68939),a=o(50906),l=o(98834),d=o(75018),c=o(59389),p=o(39699),u=o(66213),h=o(53971),g=o(78316),m=o(19124),y=o(84210),f=o(12534),S=o(17504),v=o(77907),x=o(80444),C=o(88632),b=o(83212),M=o(34583),w=o(64921),k=o(24405),P=o(36596),j=o(85893);function _(){window.__c={n:"TemplatePickerShimmer"};const e=(0,k.yK)((()=>({menu:{display:"flex",alignItems:"center",marginBottom:5},icon:{marginLeft:5,width:26,height:26,marginRight:10,borderRadius:4},menuItem:{height:14,marginTop:8,marginBottom:8,width:"25%",borderRadius:8}})),[]);return(0,j.jsx)(j.Fragment,{children:[...Array(6)].map(((t,o)=>(0,j.jsxs)("div",{style:e.menu,children:[(0,j.jsx)(P.Z,{style:e.icon}),(0,j.jsx)(P.Z,{style:e.menuItem})]},o)))})}const T={width:"100%"},V={width:"100%",display:"flex",flexDirection:"column",marginBottom:"14vh"};class R extends i.Z{constructor(){super(...arguments),this.publicEditModeStore=this.createComputedStore((()=>b.Z.getMode(this.environment,this.props.store))),this.handleEmptyPageContinueClick=e=>{(0,f.ZP)({event:e,context:f.Af.EditorClick,callback:()=>{M.M_(this.environment)&&(p.createAndCommit({userAction:"TemplatePicker.handleEmptyPageContinueClick",environment:this.environment,perform:e=>{c.eV({environment:this.environment,store:this.props.store,transaction:e})}}),a.rNQ(this.environment,{template_name:"empty",is_keyboard:!1}))}})},this.handleCreateDatabaseTemplateClick=()=>{const{store:e}=this.props,t=e.getAssociatedCollectionStore();if(t&&M.M_(this.environment)){const{performResult:e}=p.createAndCommit({userAction:"TemplatePicker.newPage",environment:this.environment,perform:e=>l.nx({environment:this.environment,collectionStore:t,transaction:e})});e&&this.navigateToBlock(e),a.dZq(this.environment,{collection_id:t.id})}}}navigate(e){this.context.overrideLinkClick?this.context.overrideLinkClick(e):d.navigate({environment:this.environment,url:e})}UNSAFE_willMount(e){super.UNSAFE_willMount(e),e.menuListStore.reset()}renderComponent(){const e=C.Z.state.online;return(0,j.jsx)(h.Z,{capture:!0,render:t=>(0,S.Z)((o=>(0,j.jsxs)("div",{...t,...o,style:V,children:[this.renderPlaceholder(),e&&(0,j.jsx)(v.LazyTemplatePickerTemplateList,{...this.props,renderLoading:()=>(0,j.jsx)(_,{})})]})))})}renderPlaceholder(){const e=this.renderPlaceholderMessage();return e?(0,j.jsx)("div",{style:T,children:(0,j.jsx)("div",{style:(t=this.theme,{...r.ZD,color:t.lightTextColor,paddingTop:5,paddingBottom:24}),onClick:this.handleEmptyPageContinueClick,children:e})}):void 0;var t}renderPlaceholderMessage(){const{device:e}=this.environment,t=this.props.store.isTemplate(),o=C.Z.state.online,i=(n=this.props.store,Boolean(n.getAssociatedCollectionStore()));var n;const r=function(e){const t=e.getParentCollectionStore(),o=t?t.getTemplatePageStores():void 0;return o&&o.length>0}(this.props.store),a=i&&!r;return o?t?(0,j.jsx)(s.FormattedMessage,{defaultMessage:"{isMobileDevice, select, true {Tap here to continue with an empty page.} other {Press Enter to continue with an empty page.}}",id:"templatePicker.isTemplate.emptyPagePrompt",values:{isMobileDevice:e.isMobile}}):e.isMobile?a?(0,j.jsx)(s.FormattedMessage,{defaultMessage:"{isParentLocked, select, true {Tap here to continue with an empty page} other {Tap here to continue with an empty page, or <templatebutton>create a template</templatebutton>}}",id:"templatePicker.mobileCollectionEmptyPage.prompt",values:{isParentLocked:!Z(this.props.store),templatebutton:e=>(0,j.jsx)(w.Z,{style:{display:"inline-block",textDecoration:"underline"},onClick:this.handleCreateDatabaseTemplateClick,children:e})}}):e.isTablet?(0,j.jsx)(s.FormattedMessage,{defaultMessage:"Tap here to continue with an empty page, or pick a template",id:"templatePicker.mobileTabletEmptyPage.withTemplates.prompt"}):(0,j.jsx)(s.FormattedMessage,{defaultMessage:"Tap here to continue...",id:"templatePicker.mobilePhoneEmptyPage.withTemplates.prompt"}):a?(0,j.jsx)(s.FormattedMessage,{defaultMessage:"{isParentLocked, select, true {Press Enter to continue with an empty page} other {Press Enter to continue with an empty page, or <templatebutton>create a template</templatebutton>}}",id:"templatePicker.webCollectionEmptyPage.prompt",values:{isParentLocked:!Z(this.props.store),templatebutton:e=>(0,j.jsx)(w.Z,{style:{display:"inline-block",textDecoration:"underline"},onClick:this.handleCreateDatabaseTemplateClick,children:e})}}):!(0,m.GD)(this.publicEditModeStore.state)||i?(0,j.jsx)(s.FormattedMessage,{defaultMessage:"Press Enter to continue with an empty page, or pick a template (↑↓ to select)",id:"templatePicker.webEmptyPage.withTemplates.prompt"}):void 0:(0,j.jsx)(s.FormattedMessage,{defaultMessage:"{isMobileDevice, select, true {Tap here to continue with an empty page. Please go online to use templates.} other {Press Enter to continue with an empty page. Please go online to use templates.}}",id:"templatePicker.deviceOffline.goOnlinePrompt",values:{isMobileDevice:e.isMobile}})}navigateToBlock(e){const{mainEditorCurrentBlockStore:t}=x.default.state,o=t?(0,y.ZP)({store:t,peekViewBlockId:e.id,fullyQualified:!1,pageVisitSource:n.tY.LinkInPage}):(0,y.ZP)({store:e,fullyQualified:!1,pageVisitSource:n.tY.LinkInPage});this.navigate(o)}}R.displayName="TemplatePicker",R.contextTypes={...u.wK,...i.w};const I=(0,s.injectIntl)(R);function Z(e){const t=e.getAssociatedCollectionStore(),o=t&&t.getParentBlockStore();return g.eD({collectionStore:t,collectionViewBlockStore:o,checkNavigableAncestorLocked:!0})}},58792:(e,t,o)=>{o.d(t,{B:()=>s});o(67294);var i=o(5618),n=o(35943),r=o(85893);const s=e=>{let{store:t,isEditable:o,hasCover:s,isInSidePeek:a,paddingLeft:l,paddingRight:d,openMenuOnMount:c,openMenuOnMountCallback:p,...u}=e;return(0,r.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,r.jsx)(i.Z,{store:t,isEditable:o,hasCover:s,isInSidePeek:a,openMenuOnMount:c,openMenuOnMountCallback:p}),(0,r.jsx)(n.Z,{store:t,isInSidePeek:a,paddingLeft:l,paddingRight:d,...u})]})}},98272:(e,t,o)=>{o.d(t,{X:()=>a});o(67294);var i=o(24405),n=o(68939),r=o(68785),s=o(85893);function a(){window.__c={n:"ImportingMessage"};const e=(0,i.yK)((e=>({wrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:16,marginTop:"12vh"},message:{fontSize:14,marginTop:8,color:e.mediumTextColor}})),[]);return(0,s.jsxs)("div",{style:e.wrapper,children:[(0,s.jsx)(r.Z,{}),(0,s.jsx)("div",{style:e.message,children:(0,s.jsx)(n.FormattedMessage,{defaultMessage:"Importing…",id:"frame.importingMessage"})})]})}},67064:(e,t,o)=>{o.d(t,{Eg:()=>g,_h:()=>u,bM:()=>h});o(67294);var i=o(86628),n=o(50627),r=o(19671),s=o(82136),a=o(13023),l=o(68709),d=o(16738),c=o(61679),p=o(85893);function u(e){window.__c={n:"InlinePageSections"};const{state:t,store:o,disabled:n,isInPeekRenderer:r,blockPropertyValueOverlayStore:s,onMouseEnter:a,onMouseLeave:l,topBorder:c}=e,u=(0,i.VK)((()=>o.isLocked()),[o]),h=(0,i.VK)((()=>o.getSchema()),[o]);return(0,p.jsx)(d.Z,{topBorder:c,propertyIds:t.sectionPropertyIds,store:o,collectionStore:t.collectionStore,format:t.format,disabled:n,locked:u,schema:h,handleMouseMove:a,handleMouseLeave:l,handleContextMenu:()=>{},blockPropertyValueOverlayStore:s,isInPeekRenderer:r})}function h(e){window.__c={n:"InlinePageSectionsModule"};const{store:t,context:o,disabled:d,inlinePropertyIDs:h,onMouseEnter:m,onMouseLeave:y}=e,f=g({collectionStore:(0,i.VK)((()=>t.getAssociatedCollectionStore()),[t]),format:(0,i.VK)((()=>(0,n.y6)(t)),[t]),sectionPropertyIds:h});if("hidden"===f.type)return null;const S=o===s.S.PeekView;return(0,p.jsx)(c.bU,{className:"layout-content-with-divider",children:(0,p.jsx)(l.p,{allowSelectionWithin:!0,children:(0,p.jsx)(u,{topBorder:!0,state:f,store:t,disabled:d,onMouseEnter:m,onMouseLeave:y,blockPropertyValueOverlayStore:S?a.Z:r.Z,isInPeekRenderer:S})})})}function g(e){const{collectionStore:t,format:o,sectionPropertyIds:i}=e;return t&&o&&i&&i.length?{type:"visible",collectionStore:t,format:o,sectionPropertyIds:i}:{type:"hidden"}}},61679:(e,t,o)=>{o.d(t,{$K:()=>S,Ar:()=>u,Cq:()=>b,bU:()=>y,cx:()=>v,hy:()=>f,i2:()=>x,kg:()=>C,us:()=>g});var i=o(94184),n=o.n(i),r=o(67294),s=o(60177),a=o(64338),l=o(24405),d=o(73420),c=o(97053),p=o(85893);function u(e){let{children:t,type:o,gap:i,withBottomPadding:r,style:s}=e;window.__c={n:"Layout"};const a=(0,c.Bt)(o);return(0,p.jsx)("div",{className:n()("layout",{"layout-wide":"wide"===o,"layout-wide-right-margin-expanded":"wide-right-margin-expanded"===o,"layout-side-peek":"side-peek"===o,"layout-center-peek":"center-peek"===o,"layout-wiki":"wiki"===o,"layout-wiki-right-margin-expanded":"wiki-right-margin-expanded"===o,"layout-home":"home"===o,"layout-home-phone":"home-phone"===o,"layout-phone":"phone"===o,"layout-tablet":"tablet"===o,"layout-template-preview":"template-preview"===o}),style:{paddingBottom:r?a:void 0,gap:i,...s},children:t})}const h="layout-nested-grid",g="hide-scrollbar",m="layout-two-column";function y(e){return(0,p.jsx)("div",{className:n()("layout-content",e.className),style:e.style,children:e.children})}function f(e){return(0,p.jsx)("div",{className:"layout-full",style:e.style,children:e.children})}function S(e){return(0,p.jsx)("div",{className:"layout-margin-right",children:e.children})}const v=(0,r.forwardRef)((function(e,t){return(0,p.jsx)("div",{className:n()(h,e.className),onClick:e.onClick,style:e.style,role:e.role,id:e.id,"aria-labelledby":e["aria-labelledby"],ref:t,children:e.children})}));function x(e){return(0,p.jsx)("div",{className:n()(h,"layout-margin-scrollable",{[g]:e.hideScrollbar}),style:e.style,children:(0,p.jsx)(y,{children:e.children})})}function C(e){let{items:t,style:o}=e;window.__c={n:"LayoutTabs"};const[i,n]=r.useState(0),c=(0,r.useRef)([]),u=(0,s.Dl)();(0,a.q7)(null==u?void 0:u.domLock);const h=(0,l.yK)((e=>({icon:{width:16,height:16,fill:"currentColor"},label:{fontSize:14,fontWeight:600},tab:"centered"===o?{cursor:"pointer",border:"none",padding:"6px 12px",borderRadius:20,color:e.text.secondary,background:"none"}:{cursor:"pointer",border:"none",borderBottom:"2px solid",borderColor:"transparent",padding:"6px 8px 12px",color:e.text.secondary,background:"none"},tabSelected:"centered"===o?{color:e.text.primary,background:e.tint.regular}:{color:e.text.primary,borderColor:e.regularTextColor}})),[o]),g=(0,r.useId)(),m=(0,r.useCallback)((e=>`${g}-tab-${e}`),[g]),f=(0,r.useCallback)((e=>`${g}-tabpanel-${e}`),[g]),S=(0,r.useCallback)((e=>{let o;var r;("ArrowLeft"===e.key?(e.preventDefault(),o=(i+t.length-1)%t.length):"ArrowRight"===e.key&&(e.preventDefault(),o=(i+1)%t.length),void 0!==o)&&(n(o),null===(r=c.current[o])||void 0===r||r.focus())}),[i,t.length]);return(0,p.jsxs)(v,{children:[(0,p.jsx)(y,{children:(0,p.jsx)("div",{role:"tablist",children:(0,p.jsx)(d.X2,{justifyContent:"centered"===o?"center":"flex-start",children:t.map(((e,t)=>{var o;return(0,p.jsx)("button",{ref:e=>{e&&(c.current[t]=e)},id:m(t),role:"tab","aria-controls":f(t),"aria-selected":t===i,tabIndex:t===i?void 0:-1,onKeyDown:S,style:{...h.tab,...t===i&&h.tabSelected},onClick:e=>{e.stopPropagation(),n(t)},children:(0,p.jsxs)(d.X2,{gap:4,alignItems:"center",children:[null===(o=e.icon)||void 0===o?void 0:o.call(e,h.icon),e.label&&(0,p.jsx)("div",{style:h.label,children:e.label})]})},e.key)}))})})}),(0,p.jsx)(v,{id:f(i),role:"tabpanel","aria-labelledby":m(i),children:t[i]?t[i].children:null})]})}function b(e){return(0,p.jsxs)("div",{className:m,style:{"--min-column-width":`${e.minWidth}px`},children:[e.left,e.right]})}},99731:(e,t,o)=>{o.d(t,{f:()=>h,o:()=>g});o(67294);var i=o(480),n=o(86628),r=o(68939),s=o(80365),a=o(11599),l=o(77933),d=o(68709),c=o(97053),p=o(61679),u=o(85893);const h=e=>{let{store:t}=e;return(0,u.jsx)("div",{style:{width:"100%",maxWidth:"100%",margin:"0 auto 6px auto"},onMouseDown:c.m4,onClick:c.h9,children:(0,u.jsx)(l.Z,{type:"page",store:t,headerText:(0,u.jsx)(r.FormattedMessage,{defaultMessage:"Linked to this page",id:"page.expandedBacklinks.label"}),disableCurrentPageToken:!0,disableInaccessiblePages:!0})})};function g(e){window.__c={n:"PageExpandedBacklinksModule"};const t=(0,i.O7)(),o=(0,n.VK)((()=>t.PageDetailsStore.getToggleState({environment:t,type:"backlinks",id:e.store.id})),[e.store,t]),r=(0,n.VK)((()=>{const e=a.dy(t,"backlinks");return void 0===o?e:o}),[o,t]);return 0===(0,n.VK)((()=>{if(!r)return 0;return(0,s.L)(e.store,t).backlinks.length}),[r,e.store,t])?null:(0,u.jsx)(p.bU,{className:"layout-content-with-divider",children:(0,u.jsx)(d.p,{allowSelectionWithin:!0,children:(0,u.jsx)(h,{store:e.store})})})}},11803:(e,t,o)=>{o.d(t,{D:()=>h,p:()=>g});o(67294);var i=o(480),n=o(86628),r=o(51454),s=o(50627),a=o(68709),l=o(23063),d=o(65496),c=o(97053),p=o(61679),u=o(85893);function h(e){window.__c={n:"PageCoverModule"};const{store:t,isEditable:o,paddingLeft:r,paddingRight:s,pageCoverHeight:h,onMouseEnter:m,onMouseMove:y,onMouseLeave:f}=e,S=(0,i.O7)(),v=(0,n.VK)((()=>t.isCollectionView()?"20vh":h),[h,t]),x=(0,n.VK)((()=>S.WindowSizeStore.getSafePaddingLeftCSS(r)),[S.WindowSizeStore,r]),C=(0,n.VK)((()=>S.WindowSizeStore.getSafePaddingRightCSS(s)),[S.WindowSizeStore,s]),b=(0,n.VK)((()=>S.WindowSizeStore.state.width),[S.WindowSizeStore]),M=(0,c.WJ)(t),w=(0,n.VK)((()=>g(t,S)),[S,t]);return(0,u.jsx)(p.hy,{children:(0,u.jsx)(l.Z,{isVisible:!0,animationStyle:{translateX:M},render:()=>(0,u.jsx)(a.p,{allowSelectionWithin:!1,style:w,onMouseEnter:m,onMouseMove:y,onMouseLeave:f,children:(0,u.jsx)(d.Z,{height:v,store:t,disabled:!o,paddingLeft:x,paddingRight:C,proxyWidth:b})})})})}function g(e,t){const o=(0,s.kC)(e,t);return o.zIndex=r.ag,o}},16720:(e,t,o)=>{o.d(t,{Z:()=>R,k:()=>I});var i=o(67294),n=o(83355),r=o(480),s=o(86628),a=o(24405),l=o(90199),d=o(1436),c=o(82990),p=o(68939),u=o(50906),h=o(61916),g=o(993),m=o(39699),y=o(28651),f=o(68056),S=o(67669),v=o(18514),x=o(61766),C=o(24666),b=o(84076),M=o(31278),w=o(76798),k=o(32662),P=o(26388),j=o(65187),_=o(85893);class T extends n.Z{constructor(){super(...arguments),this.editor=null,this.storeTypes={buttonPopupStore:x.Z},this.handleEnter=e=>{if(!this.canEdit())return;if(e.preventDefault(),this.editor&&this.editor.isComposing())return;const t=C.default.state;if("editing"===t.mode){const e=(0,f.QY)(t.multiSelection);if(!e)return;m.createAndCommit({userAction:"PageDescription.handleEnter",environment:this.environment,perform:t=>{g.hJ({environment:this.environment,store:this.props.descriptionStore,string:"\n",selection:e.selection,disableMentions:!0,disableDateMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:t})}})}},this.handleToggleExpanded=e=>{Z(this.props.toggleStore)||e.preventDefault(),function(e,t,o,i,n){const r=Z(e);h.YT({environment:i,pageId:t,isExpanded:!r,store:e,userSettingsStore:n,descriptionStore:o})}(this.props.toggleStore,this.props.pageId,this.props.descriptionStore,this.environment,this.props.userSettingsStore)}}renderComponent(){return(0,_.jsx)("div",{style:{maxWidth:"100%",borderRadius:4,overflow:"hidden",marginBottom:12},children:this.renderExpanded()})}renderExpanded(){return this.environment.device.isMobile?(0,_.jsx)(i.Fragment,{children:this.renderDescriptionText()}):(0,_.jsx)(P.Z,{renderTooltip:()=>(0,_.jsx)(L,{collectionStore:this.props.collectionStore}),disableTooltip:!this.props.locked||!this.props.canEdit,render:e=>(0,_.jsx)("div",{children:(0,_.jsx)("div",{style:{display:"flex",cursor:"text"},...e,children:this.renderDescriptionText()})})})}renderDescriptionText(){const{device:e}=this.environment,{intl:t}=this.props;if(this.props.descriptionStore)return(0,_.jsx)(j.Z,{ref:e=>{this.editor=e},store:this.props.descriptionStore,style:{...V,width:780},disabled:this.props.disabled,placeholder:t.formatMessage({defaultMessage:"Add a description…",id:"pageDescription.emptyPlaceholder"}),disableSlashCommands:!0,disableEmbedMenu:!0,disableDateMentions:!0,disableMentions:!0,onTab:B,onUntab:E,onEnter:this.handleEnter,onClick:Z(this.props.toggleStore)?()=>{}:this.handleToggleExpanded,disableStyleAnnotations:e.isMobileBrowser,disableInsertedDeletedAnnotations:e.isMobileBrowser,disableHorizontalEdgeScroll:!0,pasteBehavior:"inline"})}canEdit(){const{descriptionStore:e}=this.props,t=this.pageContext&&this.pageContext.publicEditModeStore.state;return!this.props.disabled&&(!(0,S.YF)(t)&&e.canEdit())}}T.displayName="PageDescription",T.stores={buttonPopupStore:x.Z};const V={fontSize:14,paddingLeft:6,paddingBottom:4,paddingTop:3},R=(0,p.injectIntl)(T);function I(){window.__c={n:"SprintBoardPageDescription"};const e=(0,r.O7)(),t=(0,s.qz)(void 0,y.Z),o=(0,s.VK)((()=>t.state.mouseEntered),[t]),i=(0,a.yK)((e=>({linkStyle:{...V,color:o?e.mediumTextColor:e.lightTextColor,cursor:"pointer"}})),[o]);return(0,_.jsx)("div",{style:{display:"flex"},onClick:()=>u.Fsx(e,{from:"sprint_board_learn_how_to_use"}),children:(0,_.jsxs)(b.Z,{style:i.linkStyle,href:(0,v.UY)("guides.sprintPlanning"),external:!0,disabled:!0,onMouseEnter:()=>t.enter(),onMouseLeave:()=>t.exit(),children:[(0,_.jsx)(p.FormattedMessage,{defaultMessage:"Learn how to use Sprints",id:"pageDescription.sprintBoard.message"}),(0,_.jsx)(k.Z,{size:2}),(0,d.g)({width:16,display:"inline-block",position:"relative",top:"3px",height:void 0})]})})}function Z(e){return e.isExpanded()}function L(e){let{collectionStore:t}=e;window.__c={n:"LockedTooltipComponent"};const o=(0,s.VK)((()=>t&&t.getIcon()),[t]);return(0,_.jsxs)("div",{style:{display:"flex",alignItems:"start"},children:[(0,_.jsx)("div",{style:{paddingTop:4,paddingRight:6},children:(0,l.b)({width:12})}),(0,_.jsx)("div",{children:(0,_.jsx)("div",{children:(0,_.jsx)(p.FormattedMessage,{defaultMessage:"Please unlock {pageTitleWithIcon} to edit the description.",id:"pageDescription.lockedTooltip.message",values:{pageTitleWithIcon:(0,_.jsxs)("span",{style:{whiteSpace:"nowrap",fontWeight:c.Z.fontWeight.bold},children:[o&&(0,_.jsx)(M.Z,{disabled:!0,icon:o,isEmptyPage:!1,size:12,style:{marginRight:4,display:"inline-block"}}),t&&(0,_.jsx)(w.Z,{store:t,style:{display:"inline"}})]})}})})})]})}function B(e){return!0}function E(e){return!0}},6779:(e,t,o)=>{o.d(t,{z:()=>j,s:()=>_});var i=o(67294),n=o(480),r=o(86628),s=o(43250),a=o(11599),l=o(50627),d=o(65598),c=o(68709),p=o(97053),u=o(61679),h=o(1302),g=o(23867),m=o(98104),y=o(39699),f=o(18821),S=o(34047),v=o(82994),x=o(77907),C=o(46351),b=o(82136),M=o(85893);const w=e=>{window.__c={n:"NewPageDiscussion"};const{store:t}=e,o=(0,n.O7)(),r=(0,i.useMemo)((()=>new v.Z(o,(0,g.C)(t.pointer.spaceId))),[o,t.pointer.spaceId]),s=(0,i.useCallback)((()=>{m.ZH(o)}),[o]),a=k({environment:o,discussionInputStore:r,store:t});return(0,M.jsx)(x.LazyDiscussionInput,{showAvatar:!0,parentStore:t,onSubmit:a,onCancel:s,discussionInputStore:r,discussionFormat:S.O2.Page,isMobileSlideUpMenu:!1,shouldSaveUnsentComments:!0,canDrop:!0,blockStore:t})},k=e=>{const{environment:t,discussionInputStore:o,store:n}=e,s=(0,r.qz)(void 0,b.Z),a=(0,i.useCallback)((e=>{var o;const i=n.id;null===(o=t.PageDetailsStore)||void 0===o||o.setToggleState({environment:t,type:"discussion",id:i},e)}),[t,n.id]);return(0,i.useCallback)((async()=>{const e=o.state.textStore.getValue(),i=o.state.files;if(e&&e.length>0||i.length>0){const{performResult:r}=y.createAndCommit({userAction:"PageDiscussion.useSubmitNewDiscussion",environment:t,perform:o=>f.i8({environment:t,blockStore:n,commentTextValue:e||[],transaction:o,files:i}),skipUpdatingEditedMetadata:!0});if(o.reset(),s.setState({...s.state,forceDiscussionOpen:!1}),a(!0),r&&!t.device.isMobile){await h.default.afterNextFlush();const e=C.Z.find((e=>e.getStore().id===r.id));e&&m.NX({store:e.getInputStore().state.textStore})}}}),[o,t,s,a,n])},P=e=>{window.__c={n:"UnresolvedPageDiscussion"};const{store:t,discussionStore:o,isFirst:r,isOnly:s}=e,a=(0,n.O7)(),l=(0,i.useMemo)((()=>new v.Z(a,(0,g.C)(t.pointer.spaceId))),[a,t.pointer.spaceId]);return(0,M.jsx)(x.LazyDiscussion,{store:o,format:S.O2.Page,isFirst:r,isOnly:s,discussionLocation:"page_discussion",showResolveButtonByDefaultIfPossible:!1,blockStore:t,discussionInputStore:l},o.id)},j=e=>{const{store:t,showDiscussionInput:o,unresolvedDiscussionStores:i}=e;return(0,M.jsxs)("div",{style:{width:"100%",margin:"0 auto"},onMouseDown:p.m4,onClick:p.h9,className:s.KA2,children:[i.map(((e,o,i)=>(0,M.jsx)(P,{store:t,discussionStore:e,isFirst:0===o,isOnly:1===i.length},e.id))),o&&(0,M.jsx)("div",{style:{padding:"6px 4px 12px"},children:(0,M.jsx)(w,{store:t})})]})};function _(e){window.__c={n:"PageDiscussionsModule"};const{store:t,disableDiscussionInput:o,shouldShowDiscussion:i}=e,s=(0,n.O7)(),p=(0,r.VK)((()=>{if(!i)return{type:"hidden"};if(a.A$("comments","section_hide"))return{type:"hidden"};const e=s.currentUser.isLoggedIn(),n=d.vV(t,{recursivelyLoadAllDiscussions:!1}),r=!o&&e&&t.canComment()&&0===n.length&&!(0,l.a_)(t);return r||0!==n.length?{type:"visible",showDiscussionInput:r,unresolvedDiscussionStores:n}:{type:"hidden"}}),[o,s.currentUser,i,t]);return"hidden"===p.type?null:(0,M.jsx)(u.bU,{className:"layout-content-with-divider",children:(0,M.jsx)(c.p,{allowSelectionWithin:!0,children:(0,M.jsx)(j,{...p,withLegacyInputPadding:!0,store:t})})})}},2524:(e,t,o)=>{o.d(t,{H:()=>v,e:()=>S});var i=o(67294),n=o(60177),r=o(64338),s=o(480),a=o(86628),l=o(19977),d=o(92650),c=o(43250),p=o(50627),u=o(68785),h=o(55217),g=o(37451),m=o(97053),y=o(61679),f=o(85893);const S=(0,i.forwardRef)((function(e,t){let{store:o,disabled:i,loadingContainerStore:s,templatePickerMenuListStore:l,onClick:d,legacyStyles:p}=e;window.__c={n:"PageEditor"};const y=(0,n.Dl)();(0,r.q7)(null==y?void 0:y.domLock);const S=(0,m.Nr)(o),v=(0,m.xC)(o,s),x=(0,m.Qg)(o),C=(0,a.VK)((()=>o.isLocked()||i),[o,i]);return(0,f.jsxs)("div",{className:c.QS0,onClick:d,style:p,ref:t,children:[!x&&(0,f.jsx)(h.Z,{store:o.getContentStore(),emptyDroppableStyle:{width:"100%"},disabled:C}),S&&(0,f.jsx)(u.Z,{}),v&&(0,f.jsx)(g.Z,{store:o,menuListStore:l})]})})),v=(0,i.forwardRef)(((e,t)=>{window.__c={n:"PageEditorModule"};const{store:o,disabled:i,context:n,loadingContainerStore:r,templatePickerMenuListStore:c,handlePlaceholderWrapClick:u,pageViewBlockAccessor:h,legacyStyles:g}=e,m=(0,s.O7)(),v=(0,a.VK)((()=>(0,d.fg)(m,o)),[m,o]),x=(0,a.VK)((()=>(0,p.CX)(o)),[o]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(y.bU,{className:"layout-editor",style:{minHeight:"170px"},children:(0,f.jsx)(S,{store:o,disabled:i,loadingContainerStore:r,templatePickerMenuListStore:c,onClick:x?u:void 0,legacyStyles:g,ref:t})}),v?(0,f.jsx)(y.$K,{children:(0,f.jsx)(l.Z,{pageBlockStore:o,isVisible:!0,context:n,pageViewBlockAccessor:h,isCollapsedAnchor:!0})}):null]})}))},56507:(e,t,o)=>{o.d(t,{U:()=>n});o(67294);var i=o(85893);function n(e){let{onMouseEnter:t,onMouseMove:o,onMouseLeave:n,headerControls:r}=e;return(0,i.jsx)("div",{onMouseEnter:t,onMouseMove:o,onMouseLeave:n,children:r})}},5618:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(67294),n=o(480),r=o(86628),s=o(41432),a=o(43593),l=o(68939),d=o(9953),c=o(39699),p=o(95477),u=o(28020),h=o(31278),g=o(85893);const m=i.memo((e=>{let{store:t,isEditable:o,hasCover:m,isInSidePeek:y,openMenuOnMount:f,openMenuOnMountCallback:S}=e;window.__c={n:"PageIcon"};const v=(0,n.O7)(),x=(0,l.useIntl)(),C=(0,r.VK)((()=>t.hasIcon()),[t]),b=(0,r.VK)((()=>{if(C)return t.getIcon()}),[C,t]),M=(0,r.VK)((()=>t.getIconStore()),[t]),w=(0,r.VK)((()=>t.getType()),[t]),k=(0,r.VK)((()=>{if(t.isCollectionView()){const e=t.getCollectionViewSourceCollectionStore();return!!e&&e.isSyncedCollection()}return t.isType(s.Ti.externalObjectInstancePage)}),[t]),P=(0,r.VK)((()=>t.isCollectionView()||y),[t,y]),j=(0,r.VK)((()=>P?36:k?74:140),[P,k]),_=(0,r.VK)((()=>t.isEmptyPage()),[t]),T=(0,i.useCallback)((async e=>{const o=t.getIconStore();if(o){const t=(0,a.Wv)(e,p.default.secureFileS3.url,p.default.secureFileS3V2.url,p.default.secureFileConfig.rootPath,p.default.secureFileConfig.hostname),i=t?t.link:e,{serverCommitResult:n}=c.createAndCommit({userAction:"PageIcon.handleChange",environment:v,perform:e=>{d.sO({store:o,value:i,transaction:e})}});await n}}),[v,t]);if(!C)return null;const V={position:"relative",zIndex:1,marginLeft:3,marginBottom:v.device.isMobile?8:0,marginTop:4,pointerEvents:"auto"};let R;P?V.marginRight=6:V.marginTop=m?-80:v.device.isMobile?0:(0,u.CP)(v),R=P?{marginTop:(v.device.isMobile,4),marginRight:8}:{marginTop:m?-42:v.device.isMobile?0:(0,u.CP)(v)};const I=P?36:78;if(o){const e=null==M?void 0:M.table;return(0,g.jsx)(h.Z,{disabled:!1,bucket:"secure",icon:b,store:t,isEmptyPage:_,onChange:T,size:j,emojiSize:I,style:V,emojiStyle:R,largeIcon:!0,openMenuOnMount:f,openMenuOnMountCallback:S,iconLoggingData:{recordTable:e,source:"page_header",block_type:w,collection_id:"collection"===e?null==M?void 0:M.id:void 0},label:x.formatMessage({id:"layout.pageIcon.label",defaultMessage:"Change page icon"})})}return(0,g.jsx)(h.Z,{disabled:!0,icon:b,isEmptyPage:_,size:j,emojiSize:I,style:V,emojiStyle:R,largeIcon:!0,label:x.formatMessage({id:"layout.pageIcon.disabledLabel",defaultMessage:"Page icon"})})}))},22735:(e,t,o)=>{o.d(t,{$:()=>K,V:()=>F});var i=o(67294),n=o(86628),r=o(50627),s=o(19671),a=o(82136),l=o(13023),d=o(68709),c=o(480),p=o(24405),u=o(80951),h=o(6695),g=o(42875),m=o(72126),y=o(68939),f=o(82356),S=o(27714),v=o(4615),x=o(14871),C=o(63296),b=o(95477),M=o(77080),w=o(62878),k=o(13555),P=o(85893);const j=(0,y.defineMessages)({linkCopied:{defaultMessage:"Link copied. Share it with others who may find this useful.",id:"ai.gtmFavoriteActions.linkCopied"},share:{defaultMessage:"Share as AI favorite",id:"ai.gtmFavoriteActions.share"},add:{defaultMessage:"Add to AI favorites",id:"ai.gtmFavoriteActions.add"}});function _(e){window.__c={n:"GtmFavoriteButtons"};const{blockId:t}=e,o=(0,c.O7)(),n=(0,y.useIntl)(),r=(0,i.useCallback)((()=>{(0,w.importGtmFavorite)({environment:o,importArgs:{name:"aiGtmFavoriteImport",blockId:t}})}),[t,o]),s=(0,i.useCallback)((()=>{const e=`${b.default.domainBaseUrl}/ai-gtm/${(0,v.cj)(t)}`;x.RD({environment:o,stringValue:e,copiedMessage:j.linkCopied})}),[t,o]);return(0,P.jsxs)("div",{style:{marginTop:12,marginBottom:12},children:[(0,P.jsx)(C.Z,{onClick:s,icon:S.N,children:n.formatMessage(j.share)}),o.currentUser.isLoggedIn()&&(0,P.jsx)(C.Z,{onClick:r,style:{marginLeft:12},icon:f.l,children:n.formatMessage(j.add)})]})}var T=o(28651),V=o(85526),R=o(50478),I=o(41883),Z=o(12867),L=o(65091);function B(e){var t;window.__c={n:"PagePropertiesSection"};const{collectionStore:o,schema:r,store:s,format:a}=e,l=(0,y.useIntl)(),d=(0,c.O7)(),f=(0,i.useRef)(null),S=(0,n.qz)(void 0,T.Z),v=(0,p.yK)((e=>({pageProperties:{width:"100%",fontSize:14},dragHandle:{marginLeft:-(R.C$+10),marginRight:6},hidePropertiesButton:{margin:"0 0 10px"},showMoreButton:{margin:0},addPropertyButton:{margin:"4px 0 0"},moreProperties:{border:`1px solid ${"dark"===e.mode?e.accentColors.gray[300]:e.accentColors.gray[75]}`,borderRadius:4,padding:"8px 6px"}})),[]),x=(0,n.VK)((()=>Boolean(s.isAssociatedCollectionAPageTree())),[s]),C=(a.collection_page_properties||[]).filter((e=>{var t;return null===(t=a.collection_page_sections)||void 0===t||!t.some((t=>t.section===e.property&&("inline"===t.visibility||"minimal"===t.visibility)))})),b=(0,n.VK)((()=>{const e=s.getModel(),t="on"===M.default.getGroup("default-new-page-property-to-hide-when-empty")?h.iB(a,r,void 0,h.j5.Collection):o.getFormat(),i=t&&t.property_visibility;if(i){return C.map((t=>({visibility:"show",hasValue:!Boolean(e&&(0,u.no)({block:e,property:t.property,schema:r,getRecordModel:s.getRecordModel,userId:d.currentUser.id,userTimeZone:(0,g.r)(),intl:l})),...t,...i.find((e=>e.property===t.property))})))}return C?C.map((e=>({...e,visibility:"show",hasValue:Boolean(s.getPropertyValue(e.property))}))):[]}),[s,a,r,o,C,l,d.currentUser.id]),w=(0,n.VK)((()=>V.Z.state.forceShowProperties),[]),[j,B]=(0,i.useMemo)((()=>m.uK(b,(e=>{var t;return!!(null===(t=r[e.property])||void 0===t?void 0:t.type)&&function(e){if("section"===e.visibility)return!1;if("hide"===e.visibility)return!1;if("hide_if_empty"===e.visibility&&!e.hasValue)return!1;return!0}(e)}))),[b,r]),E=function(e){return(0,n.VK)((()=>{if(!M.default.checkGate("ai_favorites"))return!1;const t=(0,k.OF)();return!!t&&t.spaceId===e.getSpaceId()&&t.collectionId===e.id}),[e])}(o),K=j.concat(B),{paddingLeft:F,paddingRight:D,width:O}=e,A=((null===(t=f.current)||void 0===t?void 0:t.clientWidth)??Number.MAX_VALUE)<Math.min(5,j.length)*Z.Uv;let N;return N=!x||d.device.isMobile||A?(0,P.jsxs)("div",{style:{paddingBottom:8},children:[(0,P.jsx)(I.Z,{...e,showHiddenProperties:w,mergedProperties:x?K:b}),(0,P.jsx)(L.ZP,{...e,mergedProperties:x?K:b})]}):(0,P.jsx)(Z.ZP,{...e,rowLength:5,compactProperties:j,hiddenProperties:B}),(0,P.jsx)("div",{style:v.pageProperties,onMouseEnter:()=>{S.setState({...S.state,mouseEntered:!0})},onMouseLeave:()=>{S.setState({...S.state,mouseEntered:!1})},ref:f,children:(0,P.jsx)("div",{style:{paddingLeft:F,paddingRight:D,width:O,maxWidth:"100%",padding:x?"10px 0":"8px 0",margin:"0 auto"},children:(0,P.jsxs)("div",{style:{paddingLeft:F,paddingRight:D,width:O,maxWidth:"100%",paddingTop:"8px",margin:"0 auto"},children:[N,E&&(0,P.jsx)(_,{blockId:s.id})]})})})}var E=o(61679);function K(e){window.__c={n:"PageProperties"};const{store:t,format:o,collectionStore:i,disabled:r,blockPropertyValueOverlayStore:s,isInPeekRenderer:a}=e,l=(0,n.VK)((()=>i.getSchema()),[i]),d=(0,n.VK)((()=>t.isLocked()),[t]);return(0,P.jsx)(B,{store:t,collectionStore:i,schema:l,format:o,disabled:r,locked:d,width:"100%",blockPropertyValueOverlayStore:s,isInPeekRenderer:a})}function F(e){window.__c={n:"PagePropertiesModule"};const{store:t,context:o,canEdit:i}=e,c=(0,n.VK)((()=>{if(t.isCollectionViewPageWithContent())return{type:"hidden"};const e=t.getAssociatedCollectionStore();if(!e)return{type:"hidden"};const o=(0,r.y6)(t);return o?{type:"visible",store:t,format:o,collectionStore:e}:{type:"hidden"}}),[t]);if("hidden"===c.type)return null;const p=o===a.S.PeekView;return(0,P.jsx)(E.bU,{className:"layout-content-with-divider",children:(0,P.jsx)(d.p,{allowSelectionWithin:!0,children:(0,P.jsx)(K,{...c,disabled:!i,isInPeekRenderer:p,blockPropertyValueOverlayStore:p?l.Z:s.Z})})})}},35943:(e,t,o)=>{o.d(t,{Z:()=>E});var i=o(67294),n=o(13991),r=o(480),s=o(97511),a=o(86628),l=o(24405),d=o(49271),c=o(41432),p=o(42509),u=o(42875),h=o(27714),g=o(82990),m=o(68939),y=o(75018),f=o(28020),S=o(41232),v=o(33929),x=o(67669),C=o(24646),b=o(21273),M=o(26136),w=o(99757),k=o(68709),P=o(15560),j=o(73063),_=o(84076),T=o(26388),V=o(19987),R=o(79954),I=o(44862),Z=o(65187),L=o(85893);function B(e){window.__c={n:"SyncedIndicators"};const{store:t,collectionContextStore:o}=e,i=(0,a.VK)((()=>t.isCollectionView()),[t]),n=(0,a.VK)((()=>t.getCollectionViewSourceCollectionStore()),[t]);return i&&o&&n?(0,L.jsx)(I.Z,{collectionStore:n,collectionContextStore:o}):null}const E=i.memo((e=>{let{store:t,disabled:o,isInSidePeek:i,extraStyles:I,paddingLeft:E,paddingRight:K,titlePlaceholder:F,collectionContextStore:D,shouldShowTemplatePicker:O,onTitleChange:A,onTitleEditText:N,onTitleEsc:W,onTitleUntab:H,onTitleTab:z}=e;window.__c={n:"PageTitle"};const U=(0,r.O7)(),$=(0,s.l)(),G=(0,a.VK)((()=>t.getTitleStore()),[t]),Q=(0,a.VK)((()=>{if(t.isCollectionView()){const e=t.getCollectionViewSourceCollectionStore();return!!e&&e.isSyncedCollection()}return t.isType(c.Ti.externalObjectInstancePage)}),[t]),Y=(0,a.VK)((()=>{if(o)return!1;if(w.n.state)return!1;const e=$&&$.publicEditModeStore.state;return!(0,x.YF)(e)&&t.canEditCollection()}),[o,$,t]),q=(0,a.VK)((()=>{if(!t.isCollectionView())return!1;const e=t.getCollectionViewSourceCollectionStore();return!!e&&(0,p.OY)(e.getValue())}),[t]),X=(0,a.VK)((()=>{const e=t.getModel();return F??(null==e?void 0:e.getEmptyTitlePlaceholder({getRecordModel:t.getRecordModel,userTimeZone:(0,u.r)(),intl:v.default.getIntl()}))}),[t,F]),J=!U.device.isMobile&&i,ee=(0,a.VK)((()=>Y&&!t.isLocked()&&!Q&&!(0,f.qG)(t.id)),[Y,Q,t]),te=(0,a.VK)((()=>t.isEmptyPage()),[t]),oe=(0,a.VK)((()=>t.isTemplate()),[t]),ie=(0,a.VK)((()=>t.getParentCollectionTemplateStores()),[t]),ne=(0,a.VK)((()=>t.getSyncedUri()),[t]),re=(0,a.VK)((()=>t.shouldShowBetaTagForProjectManagementLaunch()),[t]),se=function(e){const{store:t,paddingLeft:o,paddingRight:i,isInSidePeek:s,shouldShowBetaTagForProjectManagementLaunch:c,extraStyles:p}=e,u=(0,r.O7)(),h=(0,a.VK)((()=>t.getFormat()),[t]),m=(0,a.VK)((()=>t.isCollectionView()),[t]),y=(0,a.VK)((()=>(0,C.$3)(u)),[u]),f=(0,a.VK)((()=>(0,C.vJ)(u)),[u]),S=(0,a.VK)((()=>t.getAppContainerBlockStore()),[t]),v=(0,a.VK)((()=>t.isExternalObjectInstancePageBlockStore()),[t]);return(0,l.yK)((e=>{const t=!!h.page_small_text||u.device.isMobile||m||s?32:40,r=y+f-o-i;return{title:{...d.ZD,width:v||c?"fit-content":"100%"},selectable:{color:e.regularTextColor,fontWeight:g.Z.fontWeight.bold,lineHeight:1.2,fontSize:t,fontFamily:g.Z.getHeaderFontFamily({pageFont:h.page_font,locale:n.SP}),cursor:"text",display:"flex",alignItems:"center",textRendering:u.device.isSafari?"optimizeSpeed":void 0,width:m&&!S?r:void 0,...p},link:{width:16,fill:e.mediumIconColor},placeholder:{...d.ZD,WebkitTextFillColor:e.pageTitlePlaceholderTextColor,cursor:"text"}}}),[S,f,u.device.isMobile,u.device.isSafari,p,h.page_font,h.page_small_text,m,v,s,y,o,i,c])}({store:t,isInSidePeek:i,paddingLeft:E,paddingRight:K,shouldShowBetaTagForProjectManagementLaunch:re,extraStyles:I}),ae=(0,a.VK)((()=>t.isExternalObjectInstancePageBlockStore()),[t]),le=(0,a.VK)((()=>t.isExternalCollectionBlockStore()?t:void 0),[t]),de=(0,a.VK)((()=>(null==le?void 0:le.canEdit())??!1),[le]),ce=(0,a.VK)((()=>ne?(0,S.pI)(ne,t.pointer.spaceId):void 0),[t.pointer.spaceId,ne]),pe=(0,a.VK)((()=>b.Z.isAssistant2Enabled(void 0)),[]);if(q)return null;if(!G)return null;const ue=M.G.createChildStore(G,t.pointer),he=ie&&0===ie.length,ge=U.device.isIOS||U.device.isSafari,me=(0,L.jsx)(Z.Z,{tagName:"h1",style:{...se.title,fontSize:"1em",fontWeight:"inherit",margin:0},store:G,placeholderStyle:se.placeholder,disabled:!ee,placeholder:X,disableSlashCommands:!0,disableSelectAllBlocks:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!pe,disableMobileActionBar:!1,disableShiftEnter:!0,disableEmbedMenu:!0,onEsc:W,onUntab:H,onTab:z,disableUpDownArrows:!(!O||oe||he||U.device.isMobile)&&te,disableEnter:!(!O||oe||he||U.device.isMobile)&&te,onChange:A,disableHorizontalEdgeScroll:!0,pasteBehavior:"block",trackEditsToUserFlow:"user_flow_edit_page_title"});return(0,L.jsxs)("div",{style:J?{flex:1}:void 0,children:[(0,L.jsxs)(R.Z,{canSelect:!1,canDrag:!1,canEditText:ee,onEditText:N,store:ue,style:se.selectable,analyticsName:"page_content",shouldShowDropZone:!0,children:[ge?(0,L.jsx)(k.p,{style:se.title,allowSelectionWithin:!0,children:me}):me,re&&(0,L.jsx)(P.Z,{style:{marginTop:8,marginLeft:8}}),ae&&(0,L.jsx)(T.Z,{placement:T.Z.Placement.Bottom,renderTooltip:e=>(0,L.jsx)(m.FormattedMessage,{...e,defaultMessage:"Link to original url",description:"Link to the original source of the data.",id:"PageTitle.syncedBlock.original"}),render:e=>(0,L.jsx)(_.Z,{href:ce,ignoreLocalHoverState:!0,hovered:!1,children:(0,L.jsx)(j.Z,{ariaLabel:"Link",...e,icon:()=>(0,h.N)(se.link),style:{marginLeft:4},onClick:()=>{ce&&y.navigateToExternalURL({url:ce,environment:U})}})})}),le&&!U.device.isMobile&&(0,L.jsx)(V.Z,{store:le,canEdit:de,buttonStyle:{fontWeight:"normal",margin:0}})]}),(0,L.jsx)("div",{style:{marginLeft:4},children:(0,L.jsx)(B,{store:t,collectionContextStore:D})})]})}))},21953:(e,t,o)=>{o.d(t,{J:()=>g});var i=o(67294),n=o(480),r=o(6740),s=o(86628),a=o(77907),l=o(5382),d=o(68709),c=o(19987),p=o(5618),u=o(35943),h=o(85893);const g=e=>{let{store:t,hasCover:o,headerFocusStore:g,headerControls:m,isEditable:y,openMenuOnMount:f,openMenuOnMountCallback:S,pageViewBlockStore:v,discussionInputStore:x,...C}=e;window.__c={n:"PageTitleWithIcon"};const{device:b,WindowSizeStore:M}=(0,n.O7)(),w=b.isMobile&&!o,k=!b.isMobile&&C.isInSidePeek,P=(0,s.VK)((()=>t.isExternalObjectInstancePageBlockStore()&&t.hasError()?t:null),[t]),j=(0,s.VK)((()=>l.Z.state.banners),[]),_=(0,s.VK)((()=>t.canEdit()),[t]),T=(0,s.VK)((()=>M.getSafePaddingLeftCSS(C.paddingLeft)),[M,C.paddingLeft]),V=(0,s.VK)((()=>M.getSafePaddingRightCSS(C.paddingRight)),[M,C.paddingRight]),R=(0,i.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,r.E)(t)&&g.setState(!0)}),[g]),I=(0,i.useCallback)((e=>{g.setState(!1)}),[g]),Z=(0,h.jsx)(p.Z,{store:t,isEditable:y,hasCover:o,isInSidePeek:C.isInSidePeek,openMenuOnMount:f,openMenuOnMountCallback:S}),L=(0,h.jsx)(u.Z,{store:t,...C});return(0,h.jsxs)("div",{style:{maxWidth:"100%",paddingLeft:T,width:"100%"},onClick:e=>{e.stopPropagation()},children:[(0,h.jsx)(a.LazyBannersRenderer,{pageViewBlockStore:v,discussionInputStore:x,banners:j,isMobile:!1,isInPeekRenderer:!1}),(0,h.jsxs)(d.p,{onFocus:R,onBlur:I,allowSelectionWithin:!1,style:{pointerEvents:"none"},children:[w&&m,!k&&Z,!w&&m]}),(0,h.jsx)("div",{style:{paddingRight:V},children:k?(0,h.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[Z,L]}):L}),P?(0,h.jsx)(c.Z,{store:P,canEdit:_}):null]})}},97053:(e,t,o)=>{o.d(t,{Bt:()=>M,Nr:()=>x,Qg:()=>b,WJ:()=>w,h9:()=>v,m4:()=>S,xC:()=>C});var i=o(480),n=o(97511),r=o(86628),s=o(41432),a=o(61045),l=o(57819),d=o(92650),c=o(78316),p=o(19124),u=o(12534),h=o(94841),g=o(16772),m=o(19111),y=o(94896),f=o(17963);function S(e){(0,u.ZP)({event:e,context:u.Af.EditorMouseDown,callback:()=>{}})}function v(e){(0,u.ZP)({event:e,context:u.Af.EditorClick,callback:()=>{}})}function x(e){return(0,r.VK)((()=>Boolean(f.Z.state.pageMap[e.id])||y.Z.state.pages.has(e.id)),[e.id])}function C(e,t){const o=(0,i.O7)(),s=(0,n.l)(),a=x(e),l=b(e);return(0,r.VK)((()=>{const i=o.currentUser.isLoggedIn(),n=s&&s.publicEditModeStore.state;return Boolean(e&&t&&e.isDefined()&&!e.isLocked()&&e.canEdit()&&!e.hasContent()&&i&&(!(null!=n&&n.hasPublicPermission)||"edit"===(null==n?void 0:n.permission))&&!a&&t.state.ready&&!l&&(!(0,p.GD)(n)||"completionPopup"!==g.default.state.type))}),[o,l,t,s,a,e])}function b(e){return(0,r.VK)((()=>{if(e.isCollectionView()){const t=e.getCollectionViewSourceCollectionStore();return!!t&&t.isSyncedCollection()}return e.isType(s.Ti.externalObjectInstancePage)}),[e])}function M(e){const{device:t,WindowSizeStore:o}=(0,i.O7)(),n=(0,r.VK)((()=>{const e=o.state.height,i=t.isMobile&&m.Z.state.open?e:0;return a._4()+i}),[o,t.isMobile]);return(0,r.VK)((()=>Boolean((0,l.RR)(g.default.state))?600:"home-phone"===e?h.jq:t.isTablet?380:t.isIOS?Math.max(350,n):t.isMobile?400:"side-peek"===e||"center-peek"===e?80:"home"===e?h.XX:"30vh"),[t,n,e])}function w(e){const t=(0,i.O7)(),o=(0,r.VK)((()=>(0,d.fg)(t,e)),[t,e]);return(0,r.VK)((()=>o&&!e.isFullWidth()?(0,d.gC)(t,(0,c.en)(e),(0,c.Ks)(e)):0),[t,o,e])}},13630:(e,t,o)=>{o.d(t,{Tf:()=>s,bl:()=>r,q0:()=>a});var i=o(25651),n=o(70406);const r=[{type:"cover"},{type:"titleWithIcon"},{type:"properties"},{type:"inlinePageSections"},{type:"expandedBacklinks"},{type:"discussions"},{type:"bottomControls"},{type:"editor"}],s=[{type:"cover"},{type:"titleWithIcon"},{type:"properties"},{type:"inlinePageSections"},{type:"expandedBacklinks"},{type:"discussions"},{type:"bottomControls"},{type:"tabs",style:"left-aligned",tabs:[{icon:"pencil",label:"Notes",content:[{type:"editor"}]},{icon:"transcript",label:"Transcript",content:[{type:"transcript"}]}]}],a={pencil:i.R,transcript:n.p}},70177:(e,t,o)=>{o.d(t,{L:()=>p});var i=o(13991),n=o(65669),r=o(90902),s=o(24990);const a={ko:()=>o.e(692).then(o.bind(o,13547)),es:()=>o.e(883).then(o.bind(o,98610)),de:()=>o.e(3224).then(o.bind(o,36802)),fr:()=>o.e(5038).then(o.bind(o,96627)),pt:()=>o.e(2138).then(o.bind(o,88048)),zh:()=>o.e(7835).then(o.bind(o,41787)),ja:()=>o.e(6377).then(o.bind(o,28202)),da:()=>o.e(7677).then(o.bind(o,99815)),fi:()=>o.e(6970).then(o.bind(o,65651)),nb:()=>o.e(3031).then(o.bind(o,92967)),nl:()=>o.e(2579).then(o.bind(o,86541)),sv:()=>o.e(382).then(o.bind(o,63462))};let l=!1,d=!1;async function c(e){for(const[o,i]of Object.entries(e.emojiLocaleKeywords)){var t;r.Q4[o]={...r.Q4[o],keywords:[...i,...(null===(t=r.Q4[o])||void 0===t?void 0:t.keywords)||[]]}}await s.Z.waitUntilLoaded(),s.Z.update((t=>{let{emojiByName:o,...i}=t;return{...i,emojiByName:{...o,...e.emojiByName}}}))}const p=(0,n.Z)((async()=>{await async function(){d||(await c(await o.e(3552).then(o.bind(o,62706))),d=!0)}(),await async function(){if(l)return;const[e]=i.SP.split("-");e in a&&(await c(await a[e]()),l=!0)}()}))},29755:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(49085);class n extends i.default{getInitialState(){return{pageMap:{}}}setStatus(e,t){const{pageMap:o}=this.state;t?o[e]=t:delete o[e],this.emit()}}const r=new n},63971:(e,t,o)=>{o.d(t,{Z:()=>r});var i=o(49085);class n extends i.default{getInitialState(){return{isExpanded:!0}}isExpanded(){return Boolean(this.state.isExpanded)}}const r=n},5382:(e,t,o)=>{o.d(t,{Z:()=>i});const i=new(o(8297).Z)},65669:(e,t,o)=>{function i(e){let t,o,i;return async function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t?(i=r,o||(o=t.then((()=>(o=void 0,t=e(...i),t))),o)):(t=e(...r),t)}}o.d(t,{Z:()=>i})},65955:(e,t,o)=>{o.d(t,{o:()=>r});o(67294);var i=o(45238),n=o(85893);const r=(0,i.I)("addPage",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 0c3.861 0 7 3.139 7 7s-3.139 7-7 7-7-3.139-7-7 3.139-7 7-7zM3.561 5.295a1.027 1.027 0 1 0 2.054 0 1.027 1.027 0 0 0-2.054 0zm5.557 1.027a1.027 1.027 0 1 1 0-2.054 1.027 1.027 0 0 1 0 2.054zm1.211 2.816a.77.77 0 0 0-.124-1.087.786.786 0 0 0-1.098.107c-.273.407-1.16.958-2.254.958-1.093 0-1.981-.55-2.244-.945a.788.788 0 0 0-1.107-.135.786.786 0 0 0-.126 1.101c.55.734 1.81 1.542 3.477 1.542 1.668 0 2.848-.755 3.476-1.541z"})})},68074:(e,t,o)=>{o.d(t,{v:()=>r});o(67294);var i=o(45238),n=o(85893);const r=(0,i.I)("addPageDiscussion",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M4.095 15.465c.287 0 .499-.137.84-.444l2.523-2.277 4.47.007c2.058 0 3.214-1.19 3.214-3.22V4.22c0-2.03-1.156-3.22-3.213-3.22H3.213C1.163 1 0 2.19 0 4.22V9.53c0 2.037 1.196 3.22 3.165 3.213h.273v1.983c0 .45.24.738.657.738zM3.958 5.156a.454.454 0 01-.444-.45c0-.24.198-.438.444-.438h7.157c.246 0 .445.198.445.437a.45.45 0 01-.445.451H3.958zm0 2.256a.454.454 0 01-.444-.451c0-.24.198-.444.444-.444h7.157a.448.448 0 010 .895H3.958zm0 2.256a.448.448 0 010-.896h4.669c.246 0 .437.206.437.452a.438.438 0 01-.437.444H3.958z"})})},89767:(e,t,o)=>{o.d(t,{R:()=>r});o(67294);var i=o(45238),n=o(85893);const r=(0,i.I)("collectionInbox",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M11.0918,0 C11.5383,0 11.9307,0.295898 12.0533,0.725586 L13.9615,7.40332 C13.9871,7.49316 14,7.58594 14,7.67871 L14,13 C14,13.5527 13.5522,14 13,14 L1,14 C0.447754,14 0,13.5527 0,13 L0,7.67871 C0,7.58594 0.0129395,7.49316 0.0384521,7.40332 L1.94666,0.725586 C2.06934,0.295898 2.46167,0 2.9082,0 L11.0918,0 Z M4.27271,1.5 C3.83728,1.5 3.45178,1.78223 3.31982,2.19727 L1.91455,6.61328 C1.70947,7.25879 2.1908,7.91699 2.86755,7.91699 L4.70837,7.91699 C4.70837,8.93652 5.16663,10.168 7,10.168 C8.83337,10.168 9.29163,8.93652 9.29163,7.91699 L11.1478,7.89355 C11.8201,7.88477 12.2927,7.22852 12.0876,6.58887 L10.681,2.19531 C10.5485,1.78125 10.1635,1.5 9.72864,1.5 L4.27271,1.5 Z"})})},70406:(e,t,o)=>{o.d(t,{p:()=>r});o(67294);var i=o(45238),n=o(85893);const r=(0,i.I)("transcript",{viewBox:"0 0 16 16",svg:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("path",{d:"M3.99805 5.92188C3.85352 5.92188 3.72656 5.86719 3.61719 5.75781C3.50781 5.64844 3.45312 5.52148 3.45312 5.37695C3.45312 5.22852 3.50781 5.09961 3.61719 4.99023C3.72656 4.88086 3.85352 4.82617 3.99805 4.82617C4.15039 4.82617 4.2793 4.88086 4.38477 4.99023C4.49023 5.0957 4.54297 5.22461 4.54297 5.37695C4.54297 5.52539 4.49023 5.6543 4.38477 5.76367C4.2793 5.86914 4.15039 5.92188 3.99805 5.92188ZM3.99805 7.65625C3.85352 7.65625 3.72656 7.60352 3.61719 7.49805C3.50781 7.38867 3.45312 7.25977 3.45312 7.11133C3.45312 6.96289 3.50781 6.83594 3.61719 6.73047C3.72656 6.62109 3.85352 6.56641 3.99805 6.56641C4.15039 6.56641 4.2793 6.61914 4.38477 6.72461C4.49023 6.83008 4.54297 6.95898 4.54297 7.11133C4.54297 7.26367 4.49023 7.39258 4.38477 7.49805C4.2793 7.60352 4.15039 7.65625 3.99805 7.65625ZM3.99805 9.38477C3.84961 9.38477 3.7207 9.33203 3.61133 9.22656C3.50586 9.12109 3.45312 8.99219 3.45312 8.83984C3.45312 8.69141 3.50586 8.56445 3.61133 8.45898C3.7207 8.35352 3.84961 8.30078 3.99805 8.30078C4.15039 8.30078 4.2793 8.35352 4.38477 8.45898C4.49023 8.56445 4.54297 8.69141 4.54297 8.83984C4.54297 8.99219 4.49023 9.12109 4.38477 9.22656C4.2793 9.33203 4.15039 9.38477 3.99805 9.38477ZM3.99805 11.2129C3.85352 11.2129 3.72656 11.1582 3.61719 11.0488C3.50781 10.9395 3.45312 10.8105 3.45312 10.6621C3.45312 10.5137 3.50781 10.3848 3.61719 10.2754C3.72656 10.166 3.85352 10.1113 3.99805 10.1113C4.15039 10.1113 4.2793 10.166 4.38477 10.2754C4.49023 10.3809 4.54297 10.5098 4.54297 10.6621C4.54297 10.8145 4.49023 10.9453 4.38477 11.0547C4.2793 11.1602 4.15039 11.2129 3.99805 11.2129ZM5.67383 5.75195C5.56836 5.75195 5.47852 5.71484 5.4043 5.64062C5.33008 5.56641 5.29297 5.47852 5.29297 5.37695C5.29297 5.27148 5.33008 5.18164 5.4043 5.10742C5.48242 5.0293 5.57227 4.99023 5.67383 4.99023H12.1836C12.2891 4.99023 12.3789 5.0293 12.4531 5.10742C12.5312 5.18164 12.5703 5.27148 12.5703 5.37695C12.5703 5.47852 12.5332 5.56641 12.459 5.64062C12.3848 5.71484 12.293 5.75195 12.1836 5.75195H5.67383ZM5.67383 7.49219C5.57227 7.49219 5.48242 7.45508 5.4043 7.38086C5.33008 7.30664 5.29297 7.2168 5.29297 7.11133C5.29297 7.00586 5.33008 6.91602 5.4043 6.8418C5.47852 6.76367 5.56836 6.72461 5.67383 6.72461H9.31836C9.42383 6.72461 9.51367 6.76367 9.58789 6.8418C9.66211 6.91602 9.69922 7.00586 9.69922 7.11133C9.69922 7.2168 9.66211 7.30664 9.58789 7.38086C9.51367 7.45508 9.42383 7.49219 9.31836 7.49219H5.67383ZM5.67383 9.22656C5.56836 9.22656 5.47852 9.18945 5.4043 9.11523C5.33008 9.04102 5.29297 8.94922 5.29297 8.83984C5.29297 8.73828 5.33008 8.65039 5.4043 8.57617C5.47852 8.50195 5.56836 8.46484 5.67383 8.46484H12.1836C12.293 8.46484 12.3848 8.50195 12.459 8.57617C12.5332 8.65039 12.5703 8.73828 12.5703 8.83984C12.5703 8.94922 12.5332 9.04102 12.459 9.11523C12.3848 9.18945 12.293 9.22656 12.1836 9.22656H5.67383ZM5.67383 11.043C5.57227 11.043 5.48242 11.0059 5.4043 10.9316C5.33008 10.8535 5.29297 10.7637 5.29297 10.6621C5.29297 10.5566 5.33008 10.4668 5.4043 10.3926C5.47852 10.3184 5.56836 10.2812 5.67383 10.2812H9.31836C9.42383 10.2812 9.51367 10.3184 9.58789 10.3926C9.66211 10.4668 9.69922 10.5566 9.69922 10.6621C9.69922 10.7637 9.66211 10.8535 9.58789 10.9316C9.51367 11.0059 9.42383 11.043 9.31836 11.043H5.67383ZM2.97852 13.4922C2.3457 13.4922 1.86719 13.332 1.54297 13.0117C1.21875 12.6914 1.05664 12.2188 1.05664 11.5938V4.45703C1.05664 3.83203 1.21875 3.35938 1.54297 3.03906C1.86719 2.71484 2.3457 2.55273 2.97852 2.55273H13.0098C13.6465 2.55273 14.127 2.71484 14.4512 3.03906C14.7754 3.35938 14.9375 3.83203 14.9375 4.45703V11.5938C14.9375 12.2188 14.7754 12.6914 14.4512 13.0117C14.127 13.332 13.6465 13.4922 13.0098 13.4922H2.97852ZM3.04883 12.3438H12.9453C13.2148 12.3438 13.4219 12.2734 13.5664 12.1328C13.7109 11.9883 13.7832 11.7754 13.7832 11.4941V4.55664C13.7832 4.27539 13.7109 4.06445 13.5664 3.92383C13.4219 3.7793 13.2148 3.70703 12.9453 3.70703H3.04883C2.77539 3.70703 2.56641 3.7793 2.42188 3.92383C2.28125 4.06445 2.21094 4.27539 2.21094 4.55664V11.4941C2.21094 11.7754 2.28125 11.9883 2.42188 12.1328C2.56641 12.2734 2.77539 12.3438 3.04883 12.3438Z"})})})}}]);