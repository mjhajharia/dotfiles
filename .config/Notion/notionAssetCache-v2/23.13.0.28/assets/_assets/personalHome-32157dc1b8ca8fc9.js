"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[7078],{58188:(e,t,n)=>{n.d(t,{Lg:()=>m,N:()=>g,Rt:()=>p,aG:()=>u});var o=n(13493),r=n(29369),i=n(39699),a=n(77907),s=n(30806),l=n(80444),d=n(14900),c=n(72711);function u(e){const{environment:t,currentSpaceViewStore:n,...o}=e,r=n.getModel();if(!r)return;const a=!r.showFeatureOnPersonalHome(e.feature);i.createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,perform:t=>{i.applyOperation({store:n,operation:{pointer:n.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:a}},transaction:t})}}),(0,s.cY)({environment:t,show:a,...o})}function g(e){let{environment:t,option:n,from:o,userAction:r}=e;const a=l.default.state.currentSpaceViewStore;if(!a)return!1;const d=a.getOnAppStartStore().getValue();return i.createAndCommit({userAction:r,environment:t,perform:e=>{i.applyOperation({store:a,operation:{pointer:a.pointer,path:["settings","on_app_start"],command:"set",args:n},transaction:e})}}),(0,s.BX)({environment:t,oldValue:d,newValue:n,from:o}),!0}async function p(e){const{environment:t,personalHomeStore:n}=e,o=null==n?void 0:n.getCoverStore();if(!n||!o||o.getValue())return;const r=(await a.deps.pageCovers.loader()).default;i.createAndCommit({userAction:"userHomeActions.addCoverPhoto",environment:t,perform:e=>{c.tk({transaction:e,store:n,coverStore:o,pageCovers:r})}})}function m(e){const{environment:t,selectedStore:n,currentSpaceViewStore:a,collectionContextStore:l}=e,c=l.collectionViewStore(),u=l.collectionStore(),g=l.collectionViewBlockStore();if(!(u&&c&&g&&a))return;const p=a.getTeamsStores(),m=n.table===r.e0?p.indexOf(n)+1:0,h=n.table===r.e0?n.id:void 0;i.createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",perform:e=>{i.applyOperation({store:c,operation:{pointer:{id:c.id,table:o.n},path:["format","collection_view_source","teamId"],command:"set",args:h},transaction:e}),d.mc({environment:t,collectionViewBlockStore:g,collectionViewStore:c,collectionStore:u,collectionContextStore:l,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1})}}),(0,s.Ay)({environment:t,teamId:h,index:m})}},9050:(e,t,n)=>{n.d(t,{Z:()=>d});n(67294);var o=n(480),r=n(24405),i=n(8848),a=n(80025),s=n(52275),l=n(85893);const d=function(e){const{color:t}=e;return(0,l.jsx)(s.Z,{...e,icon:(0,l.jsx)(c,{color:t}),title:(0,a.Vn)(t)})};function c(e){let{color:t}=e;window.__c={n:"ColorTileComponent"};const n=(0,r.Fg)(),a=(0,o.O7)(),s=(0,i.KR)(n,t);return(0,l.jsx)("div",{style:{width:a.device.isMobile?24:18,height:a.device.isMobile?24:18,background:s.menuBackgroundColor,color:s.textColor,boxShadow:n.innerBorderBoxShadow,borderRadius:4}})}},61679:(e,t,n)=>{n.d(t,{$K:()=>y,Ar:()=>g,Cq:()=>C,bU:()=>f,cx:()=>v,hy:()=>x,i2:()=>S,kg:()=>w,us:()=>m});var o=n(94184),r=n.n(o),i=n(67294),a=n(60177),s=n(64338),l=n(24405),d=n(73420),c=n(97053),u=n(85893);function g(e){let{children:t,type:n,gap:o,withBottomPadding:i,style:a}=e;window.__c={n:"Layout"};const s=(0,c.Bt)(n);return(0,u.jsx)("div",{className:r()("layout",{"layout-wide":"wide"===n,"layout-wide-right-margin-expanded":"wide-right-margin-expanded"===n,"layout-side-peek":"side-peek"===n,"layout-center-peek":"center-peek"===n,"layout-wiki":"wiki"===n,"layout-wiki-right-margin-expanded":"wiki-right-margin-expanded"===n,"layout-home":"home"===n,"layout-home-phone":"home-phone"===n,"layout-phone":"phone"===n,"layout-tablet":"tablet"===n,"layout-template-preview":"template-preview"===n}),style:{paddingBottom:i?s:void 0,gap:o,...a},children:t})}const p="layout-nested-grid",m="hide-scrollbar",h="layout-two-column";function f(e){return(0,u.jsx)("div",{className:r()("layout-content",e.className),style:e.style,children:e.children})}function x(e){return(0,u.jsx)("div",{className:"layout-full",style:e.style,children:e.children})}function y(e){return(0,u.jsx)("div",{className:"layout-margin-right",children:e.children})}const v=(0,i.forwardRef)((function(e,t){return(0,u.jsx)("div",{className:r()(p,e.className),onClick:e.onClick,style:e.style,role:e.role,id:e.id,"aria-labelledby":e["aria-labelledby"],ref:t,children:e.children})}));function S(e){return(0,u.jsx)("div",{className:r()(p,"layout-margin-scrollable",{[m]:e.hideScrollbar}),style:e.style,children:(0,u.jsx)(f,{children:e.children})})}function w(e){let{items:t,style:n}=e;window.__c={n:"LayoutTabs"};const[o,r]=i.useState(0),c=(0,i.useRef)([]),g=(0,a.Dl)();(0,s.q7)(null==g?void 0:g.domLock);const p=(0,l.yK)((e=>({icon:{width:16,height:16,fill:"currentColor"},label:{fontSize:14,fontWeight:600},tab:"centered"===n?{cursor:"pointer",border:"none",padding:"6px 12px",borderRadius:20,color:e.text.secondary,background:"none"}:{cursor:"pointer",border:"none",borderBottom:"2px solid",borderColor:"transparent",padding:"6px 8px 12px",color:e.text.secondary,background:"none"},tabSelected:"centered"===n?{color:e.text.primary,background:e.tint.regular}:{color:e.text.primary,borderColor:e.regularTextColor}})),[n]),m=(0,i.useId)(),h=(0,i.useCallback)((e=>`${m}-tab-${e}`),[m]),x=(0,i.useCallback)((e=>`${m}-tabpanel-${e}`),[m]),y=(0,i.useCallback)((e=>{let n;var i;("ArrowLeft"===e.key?(e.preventDefault(),n=(o+t.length-1)%t.length):"ArrowRight"===e.key&&(e.preventDefault(),n=(o+1)%t.length),void 0!==n)&&(r(n),null===(i=c.current[n])||void 0===i||i.focus())}),[o,t.length]);return(0,u.jsxs)(v,{children:[(0,u.jsx)(f,{children:(0,u.jsx)("div",{role:"tablist",children:(0,u.jsx)(d.X2,{justifyContent:"centered"===n?"center":"flex-start",children:t.map(((e,t)=>{var n;return(0,u.jsx)("button",{ref:e=>{e&&(c.current[t]=e)},id:h(t),role:"tab","aria-controls":x(t),"aria-selected":t===o,tabIndex:t===o?void 0:-1,onKeyDown:y,style:{...p.tab,...t===o&&p.tabSelected},onClick:e=>{e.stopPropagation(),r(t)},children:(0,u.jsxs)(d.X2,{gap:4,alignItems:"center",children:[null===(n=e.icon)||void 0===n?void 0:n.call(e,p.icon),e.label&&(0,u.jsx)("div",{style:p.label,children:e.label})]})},e.key)}))})})}),(0,u.jsx)(v,{id:x(o),role:"tabpanel","aria-labelledby":h(o),children:t[o]?t[o].children:null})]})}function C(e){return(0,u.jsxs)("div",{className:h,style:{"--min-column-width":`${e.minWidth}px`},children:[e.left,e.right]})}},97053:(e,t,n)=>{n.d(t,{Bt:()=>b,Nr:()=>S,Qg:()=>C,WJ:()=>k,h9:()=>v,m4:()=>y,xC:()=>w});var o=n(480),r=n(97511),i=n(86628),a=n(41432),s=n(61045),l=n(57819),d=n(92650),c=n(78316),u=n(19124),g=n(12534),p=n(94841),m=n(16772),h=n(19111),f=n(94896),x=n(17963);function y(e){(0,g.ZP)({event:e,context:g.Af.EditorMouseDown,callback:()=>{}})}function v(e){(0,g.ZP)({event:e,context:g.Af.EditorClick,callback:()=>{}})}function S(e){return(0,i.VK)((()=>Boolean(x.Z.state.pageMap[e.id])||f.Z.state.pages.has(e.id)),[e.id])}function w(e,t){const n=(0,o.O7)(),a=(0,r.l)(),s=S(e),l=C(e);return(0,i.VK)((()=>{const o=n.currentUser.isLoggedIn(),r=a&&a.publicEditModeStore.state;return Boolean(e&&t&&e.isDefined()&&!e.isLocked()&&e.canEdit()&&!e.hasContent()&&o&&(!(null!=r&&r.hasPublicPermission)||"edit"===(null==r?void 0:r.permission))&&!s&&t.state.ready&&!l&&(!(0,u.GD)(r)||"completionPopup"!==m.default.state.type))}),[n,l,t,a,s,e])}function C(e){return(0,i.VK)((()=>{if(e.isCollectionView()){const t=e.getCollectionViewSourceCollectionStore();return!!t&&t.isSyncedCollection()}return e.isType(a.Ti.externalObjectInstancePage)}),[e])}function b(e){const{device:t,WindowSizeStore:n}=(0,o.O7)(),r=(0,i.VK)((()=>{const e=n.state.height,o=t.isMobile&&h.Z.state.open?e:0;return s._4()+o}),[n,t.isMobile]);return(0,i.VK)((()=>Boolean((0,l.RR)(m.default.state))?600:"home-phone"===e?p.jq:t.isTablet?380:t.isIOS?Math.max(350,r):t.isMobile?400:"side-peek"===e||"center-peek"===e?80:"home"===e?p.XX:"30vh"),[t,r,e])}function k(e){const t=(0,o.O7)(),n=(0,i.VK)((()=>(0,d.fg)(t,e)),[t,e]);return(0,i.VK)((()=>n&&!e.isFullWidth()?(0,d.gC)(t,(0,c.en)(e),(0,c.Ks)(e)):0),[t,n,e])}},43668:(e,t,n)=>{n.d(t,{y:()=>s});var o=n(67294),r=n(62965);let i,a;const s=e=>{i=i??new Map,a=a??(e=>{let t=!1,n=[];return new ResizeObserver((o=>{n=n.concat(o),t||(t=!0,window.requestAnimationFrame((()=>{const o=new Set;[...n].reverse().filter((e=>{const t=o.has(e.target);return o.add(e.target),!t})).forEach((t=>{const n=e.get(t.target);null==n||n.forEach((e=>{const n=t.borderBoxSize[0];e({width:n.inlineSize,height:n.blockSize})}))})),n=[],t=!1})))}))})(i);const[t,n]=(0,o.useState)(void 0),s=(0,o.useCallback)((e=>{n((t=>(0,r.Z)(t,e)?t:e))}),[]);return(0,o.useLayoutEffect)((()=>{const t=e.current;if(!t)return;a.observe(t);const n=[...i.get(t)??[],s];return i.set(t,n),()=>{a.unobserve(t);const e=(i.get(t)??[]).filter((e=>e!==s));0===e.length?i.delete(t):i.set(t,e)}}),[s,e]),t}},80025:(e,t,n)=>{n.d(t,{Vn:()=>a,mF:()=>s,qf:()=>d});var o=n(68939),r=n(33929);const i=(0,o.defineMessages)({default:{defaultMessage:"Light gray",id:"colors.select.lightGray"},gray:{defaultMessage:"Gray",id:"colors.select.gray"},translucentGray:{defaultMessage:"Gray",id:"colors.select.gray"},brown:{defaultMessage:"Brown",id:"colors.select.brown"},orange:{defaultMessage:"Orange",id:"colors.select.orange"},yellow:{defaultMessage:"Yellow",id:"colors.select.yellow"},green:{defaultMessage:"Green",id:"colors.select.green"},blue:{defaultMessage:"Blue",id:"colors.select.blue"},purple:{defaultMessage:"Purple",id:"colors.select.purple"},pink:{defaultMessage:"Pink",id:"colors.select.pink"},red:{defaultMessage:"Red",id:"colors.select.red"}});function a(e){const t=i[e]||i.gray;return r.default.formatMessage(t)}const s=(0,o.defineMessages)({foregroundColorDefault:{id:"action.foregroundColor.default.name",defaultMessage:"Default"},foregroundColorGray:{id:"action.foregroundColor.gray.name",defaultMessage:"Gray"},foregroundColorBrown:{id:"action.foregroundColor.brown.name",defaultMessage:"Brown"},foregroundColorOrange:{id:"action.foregroundColor.orange.name",defaultMessage:"Orange"},foregroundColorYellow:{id:"action.foregroundColor.yellow.name",defaultMessage:"Yellow"},foregroundColorGreen:{id:"action.foregroundColor.green.name",defaultMessage:"Green"},foregroundColorBlue:{id:"action.foregroundColor.blue.name",defaultMessage:"Blue"},foregroundColorPurple:{id:"action.foregroundColor.purple.name",defaultMessage:"Purple"},foregroundColorPink:{id:"action.foregroundColor.pink.name",defaultMessage:"Pink"},foregroundColorRed:{id:"action.foregroundColor.red.name",defaultMessage:"Red"},backgroundColorGray:{id:"action.backgroundColor.gray.name",defaultMessage:"Gray background"},backgroundColorBrown:{id:"action.backgroundColor.brown.name",defaultMessage:"Brown background"},backgroundColorOrange:{id:"action.backgroundColor.orange.name",defaultMessage:"Orange background"},backgroundColorYellow:{id:"action.backgroundColor.yellow.name",defaultMessage:"Yellow background"},backgroundColorGreen:{id:"action.backgroundColor.green.name",defaultMessage:"Green background"},backgroundColorBlue:{id:"action.backgroundColor.blue.name",defaultMessage:"Blue background"},backgroundColorPurple:{id:"action.backgroundColor.purple.name",defaultMessage:"Purple background"},backgroundColorPink:{id:"action.backgroundColor.pink.name",defaultMessage:"Pink background"},backgroundColorRed:{id:"action.backgroundColor.red.name",defaultMessage:"Red background"},backgroundColorDefault:{id:"action.backgroundColor.default.name",defaultMessage:"Default background"}}),l={default:{...s.foregroundColorDefault},gray:{...s.foregroundColorGray},brown:{...s.foregroundColorBrown},orange:{...s.foregroundColorOrange},yellow:{...s.foregroundColorYellow},teal:{...s.foregroundColorGreen},blue:{...s.foregroundColorBlue},purple:{...s.foregroundColorPurple},pink:{...s.foregroundColorPink},red:{...s.foregroundColorRed},gray_background:{...s.backgroundColorGray},brown_background:{...s.backgroundColorBrown},orange_background:{...s.backgroundColorOrange},yellow_background:{...s.backgroundColorYellow},teal_background:{...s.backgroundColorGreen},blue_background:{...s.backgroundColorBlue},purple_background:{...s.backgroundColorPurple},pink_background:{...s.backgroundColorPink},red_background:{...s.backgroundColorRed}};function d(e){return l[e]}},94660:(e,t,n)=>{n.d(t,{IJ:()=>d,PL:()=>l,W4:()=>c,gA:()=>g,p8:()=>u});var o=n(62992),r=n(97880),i=n(64002),a=n(76235),s=n(26136);function l(e,t){return e.filter((e=>{const n=e.getCopiedFromPointer();return Boolean(n&&(0,o.J)(n)&&Boolean(t&&t(n.id)))}))}const d=5;function c(e){const t=window.location.href;return i.SK(t,{tg:e.templateGalleryItem})}function u(){const e=window.location.href;let t;return t=i.iO(e,"tg"),t=i.iO(t,"np"),t=i.iO(t,"pjm"),t}function g(e){let t,n;return e instanceof s.j$?(t=e.getAppTemplateURI(),n=e.getBlockId()):"type"in e?"preset"===e.type?(t=e.uri,n=void 0):"pageTemplate"===e.type?(t=void 0,n=e.template.rootId):(0,r.t1)(e):(t=void 0,n=e.rootId),t&&a.presetUriToHumanReadableName[t]?a.presetUriToHumanReadableName[t]:n}},27068:(e,t,n)=>{n.d(t,{K_:()=>s,N8:()=>l,nJ:()=>a});var o=n(39699),r=n(37181),i=n(80444);function a(e){const{currentUserSettingsStore:t}=i.default.state;t&&o.createAndCommit({userAction:"SidebarPersonalHomeButton.markAsSeen",environment:e,perform:e=>{r.d2({userSettingsStore:t,transaction:e,data:{seen_personal_home:!0}})}})}function s(e){const{environment:t,tipType:n,completed:a}=e,{currentUserSettingsStore:s}=i.default.state;if(!s)return;const l=s.getPersonalHomeTipsSettings(),d={...l,progress_data:{...l.progress_data,[n]:{completed:a}}};o.createAndCommit({userAction:"TipsHomePanel.updateProgress",environment:t,perform:e=>{r.d2({userSettingsStore:s,transaction:e,data:{personal_home_tips_settings:d}})}})}function l(e){const{environment:t,hide:n}=e,{currentUserSettingsStore:a}=i.default.state;if(!a)return;const s={...a.getPersonalHomeTipsSettings(),hide_completed:n};o.createAndCommit({userAction:"TipsHomePanel.hideCompleted",environment:t,perform:e=>{r.d2({userSettingsStore:a,transaction:e,data:{personal_home_tips_settings:s}})}})}},55535:(e,t,n)=>{n.d(t,{W:()=>a,Z:()=>l});var o=n(67294),r=n(51077),i=n(85893);const a=16;function s(e){let{icon:t,style:n,size:o=a}=e;return(0,i.jsx)(r.Z,{type:"notion_icon",size:o,icon:`/icons/${t}_lightgray.svg`,largeIcon:!0,style:n})}const l=o.memo(s)},84198:(e,t,n)=>{n.d(t,{Z:()=>y});var o=n(67294),r=n(480),i=n(86628),a=n(24405),s=n(97880),l=n(82990),d=n(75024),c=n(50334),u=n(94841),g=n(49085);class p extends g.default{getInitialState(){return!1}}var m=n(22863),h=n(55535),f=n(85893);function x(e){let{isPhone:t,theme:n}=e;if("dark"===n.mode)return"unset";n.mode;const o=t?.5:1,r=n.home.tile.border&&`0 0 0 ${o}px ${n.home.tile.border}`;return t?r:[r,"0 12px 40px rgba(0, 0, 0, 0.025)"].filter(s.$K).join(", ")}const y=function(e){let{children:t,title:n,icon:s,panelStyle:g,headerStyle:y,rightStyle:v,actions:S,right:w,disableRightFadeIn:C}=e;window.__c={n:"PersonalHomePanelPreview"};const b=(0,r.MO)(),k=(0,r.O7)(),j=Boolean(w),M=(0,i.qz)(void 0,p),P=(0,o.useMemo)((()=>({isHoveredOnPanelStore:M})),[M]),_=(0,o.useCallback)((()=>M.setState(!0)),[M]),I=(0,o.useCallback)((()=>M.setState(!1)),[M]),T=(0,a.yK)((e=>({panel:{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:b?12:6,padding:u.A5,paddingBottom:20,background:e.home.tile.background,boxShadow:x({isPhone:b,theme:e}),...u.MI,...g},headerContainer:{flexShrink:0,display:"flex",justifyContent:"space-between",alignItems:"center",height:u.jX,marginTop:-u.A5,...y},panelTitleAndIcon:{display:"flex",alignItems:"center",fontSize:(0,d.yv)(k,"UISmall"),fontWeight:l.Z.fontWeight.medium,color:e.text.secondary,flexShrink:0,maxWidth:j?200:"100%"},title:{...l.Z.textOverflowStyle},panelIconContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:h.W,height:h.W,marginRight:8,marginTop:1},actions:{display:"flex",flexDirection:"row",paddingLeft:6}})),[b,g,y,k,j]);return(0,f.jsx)(c.L8,{value:P,children:(0,f.jsxs)("div",{style:T.panel,onMouseEnter:_,onMouseLeave:I,children:[(0,f.jsxs)("div",{style:T.headerContainer,children:[(0,f.jsxs)("div",{style:T.panelTitleAndIcon,children:[(0,f.jsx)("div",{style:T.panelIconContainer,children:s}),(0,f.jsx)("span",{style:T.title,children:n}),(0,f.jsx)(m.Z,{additionalStyles:T.actions,children:S})]}),j&&(0,f.jsx)(m.Z,{force:C?"forceShow":void 0,additionalStyles:v,children:w})]}),t]})})}},22863:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(67294),r=n(24405),i=n(97880),a=n(86628),s=n(50334);var l=n(85893);const d=function(e){let{additionalStyles:t,transitionMs:n,force:d,children:c}=e;window.__c={n:"FadeInOnPanelHoverWrapper"};const u=function(){var e;const t=null===(e=(0,o.useContext)(s.uU))||void 0===e?void 0:e.isHoveredOnPanelStore;return(0,a.VK)((()=>Boolean(null==t?void 0:t.getState())),[t])}(),g=(0,r.yK)((()=>{let e;switch(d){case"forceShow":e=1;break;case"forceHide":e=0;break;case void 0:e=u?1:0;break;default:(0,i.t1)(d)}return{hoverStyle:{opacity:e,transition:`opacity ${(0,i.$K)(n)?n:200}ms ease-in`,...t}}}),[t,d,u,n]);return(0,l.jsx)("div",{style:g.hoverStyle,children:c})}},50334:(e,t,n)=>{n.d(t,{L8:()=>i,uU:()=>r});const o=(0,n(67381).Q)({displayName:"HomePanelContext",legacyContextKey:"homePanelContext",modernContextDefaultValue:{isHoveredOnPanelStore:void 0}}),r=o.context,i=o.Provider;o.legacyPropTypes},85150:(e,t,n)=>{n.r(t),n.d(t,{PersonalHomeContainer:()=>In});var o=n(67294),r=n(480),i=n(86628),a=n(24405),s=n(49902),l=n(53336),d=n(14542),c=n(96809),u=n(12981),g=n(68785),p=n(32854),m=n(81865),h=n(85893);function f(e){window.__c={n:"FullPageCover"};const[t,n]=(0,o.useState)(),r=(0,i.VK)((()=>e.store.getCover()),[e.store]),s=(0,i.VK)((()=>c.Z),[]),l=(0,i.VK)((()=>s.state.loadingMode!==d.LU&&s.state.loadingMode!==d.SS),[s]),f=(0,i.VK)((()=>"uploading"===s.state.loadingMode&&s.state.uploadProgress||0),[s]),x=(0,a.yK)((e=>({background:{position:"absolute",width:"100%",height:"100%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundImage:`url(${t}`,backgroundAttachment:"fixed",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},loadingContainer:{...u.I,top:8,right:8,height:28},loadingSpinner:{width:16,height:16,marginRight:4},percentageIndicator:{minWidth:30,textAlign:"right"}})),[t]);return r?(0,h.jsx)(m.Z,{url:r.cover,isAuthenticated:!0,permissionRecord:r.pointer,render:(e,t)=>(n(t),(0,h.jsx)("div",{role:"img",style:x.background,onLoad:()=>{s.setState({loadingMode:"loaded"})},children:l&&(0,h.jsxs)("div",{style:x.loadingContainer,children:[(0,h.jsx)(g.Z,{style:x.loadingSpinner}),(0,h.jsx)("div",{style:x.percentageIndicator,children:(0,h.jsx)(p.Z,{percentage:f})})]})}))}):null}var x=n(61679),y=n(95697),v=n(34859),S=n(80444),w=n(94841),C=n(30120),b=n(8848),k=n(72126),j=n(70203),M=n(97880),P=n(82990),_=n(68939),I=n(64788),T=n(58188),V=n(68709),Z=n(89728),H=n(65496),K=n(28020);function A(e){window.__c={n:"PersonalHomeCoverControls"};const t=(0,r.O7)(),n=(0,r.MO)(),s=(0,i.VK)((()=>(0,y.QI)("dev_only")),[]),l=(0,i.VK)((()=>{const e=S.default.state.currentSpaceViewStore;return e&&(0,w.Al)(e)}),[]),d=(0,i.VK)((()=>{const{WindowSizeStore:e}=t,n=(0,K.ui)(t);return{paddingLeft:e.getSafePaddingLeftCSS(n),paddingRight:e.getSafePaddingRightCSS(n),width:e.state.width}}),[t]),c=(0,o.useCallback)((async()=>{await T.Rt({environment:t,personalHomeStore:l})}),[t,l]),u=(0,a.yK)((t=>({controls:{opacity:e.isCoverHovered||n?1:0,transition:"opacity 100ms ease-out",marginBottom:n?-48:-8,marginLeft:n?36:void 0,marginTop:16},pageCover:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",flexShrink:0,flexGrow:0,height:0}})),[e.isCoverHovered,n]);return!l||l&&s?null:e.hasCover?(0,h.jsx)(V.p,{allowSelectionWithin:!1,style:u.pageCover,children:(0,h.jsx)(H.Z,{height:284,store:l,disabled:!1,paddingLeft:d.paddingLeft,paddingRight:d.paddingRight,proxyWidth:d.width})}):(0,h.jsx)(Z.Z,{style:u.controls,isLightGray:!0,onClick:c,icon:I.P,children:n?(0,h.jsx)(_.FormattedMessage,{id:"pageViewBlock.add.pageCoverMobile",defaultMessage:"Cover"}):(0,h.jsx)(_.FormattedMessage,{id:"pageViewBlock.add.pageCover",defaultMessage:"Add cover"})},"add-cover")}const B=o.memo(A);var R=n(26388),L=n(60682),O=n(14976),F=n(9953),N=n(98104),G=n(39699),D=n(49085);class U extends D.default{getInitialState(){return{open:!1}}}const E=new U;function W(e){let{environment:t}=e;E.reset(),N.ZH(t)}var z=n(78140),Y=n(53437),$=n(64369),Q=n(65187),q=n(87279),J=n(75024);function X(e){let{origin:t}=e;window.__c={n:"PersonalHomeRenamePopup"};const n=(0,r.O7)(),o=(0,i.VK)((()=>E.state.open),[]),a=(0,i.VK)((()=>S.default.state.currentUserSettingsStore),[]),s=(0,r.MO)();return a?(0,h.jsx)(Y.ZP,{popupType:s?Y.ZP.PopupType.SlideUp:Y.ZP.PopupType.Popup,open:o,origin:t,placementToOrigin:Y.ZP.Placement.Bottom,alignmentToOrigin:Y.ZP.Alignment.Center,originGap:4,onDismiss:()=>W({environment:n}),render:()=>(0,h.jsx)(ee,{userSettingsStore:a})}):null}function ee(e){let{userSettingsStore:t}=e;window.__c={n:"PersonalHomeRenameMenu"};const[n,s]=(0,o.useState)(!1),l=(0,r.O7)(),d=(0,_.useIntl)(),c=(0,i.VK)((()=>{var e;return null===(e=S.default.state.currentUserStore)||void 0===e?void 0:e.getDisplayName(d)}),[d]),u=(0,r.MO)(),g=(0,o.useCallback)((()=>s(!0)),[]),p=(0,o.useCallback)((()=>s(!1)),[]),m=(0,o.useCallback)((()=>W({environment:l})),[l]),f=(0,o.useCallback)((()=>function(e){let{environment:t}=e;const n=E.state;if(!n.open)return;const o=n.originalNickname;W({environment:t});const{currentUserSettingsStore:r}=S.default.state;if(!r)return;const i=r.getNicknameStore();G.createAndCommit({environment:t,userAction:"nicknameMenuActions.revertToOldNickname",perform:e=>{F.sO({store:i,value:o,transaction:e})}})}({environment:l})),[l]),x=(0,a.yK)((e=>({menu:{width:300},menuContainer:{paddingTop:12,paddingBottom:12,paddingLeft:14,paddingRight:14},inputContainer:{display:"flex",alignItems:"center",color:e.regularTextColor,fontSize:(0,J.yv)(l,"UIRegular")},input:{display:"block",flexGrow:1,fontSize:14,lineHeight:"20px",width:"100%",borderRadius:4,boxShadow:n?e.outlineBlueInputBoxShadow:e.inputBoxShadow,background:e.inputBackground,cursor:"text",position:"relative",marginTop:8,paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10}})),[l,n]);let y;return y=u?{menuType:q.og.ActionSheet}:{menuType:q.og.Popup,width:300},(0,h.jsx)(z.Z,{...y,children:(0,h.jsxs)("div",{style:x.menuContainer,children:[(0,h.jsx)($.Z,{isSecondaryColor:!0,children:(0,h.jsx)(_.FormattedMessage,{id:"personalHomeRenamePopup.title",defaultMessage:"Edit nickname"})}),(0,h.jsx)("div",{style:x.inputContainer,children:(0,h.jsx)(Q.Z,{style:x.input,store:t.getSettingsStore().getKeyStore("nickname"),disabled:!1,onEsc:f,onFocus:g,onBlur:p,onEnter:m,placeholder:c,pasteBehavior:"inline",disableEmojiCommands:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableSlashCommands:!0,disableComment:!0,disableDateMentions:!0,disableMentions:!0,disableDateReminderMentions:!0,disableDrag:!0,disableEmbedMenu:!0,disableEquationInteraction:!0,disableMobileActionBar:!0,disableShiftEnter:!0,disableTemplateVariableMentions:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0})})]})})}const te=o.memo(X);function ne(e){let{nickname:t}=e;window.__c={n:"PersonalHomeRenameButton"};const n=(0,r.O7)(),s=(0,a.Fg)(),l=(0,i.VK)((()=>E.state.open),[]),d=(0,i.VK)((()=>{var e;return null===(e=S.default.state.currentUserSettingsStore)||void 0===e?void 0:e.getNicknameStore()}),[]),c=(0,i.VK)((()=>{var e;const o=S.default.state.currentUserSettingsStore,r=null===(e=S.default.state.currentSpaceStore)||void 0===e?void 0:e.id;if(o&&r)return(0,O.IY)({environment:n,textValue:t&&r?{value:t,spaceId:r}:void 0,parentStore:o,disableLinks:!0,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disabled:!0,theme:s,emojiType:(0,L.e_)(n),katex:void 0,formulaValueTypes:[],stopLinkPropagation:!0})}),[n,t,s]),u=(0,o.useMemo)((()=>({height:"100%",flexShrink:1,fontSize:"inherit",fontWeight:"inherit",display:"flow",paddingTop:2,paddingBottom:2,marginLeft:-6,marginRight:-6,marginTop:-2,marginBottom:2,paddingLeft:6,paddingRight:6,...P.Z.textOverflowStyle,color:void 0,lineHeight:void 0})),[]),g=(0,a.yK)((()=>({hiddenButton:{...u,width:0,overflow:void 0,pointerEvents:"none",marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0,position:"absolute"},visibleButton:{...u,textShadow:"none"}})),[u]);return d?(0,h.jsx)(te,{origin:(0,h.jsx)(R.Z,{render:e=>(0,h.jsxs)("div",{style:{position:"relative"},children:[(0,h.jsx)("div",{style:g.hiddenButton,children:c}),(0,h.jsx)(Z.Z,{...e,hovered:!!l||void 0,style:g.visibleButton,onClick:()=>function(e){let{originalNicknameStore:t}=e;N.Z5({store:t,selection:{startIndex:0,endIndex:(0,j.eeV)(t.getValue()).length}}),E.setState({open:!0,originalNickname:t.getValue()})}({originalNicknameStore:d}),children:c})]}),renderTooltip:()=>(0,h.jsx)(_.FormattedMessage,{id:"personalHomeHeader.changeNameTooltip",defaultMessage:"Edit nickname"})})}):null}const oe=o.memo(ne);function re(e){let{layoutGapSize:t}=e;window.__c={n:"PersonalHomeHeader"};const n=(0,_.useIntl)(),s=(0,r.MO)(),l=(0,i.VK)((()=>(0,y.QI)("dev_only")),[]),[d,c]=(0,o.useState)(!1),{name:u,loaded:g}=(0,i.VK)((()=>function(e){let{currentUserStore:t,currentUserSettingsStore:n,intl:o}=e;if(null==n||!n.isReady())return{name:void 0,loaded:!1};const r=n.getNickname();if(r&&ie(r))return{name:r,loaded:!0};const i=null==t?void 0:t.getDisplayName(o),a=Boolean(null==t?void 0:t.isReady());return{name:i?[[i]]:void 0,loaded:a}}({currentUserStore:S.default.state.currentUserStore,currentUserSettingsStore:S.default.state.currentUserSettingsStore,intl:n})),[n]),p=(0,i.VK)((()=>{var e;return(null===(e=S.default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())??!1}),[]),m=(0,i.VK)((()=>{const e=S.default.state.currentSpaceViewStore;return e&&(0,w.Al)(e)}),[]),f=(0,i.VK)((()=>Boolean(null==m?void 0:m.hasCover())),[m]),x=g&&p,v=function(){const e=C.ou.now().hour;return e>=19||e<2?"evening":e<12?"morning":"afternoon"}(),j=function(e){let{timeOfDay:t,name:n}=e;if("morning"===t)return n?(0,h.jsx)(_.FormattedMessage,{id:"personalHomeHeader.goodMorningUserName",defaultMessage:"<NoShrink>Good morning,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:" "}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,h.jsx)(_.FormattedMessage,{id:"personalHomeHeader.goodMorningNoUserName",defaultMessage:"Good morning"});if("afternoon"===t)return n?(0,h.jsx)(_.FormattedMessage,{id:"personalHomeHeader.goodAfternoonUserName",defaultMessage:"<NoShrink>Good afternoon,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:" "}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,h.jsx)(_.FormattedMessage,{id:"personalHomeHeader.goodAfternoonNoUserName",defaultMessage:"Good afternoon"});if("evening"===t)return n?(0,h.jsx)(_.FormattedMessage,{id:"personalHomeHeader.goodEveningUserName",defaultMessage:"<NoShrink>Good evening,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,h.jsx)(h.Fragment,{children:" "}),NoShrink:e=>(0,h.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,h.jsx)(_.FormattedMessage,{id:"personalHomeHeader.goodEveningNoUserName",defaultMessage:"Good evening"});(0,M.t1)(t)}({timeOfDay:v,name:ie(u)?(0,h.jsx)(oe,{nickname:u}):void 0}),I=function(e){switch(e){case"morning":case"afternoon":return"🌤️";case"evening":return"🌓";default:(0,M.t1)(e)}}(v),T=(0,a.yK)((e=>({container:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",opacity:x?1:0,transition:"opacity 0.3s 0.5s"},headerTextContainer:{width:"100%",height:"100%",marginTop:l?64:f?s?64:96:24,zIndex:1,paddingLeft:2*t,paddingRight:2*t,pointerEvents:"none"},headerText:{width:"100%",height:"100%",fontSize:s?24:30,lineHeight:1.2,fontWeight:P.Z.fontWeight.semibold,color:f?b.ZP.white:e.regularTextColor,textShadow:f?"0px 1px 24px rgba(0, 0, 0, 0.33)":"",display:"flex",alignItems:"center",justifyContent:s?"start":"center"},headerTextSpan:{display:"flex",pointerEvents:"all",maxWidth:"100%"},mobileGreetingContainer:{display:"flex",flexDirection:"column",textShadow:f?"0px 1px 24px rgba(0, 0, 0, 0.33)":""},mobileIconContainer:{fontSize:30}})),[x,l,f,s,t]),V=(0,h.jsx)("div",{style:T.headerText,children:(0,h.jsxs)("span",{style:T.headerTextSpan,children:[I," ",j]})}),Z=(0,h.jsxs)("div",{style:T.mobileGreetingContainer,children:[(0,h.jsx)("div",{style:T.mobileIconContainer,children:I}),(0,h.jsx)("div",{style:T.headerText,children:(0,h.jsx)("span",{style:T.headerTextSpan,children:j})})]});return(0,h.jsxs)("div",{style:T.container,onMouseEnter:()=>{s||c(!0)},onMouseMove:k.P2((()=>{s||c(!0)})),onMouseLeave:()=>{s||c(!1)},children:[(0,h.jsx)(B,{isCoverHovered:d,hasCover:f}),(0,h.jsx)("div",{style:T.headerTextContainer,children:s?Z:V})]})}function ie(e){return!!(0,M.$K)(e)&&0!==(0,j.eeV)(e).length}const ae=o.memo(re);var se=n(51560),le=n(15145),de=n(41892),ce=n(60310),ue=n(47453),ge=n(50906),pe=n(49865),me=n(75018),he=n(53223),fe=n(64921),xe=n(51077),ye=n(75079),ve=n(34583),Se=n(14063),we=n(45589);function Ce(e){let{store:t,style:n,scrollContainerStyle:o,collectionContextStore:r,emptyState:s,...d}=e;window.__c={n:"PersonalHomeCollectionView"};const c=(0,i.qz)(void 0,we.Z),u=(0,i.VK)((()=>0===(null==c?void 0:c.state.scrollTop)),[c]),g=(0,a.yK)((()=>{const e=-w.A5/2;return{container:{position:"relative",display:"flex",flexDirection:"column",width:`calc(100% + ${-e})`,height:"100%",overflow:"hidden",marginTop:-Se.vt,marginLeft:e,paddingBottom:0,...n},scrollerFadeStyle:{paddingRight:8,...u?{}:{maskImage:w.Wx,WebkitMaskImage:w.Wx}}}}),[u,n]);return(0,i.VK)((()=>null==r?void 0:r.isEmptyStore.state),[r])&&s?(0,h.jsx)(h.Fragment,{children:s}):(0,h.jsx)("div",{style:g.container,children:t&&(0,h.jsx)(l.Z,{type:v.Z.Y,style:g.scrollerFadeStyle,store:c,children:(0,h.jsx)(ke,{store:t,...d})})})}function be(e){let{store:t,...n}=e;return(0,h.jsx)(he.DZ,{store:t,disabled:!1,hideHeader:!0,isFullScreen:!1,hideHeaderActions:!0,overrideViewType:"list",...n})}const ke=o.memo(be),je=o.memo(Ce);var Me=n(58810),Pe=n(73063),_e=n(33929);function Ie(e){let{viewAllBlockStore:t,pageVisitSource:n,onClick:i,renderAsIcon:s,...l}=e;window.__c={n:"HomeViewAllButton"};const d=(0,r.O7)(),c=(0,a.yK)((e=>({viewAllButton:{color:e.mediumTextColor}})),[]),u=(0,o.useCallback)((e=>{e.metaKey||e.ctrlKey?me.navigateToBlock({environment:d,store:t,pageVisitSource:n,openInNew:"tab"}):me.navigateToBlock({environment:d,store:t,pageVisitSource:n}),null==i||i()}),[d,i,n,t]),g=(0,_.defineMessages)({viewAllLabel:{id:"personalHomePanelPreview.viewAllButton",defaultMessage:"View all"}}),p=_e.default.formatMessage(g.viewAllLabel);return s?(0,h.jsx)(Pe.Z,{ariaLabel:p,onClick:u,icon:Me.Z,iconStyle:{width:16},...l}):(0,h.jsx)(Z.Z,{onClick:u,style:c.viewAllButton,...l,children:p})}const Te=o.memo(Ie);var Ve=n(56666),Ze=n(44643),He=n(52275),Ke=n(31945),Ae=n(32163),Be=n(72495);function Re(e){let{actions:t}=e;window.__c={n:"PersonalHomeMoreMenu"};const n=(0,_.useIntl)(),r=(0,a.yK)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,height:24,width:24},threeDotIcon:{width:12,height:12,fill:e.mediumIconColor},hideButtonIcon:{height:20,width:20,fill:e.regularIconColor}})),[]),i=(0,o.useMemo)((()=>{const e={};return t.forEach((t=>{"custom"===t.type&&(e[t.item.key]=t.closeOnAccept)})),e}),[t]),s=n.formatMessage({defaultMessage:"View options",id:"PersonalHomePanel.moreDropdownButton.tooltip"}),l=[{key:"all",render:e=>(0,h.jsx)(Be.Z,{...e}),items:t.map((e=>{switch(e.type){case"hide":return{key:"hide",render:e=>(0,h.jsx)(He.Z,{...e,icon:(0,Ze.L)(r.hideButtonIcon),title:(0,h.jsx)(_.FormattedMessage,{id:"PersonalHomePanel.moreDropdown.hide.title",defaultMessage:"Hide from home"})}),action:e.hide};case"custom":return e.item;default:(0,M.t1)(e)}}))}];return(0,h.jsx)(Ke.ZP,{popupType:Ke.Z4.Popup,alignmentToOrigin:Ke.vR.Center,originGap:2,renderOrigin:e=>(0,h.jsx)(fe.Z,{ariaLabel:s,style:r.buttonStyle,mobileFeedback:!1,...e,children:(0,Ve.o)(r.threeDotIcon)}),render:e=>(0,h.jsx)(z.Z,{menuType:q.og.Popup,children:(0,h.jsx)(Ae.Z,{onAccept:t=>((e,t)=>{i[e.key]&&t.close()})(t,e),type:Ae.i.Vertical,sections:l,initialFocus:void 0})})})}const Le=o.memo(Re);var Oe=n(84198);function Fe(e){window.__c={n:"AddTaskButton"};const{intl:t,collectionContextStore:n}=e,s=(0,r.O7)(),l=(0,a.yK)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,height:24,width:24},plusIcon:{width:14,height:14,fill:e.mediumIconColor}})),[]),d=(0,i.VK)((()=>{if(!n)return!0;const e=n.collectionStoresStore.state;return!e||0===e.length}),[n]),c=(0,o.useCallback)((()=>{n&&(0,ve.M_)(s)&&G.createAndCommit({userAction:"AssignedToMePanel.handleAddItemClick",environment:s,perform:e=>{const t=pe.IW({environment:s,collectionContextStore:n,groupsPointer:[],insertAtIndex:0,coerce:!0,initializeDefaultTemplate:!0,transaction:e,from:"home_tile_tasks"});if(!t)return;me.peekBlock({environment:s,store:t.newStore,peekMode:"center_peek",showMoveTo:!0,resultsStore:void 0,collectionContextStore:n,pageVisitSource:le.tY.PersonalHomeTileTasksCreate});const o=t.newStore.getParentCollectionId();ge.W2j(s,{from:"home_tile_tasks",type:"page",collection_id:o,new_page_id:t.newStore.id,...ye.Pn(n,o)})}})}),[n,s]);if(!n)return null;const u=t.formatMessage({defaultMessage:"New task",id:"AssignedToMeHomePanel.addNewTask.tooltip"});return d?null:(0,h.jsx)(R.Z,{textWrap:!1,renderTooltip:()=>u,placement:R.Z.Placement.Top,render:e=>(0,h.jsx)(fe.Z,{...e,ariaLabel:u,style:l.buttonStyle,mobileFeedback:!1,onClick:c,children:(0,ue.R)(l.plusIcon)})})}const Ne=function(){window.__c={n:"AssignedToMeHomePanel"};const e=(0,_.useIntl)(),t=(0,r.O7)(),n=(0,a.yK)((e=>({panel:{paddingRight:0,paddingBottom:0,height:w.Uf}})),[]),[s,l]=o.useState(null),d=(0,i.VK)((()=>{const e=(0,w.J2)("myTasks");if(null!=e&&e.isCollectionView())return e}),[]),c=(0,i.VK)((()=>S.default.state.currentSpaceViewStore),[]),u=(0,i.VK)((()=>(0,y.QI)("dev_only")),[]),g=(0,o.useCallback)((()=>{c&&T.aG({environment:t,currentSpaceViewStore:c,feature:"tasks",from:"tasks_more_menu"})}),[c,t]);return(0,h.jsx)(Oe.Z,{title:e.formatMessage(ce.CN.myTasks),actions:[s&&u?(0,h.jsx)(he.kE,{collectionContextStore:s,hideTooltip:!0},"collectionSettings"):(0,h.jsx)(Le,{actions:[{type:"hide",hide:g}]},"more"),(0,h.jsx)(Fe,{intl:e,collectionContextStore:s},"add")],right:d&&(0,h.jsx)("span",{style:{paddingRight:8},children:(0,h.jsx)(R.Z,{render:e=>(0,h.jsx)(Te,{...e,renderAsIcon:!0,viewAllBlockStore:d,pageVisitSource:le.tY.PersonalHomeTileTasks}),renderTooltip:()=>(0,h.jsx)(_.FormattedMessage,{id:"AssignedTomeHomePanel.viewAllButton.tooltip",defaultMessage:"View all tasks"})})}),icon:(0,h.jsx)(xe.Z,{type:"app_package_asset",size:18,icon:de.Z.images.appPackages.taskDbIconSvg}),panelStyle:n.panel,children:(0,h.jsx)(je,{store:d,isFirstItem:!0,isLastItem:!0,overridePaddingLeft:0,overridePaddingRight:0,setCollectionContextStore:e=>l(e)})})};var Ge=n(42853),De=n(74207),Ue=n(45959),Ee=n(65598),We=n(74016),ze=n(11059);function Ye(e){let{message:t,emoji:n}=e;window.__c={n:"PersonalHomePanelEmptyState"};const o=(0,a.yK)((()=>({container:{display:"flex",flexGrow:1,justifyContent:"center",alignItems:"center",flexDirection:"column",gap:12}})),[]);return(0,h.jsxs)("div",{style:o.container,children:[(0,h.jsx)(ze.Z,{char:n,size:30}),(0,h.jsx)($.Z,{isSecondaryColor:!0,children:t})]})}function $e(e){let{panelStyle:t}=e;window.__c={n:"PersonalHomeTrendingPanel"};const[n,r]=o.useState(void 0),s=(0,i.VK)((()=>{const{currentSpaceStore:e,currentUserStore:t}=S.default.state;if(!e||!t)return;const n=(0,w.J2)("trending");return null!=n&&n.isCollectionView()?n:void 0}),[]),l=(0,a.yK)((e=>({icon:{width:20,height:20,margin:-2,fill:e.mediumIconColor},rightStyle:{overflow:"hidden",marginRight:8}})),[]);return(0,h.jsx)(Oe.Z,{title:(0,h.jsx)(_.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelTitle.trending",defaultMessage:"Trending"}),right:n&&(0,h.jsx)(Qe,{collectionContextStore:n}),rightStyle:l.rightStyle,disableRightFadeIn:!0,icon:(0,De.X)(l.icon),panelStyle:{...t,paddingBottom:0},children:(0,h.jsx)(je,{store:s,collectionContextStore:n,setCollectionContextStore:r,emptyState:(0,h.jsx)(Xe,{})})})}function Qe(e){let{collectionContextStore:t}=e;window.__c={n:"TrendingTargetSelector"};const n=(0,r.O7)(),{currentSpaceViewStore:a,currentSpaceStore:s}=(0,i.VK)((()=>{const{currentSpaceViewStore:e,currentSpaceStore:t}=S.default.state;return{currentSpaceViewStore:e,currentSpaceStore:t}}),[]),l=(0,i.VK)((()=>(null==a?void 0:a.getTeamsStores())??[]),[a]),d=(0,i.VK)((()=>t.collectionViewStore()),[t]),c=(0,i.VK)((()=>{if(!s)return;const e=null==d?void 0:d.getCollectionSource();if("trending"!==(null==e?void 0:e.type))return;const t=e.teamId;return t?l.find((e=>e.id===t)):s}),[l,s,d]),u=(0,o.useCallback)((e=>{T.Lg({environment:n,currentSpaceViewStore:a,selectedStore:e,collectionContextStore:t})}),[n,t,a]),g=(0,i.VK)((()=>{if(!s)return{};const e={};return e[s.id]=null==s?void 0:s.getName(),l.forEach((t=>{e[t.id]=t.getName()})),e}),[s,l]);return a&&s&&c?(0,h.jsx)(Ue.Z,{items:[s,...l],getKey:e=>e.id,selectedItem:c,onSelect:u,renderItem:e=>{const t=e.value;return(0,h.jsx)(He.Z,{...e,title:g[t.id],icon:(0,h.jsx)(We.p,{store:t,size:16,disabled:!0})})},renderOrigin:e=>(0,h.jsx)(qe,{...e,selectedStore:c}),width:300}):null}function qe(e){window.__c={n:"TrendingDropdownMenuItem"};const t=(0,r.O7)(),{device:n}=t,{selectedStore:o,...i}=e,s=(0,a.yK)((e=>({dropdownButton:{width:"100%",borderRadius:3,padding:"6px 8px",color:e.text.secondary,fontSize:(0,J.yv)(t,"UISmall"),display:"inline-flex",justifyContent:"end",alignItems:"center"},dropdownIcon:{width:10,marginLeft:4,fill:e.lightIconColor},dropdownText:{display:"inline-flex",alignItems:"center",fontWeight:P.Z.fontWeight.medium,overflow:"hidden"}})),[t]);return(0,h.jsxs)(fe.Z,{mobileFeedback:n.isMobile,style:s.dropdownButton,...i,children:[(0,h.jsx)("div",{style:s.dropdownText,children:(0,h.jsx)(Je,{selectedStore:o})}),(0,Ge.i)(s.dropdownIcon)]})}function Je(e){let{selectedStore:t}=e;window.__c={n:"SelectorTitle"};const n=(0,i.VK)((()=>null==t?void 0:t.getName()),[t]),o=(0,a.yK)((()=>({icon:{marginLeft:4,marginRight:4},spaceOrTeamName:{...P.Z.textOverflowStyle}})),[]),r=(0,h.jsx)(We.p,{store:t,size:16,disabled:!0,style:o.icon});return n?(0,h.jsx)(_.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withWorkspaceOrTeamName",defaultMessage:"In {spaceOrTeamIcon} {spaceOrTeamName}",values:{spaceOrTeamIcon:r,spaceOrTeamName:(0,h.jsx)("div",{style:o.spaceOrTeamName,children:n})}}):(0,Ee.Y)(t)?(0,h.jsx)(_.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutTeamName",defaultMessage:"In your teamspace"}):(0,h.jsx)(_.FormattedMessage,{id:"personalHomePanelConfig.workspaceActivityPanelDropdownTitle.withoutWorkspaceName",defaultMessage:"In your workspace"})}function Xe(){return(0,h.jsx)(Ye,{emoji:"📈",message:(0,h.jsx)(_.FormattedMessage,{id:"PersonalHomeTrendingPanel.emptyState.message",defaultMessage:"Popular pages will show up here."})})}const et=o.memo($e);var tt=n(54497),nt=n(10912),ot=n(31278),rt=n(76798),it=n(84210),at=n(15447),st=n(88923),lt=n(36596),dt=n(84076);const ct=function(e){let{children:t,style:n,innerStyle:r,hoveredStyle:i,pressedStyle:s,disabled:l,...d}=e;window.__c={n:"HomeGalleryItem"};const[c,u]=(0,o.useState)(!1),g=(0,a.yK)((e=>({container:{position:"relative"},linkBoxContainer:{flexShrink:0,overflow:"hidden",borderRadius:8,background:e.home.cards.background.base,...n,boxShadow:"unset"},inner:{userSelect:"none",WebkitUserSelect:"none",display:"flex",flexDirection:"column",...r},hovered:{background:e.home.cards.background.hovered,...i,boxShadow:"unset"},pressed:{background:e.home.cards.background.pressed,...s,boxShadow:"unset"},shadowBox:{pointerEvents:"none",position:"absolute",borderRadius:8,top:0,left:0,right:0,bottom:0,zIndex:1,boxShadow:c?(null==i?void 0:i.boxShadow)??e.homeShadow.card.hovered:(null==n?void 0:n.boxShadow)??e.homeShadow.card.base}})),[i,r,c,s,n]);return(0,h.jsxs)("div",{style:g.container,onMouseEnter:()=>{!l&&u(!0)},onMouseLeave:()=>{!l&&u(!1)},children:[(0,h.jsx)(dt.Z,{style:g.linkBoxContainer,innerStyle:g.inner,hoveredStyle:g.hovered,pressedStyle:g.pressed,disabled:l,...d,children:t}),(0,h.jsx)("div",{style:g.shadowBox})]})};function ut(e){let{showLoadingShimmer:t,width:n,height:o}=e;window.__c={n:"EmptyGalleryItemCard"};const r=(0,a.yK)((e=>({item:{width:n,height:o,background:t?"unset":e.home.cards.coverPhoto.base,boxShadow:"unset"},loadingShimmer:{width:"100%",height:"100%"}})),[o,t,n]);return(0,h.jsx)(ct,{style:r.item,disabled:!0,children:t&&(0,h.jsx)(lt.Z,{style:r.loadingShimmer})})}const gt=o.memo(ut);var pt=n(43668),mt=n(74691),ht=n.n(mt);function ft(e){let{panDirection:t,cardWidth:n,gapSize:o,startAndEndPadding:r,maxScrollDistPx:i,scrollerStore:a}=e;const s=r-o,{scrollLeft:l,clientWidth:d,scrollWidth:c}=a.state,u=n+o,g=u-l%u+s,p=("left"===t?u-g:g)%u;return function(e){let{newScrollLeft:t,scrollWidth:n,extraGapAtStartAndEndPx:o}=e,r=t;r<=o?r=0:r>=n-o&&(r=n);return ht()(r,0,n)}({newScrollLeft:l+("left"===t?-1:1)*(Math.max(1,Math.floor(Math.min(i,d-p)/u))*u+p),scrollWidth:c,extraGapAtStartAndEndPx:s})}var xt=n(2585),yt=n(5257),vt=n(22863);function St(e){let{onClick:t,type:n,scrollerStore:r}=e;window.__c={n:"GalleryScrollButton"};const[s,l]=(0,o.useState)(!1),d=(0,i.VK)((()=>{const{scrollLeft:e,scrollWidth:t,clientWidth:o}=r.state;return"left"===n?0===e:"right"===n?e+o>=t:void(0,M.t1)(n)}),[r,n]),c=(0,a.yK)((e=>({container:{borderRadius:"100%",width:32,height:32,boxShadow:e.homeScrollButtonShadow,background:e.home.scrollButtonBackground.base,position:"absolute",..."left"===n?{left:-16}:{right:-16},top:"calc(50% - 16px",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1},pressedStyle:{background:e.home.scrollButtonBackground.pressed},icon:{fill:s?e.regularIconColor:e.mediumIconColor,width:13,height:13}})),[s,n]);return(0,h.jsx)(vt.Z,{force:d?"forceHide":void 0,transitionMs:100,children:(0,h.jsx)(Z.Z,{style:c.container,onClick:t,hoveredStyle:c.container,pressedStyle:c.pressedStyle,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:"left"===n?(0,xt.f)(c.icon):(0,yt.o)(c.icon)})})}const wt=o.memo(St);function Ct(e){window.__c={n:"HomeTileGallery"};const t=(0,r.MO)(),n=(0,o.useRef)(null),s=(0,o.useRef)(null),d=(0,pt.y)(s);(0,o.useEffect)((()=>{var e;null===(e=n.current)||void 0===e||e.measureSize()}),[null==d?void 0:d.width]);const c=(0,i.qz)(void 0,we.Z),u=(0,o.useCallback)((t=>{var o;let{panDirection:r}=t;const i=ft({panDirection:r,cardWidth:e.cardWidth,gapSize:14,startAndEndPadding:w.A5,maxScrollDistPx:600,scrollerStore:c});null===(o=n.current)||void 0===o||o.scrollTo(void 0,i,{animate:!0})}),[e.cardWidth,c]),g=(0,o.useCallback)((()=>u({panDirection:"left"})),[u]),p=(0,o.useCallback)((()=>u({panDirection:"right"})),[u]),m=!t,f=(0,a.yK)((()=>({container:{position:"relative",width:`calc(100% + ${2*w.A5}px)`,marginLeft:-w.A5,marginRight:-w.A5},innerContainer:{display:"flex",gap:14,width:"max-content",marginTop:4,marginBottom:1,paddingLeft:w.A5,paddingRight:w.A5}})),[]);return(0,o.useEffect)((()=>{var t;void 0!==e.scrollPosition&&(null===(t=n.current)||void 0===t||t.scrollTo(void 0,e.scrollPosition,{animate:!1}))}),[e.scrollPosition]),(0,h.jsxs)("div",{style:f.container,children:[(0,h.jsx)(l.Z,{ref:n,className:x.us,store:c,type:v.Z.X,children:(0,h.jsx)("div",{style:f.innerContainer,ref:s,children:e.children})}),m&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(wt,{onClick:g,type:"left",scrollerStore:c}),(0,h.jsx)(wt,{onClick:p,type:"right",scrollerStore:c})]})]})}const bt=o.memo(Ct);var kt=n(55535);function jt(){window.__c={n:"RecentsGallery"};const e=(0,i.VK)((()=>at.X4.state),[]),t=Math.max(Math.min(e.length,20),8),n=[...Array(t)].map(((t,n)=>n>=e.length?(0,h.jsx)(gt,{width:144,height:144,showLoadingShimmer:!1},n):(0,h.jsx)(Mt,{store:e[n].store},n)));return(0,h.jsx)(bt,{cardWidth:144,children:n})}function Mt(e){let{store:t}=e;window.__c={n:"GalleryItem"};const n=(0,a.yK)((e=>({container:{width:144,height:144},emptyGalleryCoverStyle:{border:"unset",background:e.home.cards.coverPhoto.base}})),[]),o=(0,i.VK)((()=>(0,it.ZP)({store:t,fullyQualified:!1,pageVisitSource:le.tY.PersonalHomeTileRecents,peekMode:(0,st.getUrlParamFromPeekMode)(st.PeekModeCenter)})),[t]);return(0,h.jsxs)(ct,{style:n.container,href:o,metaHref:o,children:[(0,h.jsx)(nt.Z,{variant:"gallery",store:t,coverFormat:{type:"page_cover"},showEmptyGalleryCover:!0,onLoadProxiedImage:e=>{},emptyGalleryCoverStyle:n.emptyGalleryCoverStyle}),(0,h.jsx)(Pt,{store:t})]})}function Pt(e){let{store:t}=e;window.__c={n:"GalleryItemTitle"};const n=(0,r.O7)(),o=(0,r.MO)(),s=(0,a.yK)((e=>{const t=P.Z.fontSize.UIRegular.desktop;return{recordIcon:{position:"absolute",top:-18,left:10,marginRight:4,marginLeft:-2,marginTop:o?0:2},titleText:{fontWeight:P.Z.fontWeight.medium,fontSize:t,lineHeight:1.5,minHeight:1.5*t,width:"auto",paddingTop:12,whiteSpace:"pre-wrap",...(0,J.pd)(2)},progressContainer:{top:14,bottom:"unset",right:"unset",fontSize:(0,J.yv)(n,"UISmall")},titleWrap:{width:"100%",height:"50%",minHeight:72,paddingTop:8,paddingLeft:10,paddingRight:10,paddingBottom:10,position:"relative"},warningIcon:{fill:e.accentColors.orange[500],width:o?20:16,marginLeft:o?2:4,marginRight:o?4:6,paddingBottom:6,paddingTop:6,display:"inline-block",verticalAlign:"bottom"}}}),[n,o]),l=(0,i.VK)((()=>t.hasIcon()||!t.isEmptyPage()),[t]),d=(0,i.VK)((()=>t.hasError()),[t]),c=(0,i.VK)((()=>t.getIcon()),[t]),u=(0,i.VK)((()=>t.isEmptyPage()),[t]),g=(0,i.VK)((()=>o?24:32),[o]),p=(0,h.jsx)(ot.Z,{disabled:!0,bucket:"secure",style:s.recordIcon,progressContainerStyle:s.progressContainer,icon:c,store:t,size:g,isEmptyPage:u});return(0,h.jsxs)("div",{style:s.titleWrap,children:[l&&!d&&p,d&&(0,tt.t)(s.warningIcon),(0,h.jsx)(rt.Z,{style:s.titleText,store:t})]})}const _t=function(){return(0,h.jsx)(Oe.Z,{title:(0,h.jsx)(_.FormattedMessage,{id:"RecentsHomePanel.Title",defaultMessage:"Recently visited"}),icon:(0,h.jsx)(kt.Z,{icon:"clock-alternate"}),children:(0,h.jsx)(jt,{})})};function It(e){let{panelStyle:t}=e;window.__c={n:"SimilarUsersHomePanel"};const n=(0,i.VK)((()=>{const e=(0,w.J2)("similarUsers");if(null!=e&&e.isCollectionView())return e}),[]),[r,a]=o.useState(void 0);return(0,h.jsx)(Oe.Z,{title:(0,h.jsx)(_.FormattedMessage,{id:"personalHomePanelConfig.similarUsersActivityPanelTitle.withWorkspaceName",defaultMessage:"Suggested for you"}),icon:(0,h.jsx)(kt.Z,{icon:"light-bulb"}),panelStyle:{...t,paddingBottom:0},children:(0,h.jsx)(je,{store:n,collectionContextStore:r,setCollectionContextStore:a,emptyState:(0,h.jsx)(Tt,{})})})}function Tt(){return(0,h.jsx)(Ye,{emoji:"💡",message:(0,h.jsx)(_.FormattedMessage,{id:"SimilarUsersHomePanel.emptyState.message",defaultMessage:"Pages relevant to you will show up here."})})}const Vt=o.memo(It);n(57658);var Zt=n(59054),Ht=n(58178),Kt=n(29949),At=n(24211),Bt=n(26195),Rt=n(54642),Lt=n(26136);function Ot(e){if("function"===e.type)switch(e.persona){case"student":return"13FpH1AGHci69ERczKupOU";case"educator":return"7ys8LLEWhlmVEwjJjASuE2";case"operations":return"4SPA9JI4ZQtyKtYzZvAVt1";case"knowledge_management":return"5IRBIHYcfXWjy5HamFCwAn";case"it_admin":return"2lxkUWVxPdhbYcvxe7FFty";case"hr":return"17Fklm4NRZaaMdctNNyl8L";case"support":return"2SmrAf6VMtcqx2Rszb5QZn";case"sales_or_success":return"4pVIkK7rg7S6DcqwvyNHs";case"finance":return"jDnY125acofk3O42a2IZ8";case"marketing":return"3TTtGQffJRQ0H3MSUNYs6j";case"product":return"3OAmgIdyPo9wEXGRH6j4dO";case"project_or_program_management":return"1mSX3Ie5sfGGT9ZrBuPXuO";case"product_design":return"W5d1S5UYPjuiY1t2cRG4T";case"eng":return"7vJ3HPIubGvIa4PzHrAG04";case"internal_communication":return"6F1MIc09JzFpGsxknKL0pq";case"creative":return"6H3xYAAg00HPET7xvqwcl4";default:(0,M.t1)(e)}else if("space_intent"===e.type)switch(e.persona){case"life":return"2X7QqO4KLsoTArIKyG7QA";case"school":return"5zeHsLqZ0Vk5kMfTQYiupq";case"work":return"1XoFa69pF2Yf1QzikYDOk6";default:(0,M.t1)(e)}else if("space_type"===e.type)switch(e.persona){case"multiplayer":return"2mk1W9x7ihl3uEpAwIy3zP";case"singleplayer":return"hjxAjQJHiLsYhivckSUZP";default:(0,M.t1)(e)}else(0,M.t1)(e)}var Ft=n(18752),Nt=n(36591),Gt=n(96525),Dt=n(98742),Ut=n(38755),Et=n(4023);function Wt(e){window.__c={n:"DebugPersonaPickerAction"};const t=(0,a.yK)((e=>({chevronRightIcon:{width:14,height:14,fill:e.lightIconColor}})),[]);return(0,h.jsx)(Gt.Z,{...e,stopClickPropagation:!0,popupType:Ke.Z4.Popup,render:e=>(0,h.jsx)(zt,{onClose:()=>e.close()}),placementToOrigin:Et.u.Right,renderOrigin:n=>(0,h.jsx)(He.Z,{...(0,Dt.Z)(e,n),right:(0,yt.o)(t.chevronRightIcon),title:(0,h.jsx)(_.FormattedMessage,{id:"TemplatesHomePanel.DebugPersonaPickerMenuTitle",defaultMessage:"(Dev debug): Change user persona"})})})}function zt(e){let{onClose:t}=e;window.__c={n:"DebugPersonaPickerMenu"};const n=(0,r.O7)(),s=(0,i.VK)((()=>["clear",...se.az.map((e=>({type:"function",persona:e}))),...se.ml.map((e=>({type:"space_intent",persona:e}))),...se.GK.map((e=>({type:"space_type",persona:e})))]),[]),l=(0,i.VK)((()=>(0,Ut.g4)(n,S.default.state.currentSpaceViewStore)),[n]),d=(0,o.useCallback)((e=>{Ft.Z.setState(e),t("selectedOption")}),[t]),c=(0,a.yK)((e=>({selectedOptionCheck:{width:14},icon:{width:20,height:20}})),[]),u={menuType:q.og.Popup,width:250,onClickOutside:()=>t("clickedOutside")},g=[{key:"settings-item-section",render:e=>(0,h.jsx)(Be.Z,{...e}),items:s.map((e=>{if("clear"===e)return{key:"clear",action:()=>d(void 0),render:e=>(0,h.jsx)(He.Z,{...e,title:"clear",shouldWrapCaption:!0,right:void 0===l?(0,h.jsx)("div",{style:c.selectedOptionCheck,children:(0,Nt.e)()}):void 0})};const{type:t,persona:n}=e,o=`${t} - ${n}`;return{key:o,action:()=>d(e),render:e=>(0,h.jsx)(He.Z,{...e,title:o,shouldWrapCaption:!0,right:l===o?(0,h.jsx)("div",{style:c.selectedOptionCheck,children:(0,Nt.e)()}):void 0})}}))}];return(0,h.jsx)(z.Z,{...u,children:(0,h.jsx)(Ae.Z,{type:Ae.i.Vertical,sections:g,initialFocus:void 0})})}var Yt=n(21202),$t=n(95807),Qt=n(94660),qt=n(26842);const Jt=240;function Xt(e){let{store:t}=e;window.__c={n:"TemplatesGalleryItem"};const n=(0,r.O7)(),s=(0,i.VK)((()=>t.getName()),[t]),l=(0,i.VK)((()=>{const e=t.getTemplateImage();if(null!=e&&e.url)return(0,$t.Hl)(e.url)}),[t]),d=(0,i.VK)((()=>t.getTemplateEmoji()),[t]),c=(0,i.VK)((()=>t.getTemplateIcon()),[t]),u=(0,o.useCallback)((()=>{const e=n.RouterStore.state.route,{currentSpaceStore:o}=S.default.state,r=(0,Qt.gA)(t);if(!r||!o||"page"!==e.name)return;"closed"===Kt.Z.state.status&&Kt.Z.setState({...Kt.Z.state,selectedTemplate:void 0,allTemplates:void 0});const i=qt.G.createChildStore(o,{table:Yt.iU,id:e.blockId,spaceId:o.id});me.navigateToBlock({environment:n,store:i,pageVisitSource:le.tY.PersonalHomeTileTemplates,templateGalleryItem:r})}),[n,t]),g=(0,a.yK)((e=>{const t=e.home.cards.templateCardBackground;return{container:{width:Jt,height:180,display:"flex",flexDirection:"column",justifyContent:"stretch",background:t.base,boxShadow:e.homeShadow.templateCard.base},containerHovered:{background:t.hovered,boxShadow:e.homeShadow.templateCard.hovered},containerPressed:{background:t.pressed,boxShadow:e.homeShadow.templateCard.hovered},headerTitleAndIconContainer:{paddingTop:14,paddingBottom:14,paddingLeft:16,paddingRight:16,display:"flex",alignItems:"center",gap:12,flexShrink:0,justifyContent:"start"},headerTextContainer:{display:"flex",flexDirection:"column",gap:2,alignItems:"start",flexGrow:1,flexShrink:1},headerIcon:{width:32,height:32},offsetImageContainer:{position:"relative",flexShrink:1,flexGrow:1,minHeight:0},offsetImage:{position:"absolute",width:Jt,top:0,left:24,borderRadius:6,boxShadow:"0px 0px 0px 1px rgba(18, 18, 18, 0.03),  0px 2px 8px 0px rgba(18, 18, 18, 0.1)"},text:{width:"100%",lineHeight:1.3,...P.Z.textOverflowStyle}}}),[]);return(0,h.jsxs)(ct,{style:g.container,hoveredStyle:g.containerHovered,pressedStyle:g.containerPressed,onClick:u,children:[(0,h.jsxs)("div",{style:g.headerTitleAndIconContainer,children:[(0,h.jsx)(en,{templateIcon:c,templateEmoji:d,size:32}),(0,h.jsxs)("div",{style:g.headerTextContainer,children:[(0,h.jsx)($.Z,{style:g.text,children:s}),(0,h.jsx)($.Z,{isSmall:!0,isSecondaryColor:!0,children:(0,h.jsx)(_.FormattedMessage,{id:"templatesGalleryItem.authorByNotion",defaultMessage:"By Notion"})})]})]}),(0,h.jsx)("div",{style:g.offsetImageContainer,children:(0,h.jsx)("img",{style:g.offsetImage,src:l})})]})}function en(e){let{templateIcon:t,templateEmoji:n,size:o}=e;window.__c={n:"TemplateIcon"};const r=(0,a.yK)((e=>({headerIcon:{width:o,height:o}})),[o]);return n?(0,h.jsx)(ze.Z,{size:o,char:n}):t?(0,h.jsx)("img",{src:t,crossOrigin:"anonymous",style:r.headerIcon}):null}const tn=o.memo(Xt);function nn(e){let{}=e;window.__c={n:"TemplatesHomePanel"};const t=(0,r.O7)(),n=(0,_.useIntl)(),s=(0,i.VK)((()=>(0,y.QI)("dev_only")),[]),l=(0,i.VK)((()=>{const{currentSpaceStore:e,currentUserSettingsStore:t}=S.default.state,n=Ft.Z.state;return n||(0,se.NZ)({spaceSurveyData:null==e?void 0:e.getSpaceSurveyData(),spaceModel:null==e?void 0:e.getModel(),userUseCases:null==t?void 0:t.getUseCases(),userPersonaValue:null==t?void 0:t.getPersona()})}),[]),[d]=(0,Zt.r5)((async()=>{if(l)return await async function(e){let{persona:t,environment:n,intl:o}=e;const{currentSpaceStore:r}=S.default.state;if(!r)return[];const i=await Rt.getTemplateContentGroup(n,{contentfulId:Ot(t),locale:(0,At.E2)(o)});return"success"!==i.type||!1===i.data.success||"template"!==i.data.type?[]:i.data.content.map((e=>Lt.j$.createChildStore(r,{table:Bt.nE,id:e.id})))}({persona:l,environment:t,intl:n})}),[t,n,l]),c="pending"===(null==d?void 0:d.status),u=(0,i.VK)((()=>"resolved"===(null==d?void 0:d.status)?d.value??[]:[]),[d]),g=(0,o.useCallback)((()=>{const{currentSpaceViewStore:e}=S.default.state;e&&T.aG({environment:t,currentSpaceViewStore:e,feature:"templates",from:"templates_dismiss_button"})}),[t]),p=(0,o.useCallback)((()=>{Kt.Z.open({analyticsFrom:"home_tile_templates_all_templates",cloneTo:"destination_picker",selectedTemplate:void 0})}),[]),m=(0,a.yK)((e=>({templatesIcon:{width:20,height:20,padding:2,fill:e.regularIconColor}})),[]),f=(0,o.useMemo)((()=>{const e=[{type:"custom",closeOnAccept:!0,item:{key:"all_templates",render:(e,t)=>(0,h.jsx)(He.Z,{...e,title:(0,h.jsx)(_.FormattedMessage,{id:"TemplatesHomePanel.showAllTemplates",defaultMessage:"Explore more templates"}),icon:(0,Ht.s)(m.templatesIcon)}),action:p}},{type:"hide",hide:g}];return s&&e.push({type:"custom",closeOnAccept:!1,item:{key:"debug",render:e=>(0,h.jsx)(Wt,{...e}),action:()=>{}}}),[(0,h.jsx)(Le,{actions:e},"more")]}),[g,p,s,m.templatesIcon]);return(0,h.jsx)(Oe.Z,{title:(0,h.jsx)(_.FormattedMessage,{id:"TemplatesHomePanel.Title",defaultMessage:"Featured templates"}),icon:(0,h.jsx)(kt.Z,{icon:"kind"}),actions:f,children:(0,h.jsx)(Ct,{cardWidth:Jt,children:c||0===u.length?[...Array(3).keys()].map((e=>(0,h.jsx)(gt,{width:Jt,height:180,showLoadingShimmer:c},e))):u.map((e=>(0,h.jsx)(tn,{store:e},e.id)))})})}const on=o.memo(nn);var rn=n(26139),an=n(30687),sn=n(76927),ln=n(60458),dn=n(61519),cn=n(85740),un=n(32662),gn=n(18514),pn=n(77080),mn=n(30765),hn=n(27068),fn=n(30806),xn=n(35762),yn=n(90025);class vn extends D.default{getInitialState(){return{num_checked:0,total_cards_shown:0}}}const Sn=new vn;var wn=n(52389);function Cn(){window.__c={n:"TipsHomePanelEmptyState"};const e=(0,r.O7)(),t=(0,a.yK)((e=>({container:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:14,color:e.lightTextColor,flexGrow:1},icon:{width:16,height:16,fill:e.blueColor}})),[]);return(0,h.jsx)(Ye,{emoji:"📖",message:(0,h.jsxs)("div",{style:t.container,children:[(0,h.jsx)(_.FormattedMessage,{id:"TipsHomePanel.emptyState.message",defaultMessage:"New tips and guides will appear here."}),(0,h.jsx)(un.Z,{size:12}),(0,h.jsxs)(cn.Z,{isBlue:!0,onClick:()=>{me.navigateToExternalURL({environment:e,url:"https://www.notion.so/help",targetSelf:!1})},children:[(0,h.jsx)(_.FormattedMessage,{id:"TipsHomePanel.emptyState.exploreMore",defaultMessage:"Explore more in Help Center"}),(0,h.jsx)(un.Z,{size:2}),(0,rn.K)(t.icon)]})]})})}function bn(e){window.__c={n:"HideCompletedButton"};const{reorderTipsCallback:t}=e,n=(0,r.O7)(),o=(0,i.VK)((()=>{const{currentUserSettingsStore:e}=S.default.state;return!!e&&e.getPersonalHomeTipsSettings().hide_completed}),[]),s=(0,a.yK)((e=>({button:{fontSize:(0,J.yv)(n,"UISmall"),fontWeight:P.Z.fontWeight.medium,color:e.text.secondary,borderRadius:3,padding:"6px 8px",marginRight:-8}})),[n]);return(0,h.jsx)(fe.Z,{onClick:()=>{(0,hn.N8)({hide:!o,environment:n});const e=Sn.state;fn.uD(n,{show_completed_tips:o,num_checked:e.num_checked,total_cards_shown:e.total_cards_shown}),t()},style:s.button,children:o?(0,h.jsx)(_.FormattedMessage,{id:"tipsHomePanel.hideCompletedButton.show",defaultMessage:"Show completed"}):(0,h.jsx)(_.FormattedMessage,{id:"tipsHomePanel.hideCompletedButton.hide",defaultMessage:"Hide completed"})})}function kn(e){window.__c={n:"TipsGalleryItem"};const{card:t}=e,n=(0,r.O7)(),[s,l]=(0,o.useState)(!1),d=(0,i.VK)((()=>pn.default.checkGate("tips_inapp_modal")&&"category"!==t.contentType),[t]),c=t.key,u=(0,i.VK)((()=>{const{currentUserSettingsStore:e}=S.default.state;if(!e)return!1;const t=e.getPersonalHomeTipsSettings().progress_data[c];return!!t&&t.completed}),[c]),g=(0,o.useCallback)(((e,t)=>{if(e===u)return;(0,hn.K_)({tipType:c,completed:e,environment:n});const o=Sn.state,r=o.num_checked+(e?1:-1);Sn.setState({...o,num_checked:r}),fn.g8(n,{tip_key:c,checked:e,from:t,num_checked:r,total_cards_shown:o.total_cards_shown})}),[c,n,u]),p=(0,o.useCallback)((()=>{fn.PQ(n,{tip_key:c,was_completed:u}),g(!0,"clickthrough"),d&&wn.Z.setState({open:!0,tipCardDisplayInfo:t})}),[n,c,u,g,d,t]),m=(0,a.yK)((e=>{const t={position:"absolute",top:8,right:8},n={height:90,padding:"10px 12px",width:200,position:"relative",fill:e.icon.yellow};return{item:n,checkedItem:{...n,fill:e.lightIconColor,color:e.mediumTextColor},pressedItem:{background:e.home.cards.background.pressed},icon:{width:20,height:20},bookIcon:{width:12,height:12,marginRight:6},videoIcon:{width:14,height:14,marginRight:4},caption:{display:"inline-flex",alignItems:"center",fontSize:12,color:e.mediumTextColor,fill:e.mediumIconColor},title:{fontSize:14,paddingTop:6,paddingBottom:6},hiddenCheckbox:{display:"none"},checkbox:t,hoveredCheckbox:{...t,fill:e.home.cards.coverPhoto.base}}}),[]),f=u?m.checkbox:s?m.hoveredCheckbox:m.hiddenCheckbox,x=u?m.checkedItem:m.item,y=(0,gn.UY)("guides.guides"),v=d?void 0:`${y}${t.href}?${(0,xn.$y)()}`;return(0,h.jsxs)(ct,{href:v,style:x,pressedStyle:m.pressedItem,external:!0,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:p,children:[(0,h.jsx)(ln.Z,{checked:u,size:20,onClick:()=>g(!u,"check_button"),round:!0,thinOutline:!0,style:f,tooltipHeader:u?(0,h.jsx)(_.FormattedMessage,{id:"tipsHomePanel.checkbox.incompleteTooltip",defaultMessage:"Mark incomplete"}):(0,h.jsx)(_.FormattedMessage,{id:"tipsHomePanel.checkbox.completeTooltip",defaultMessage:"Mark complete"})}),t.icon(m.icon),(0,h.jsx)(mn.s,{style:m.title,children:t.title}),Boolean(t.durationMinutes)&&(0,h.jsxs)("div",{style:m.caption,children:["video"===t.contentType?(0,sn.p)(m.videoIcon):(0,an.w)(m.bookIcon),"video"===t.contentType?(0,h.jsx)(_.FormattedMessage,{id:"tipsHomePanel.captionDuration.watch",defaultMessage:"{duration} minute watch",values:{duration:t.durationMinutes}}):(0,h.jsx)(_.FormattedMessage,{id:"tipsHomePanel.captionDuration.read",defaultMessage:"{duration} minute read",values:{duration:t.durationMinutes}})]})]})}const jn=function(){window.__c={n:"TipsHomePanel"};const e=(0,r.O7)(),[t,n]=(0,o.useState)(!0),[s,l]=(0,o.useState)([]),[d,c]=(0,o.useState)([]),u=(0,i.VK)((()=>{const e=yn.Z.state,{currentUserSettingsStore:t}=S.default.state;if(e)return(0,xn.pJ)(e);if(null==t||!t.isReady())return[];const n=(0,xn.rM)();return(0,xn.pJ)(n)}),[]),g=(0,o.useCallback)((()=>{const{currentUserSettingsStore:e}=S.default.state;if(null==e||!e.isReady())return;const t=e.getPersonalHomeTipsSettings().progress_data,[o,r]=k.uK(u,(e=>{const n=e.key,o=t[n];return null==o?void 0:o.completed}));l(o),c(r),n(!1),Sn.setState({...Sn.state,num_checked:o.length,total_cards_shown:u.length})}),[u]);(0,o.useEffect)((()=>{g()}),[g]);const[p,m]=(0,o.useState)(),f=(0,o.useCallback)((e=>{e&&m(e.offsetLeft+e.offsetWidth-48)}),[]),x=(0,a.yK)((e=>({tileIcon:{width:14,height:14,fill:e.mediumIconColor},header:{marginBottom:-16},panel:{height:154},gallery:{paddingTop:12},divider:{height:90},dividerColor:{color:e.home.cards.verticalDivider}})),[]),y=(0,i.VK)((()=>S.default.state.currentSpaceViewStore),[]),v=(0,o.useCallback)((()=>{y&&T.aG({environment:e,currentSpaceViewStore:y,feature:"tips",from:"tips_dismiss_button"})}),[y,e]),w=(0,i.VK)((()=>{const{currentUserSettingsStore:e}=S.default.state;return!!e&&e.getPersonalHomeTipsSettings().hide_completed}),[]),C=!t&&w&&0===d.length;return(0,h.jsx)(Oe.Z,{title:(0,h.jsx)(_.FormattedMessage,{id:"LearnHomePanel.Title",defaultMessage:"Learn"}),actions:[(0,h.jsx)(Le,{actions:[{type:"hide",hide:v}]},"more")],icon:(0,an.w)(x.tileIcon),right:(0,h.jsx)(bn,{reorderTipsCallback:g}),panelStyle:x.panel,headerStyle:x.header,children:C?(0,h.jsx)(Cn,{}):(0,h.jsx)("div",{style:x.gallery,children:(0,h.jsxs)(bt,{cardWidth:200,scrollPosition:p,children:[!w&&s.map((e=>(0,h.jsx)(kn,{card:e},e.key))),!w&&s.length>0&&d.length>0&&(0,h.jsx)(dn.Z,{ref:f,vertical:!0,size:1,style:x.divider,dividerColor:x.dividerColor.color}),d.map((e=>(0,h.jsx)(kn,{card:e},e.key)))]})})})};function Mn(){window.__c={n:"PersonalHomePage"};const{isMobile:e}=(0,r.Fy)(),t=(0,a.yK)((()=>({sideBySideTile:{height:270,paddingRight:0}})),[]),n=(0,i.VK)((()=>{const t=S.default.state.currentSpaceViewStore,n=(null==t?void 0:t.getHomeEnabledFeatures())??{};return{tasks:n.tasks,similarUsersAndTrending:(0,se.Ju)(),tips:n.tips,templates:!e&&n.templates}}),[e]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x.bU,{children:(0,h.jsx)(_t,{})}),n.tasks&&(0,h.jsx)(x.bU,{children:(0,h.jsx)(Ne,{})}),n.similarUsersAndTrending&&(0,h.jsx)(x.Cq,{minWidth:300,left:(0,h.jsx)(Vt,{panelStyle:t.sideBySideTile}),right:(0,h.jsx)(et,{panelStyle:t.sideBySideTile})}),n.templates&&(0,h.jsx)(x.bU,{children:(0,h.jsx)(on,{})}),n.tips&&(0,h.jsx)(x.bU,{children:(0,h.jsx)(jn,{})})]})}const Pn=o.memo(Mn);function _n(){window.__c={n:"PersonalHomeContainer"};const{isPhone:e}=(0,r.Fy)(),t=(0,i.VK)((()=>(0,y.QI)("dev_only")),[]),n=(0,i.VK)((()=>{const e=S.default.state.currentSpaceViewStore;return e&&(0,w.Al)(e)}),[]);(0,o.useEffect)((()=>{s.j({name:"open_home"})}),[]);const d=(0,a.yK)((e=>({container:{width:"100%",height:"100%",cursor:"default"}})),[]),c=e?w.EP:w.iO;return(0,h.jsxs)(h.Fragment,{children:[t&&n&&(0,h.jsx)(f,{store:n}),(0,h.jsx)(l.Z,{type:v.Z.Y,style:d.container,className:"home-content",children:(0,h.jsxs)(x.Ar,{type:e?"home-phone":"home",gap:c,withBottomPadding:!0,children:[(0,h.jsx)(x.hy,{children:(0,h.jsx)(ae,{layoutGapSize:c})}),(0,h.jsx)(Pn,{})]})})]})}const In=o.memo(_n)},18752:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(49085);class r extends o.default{getInitialState(){}}const i=new r},90025:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(49085);class r extends o.default{getInitialState(){}}const i=new r},30765:(e,t,n)=>{n.d(t,{s:()=>d});var o=n(67294),r=n(480),i=n(24405),a=n(82990),s=n(26388);var l=n(85893);function d(e){let{children:t,style:n}=e;window.__c={n:"TextOverflowWithTooltip"};const{isSafari:d}=(0,r.Fy)(),c=(0,o.useRef)(null),u=function(e){const[t,n]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{const{current:t}=e;if(!t)return void n(!1);const o="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;n(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==o||o.observe(t),()=>null==o?void 0:o.unobserve(t)}),[]),t}(c),g=(0,i.yK)((()=>({overflowText:{...a.Z.textOverflowStyle,...n}})),[n]);return(0,l.jsx)(s.Z,{delayThreshold:500,placement:s.Z.Placement.Bottom,forceVisibleState:!(d||!u)&&void 0,renderTooltip:()=>u?t:void 0,render:e=>(0,l.jsx)("div",{ref:c,style:g.overflowText,...e,children:t})})}},64788:(e,t,n)=>{n.d(t,{P:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.I)("addPageCover",{viewBox:"0 0 14 14",svg:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 0a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm0 12h10L8.5 5.5l-2 4-2-1.5L2 12z"})})},40745:(e,t,n)=>{n.d(t,{M:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.I)("arrowDown",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},89767:(e,t,n)=>{n.d(t,{R:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.I)("collectionInbox",{viewBox:"0 0 14 14",svg:(0,r.jsx)("path",{d:"M11.0918,0 C11.5383,0 11.9307,0.295898 12.0533,0.725586 L13.9615,7.40332 C13.9871,7.49316 14,7.58594 14,7.67871 L14,13 C14,13.5527 13.5522,14 13,14 L1,14 C0.447754,14 0,13.5527 0,13 L0,7.67871 C0,7.58594 0.0129395,7.49316 0.0384521,7.40332 L1.94666,0.725586 C2.06934,0.295898 2.46167,0 2.9082,0 L11.0918,0 Z M4.27271,1.5 C3.83728,1.5 3.45178,1.78223 3.31982,2.19727 L1.91455,6.61328 C1.70947,7.25879 2.1908,7.91699 2.86755,7.91699 L4.70837,7.91699 C4.70837,8.93652 5.16663,10.168 7,10.168 C8.83337,10.168 9.29163,8.93652 9.29163,7.91699 L11.1478,7.89355 C11.8201,7.88477 12.2927,7.22852 12.0876,6.58887 L10.681,2.19531 C10.5485,1.78125 10.1635,1.5 9.72864,1.5 L4.27271,1.5 Z"})})},64878:(e,t,n)=>{n.d(t,{h:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.I)("dot",{viewBox:"0 0 5 4",svg:(0,r.jsx)("circle",{cx:"2.5",cy:"2",r:"2"})})},78807:(e,t,n)=>{n.d(t,{l:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.I)("statusCompleteGroup",{viewBox:"0 0 17 17",svg:(0,r.jsx)("path",{d:"M8.54688 16.5078C13.0156 16.5078 16.6953 12.8281 16.6953 8.35938C16.6953 3.89844 13.0078 0.210938 8.53906 0.210938C4.07812 0.210938 0.398438 3.89844 0.398438 8.35938C0.398438 12.8281 4.07812 16.5078 8.54688 16.5078ZM8.54688 14.7188C5.02344 14.7188 2.19531 11.8828 2.19531 8.35938C2.19531 4.83594 5.01562 2 8.53906 2C12.0703 2 14.8984 4.83594 14.9062 8.35938C14.9141 11.8828 12.0703 14.7188 8.54688 14.7188ZM7.71094 12.0781C8.00781 12.0781 8.27344 11.9219 8.44531 11.6562L11.8828 6.32031C11.9922 6.14844 12.0781 5.95312 12.0781 5.77344C12.0781 5.35156 11.7109 5.07031 11.3125 5.07031C11.0547 5.07031 10.8281 5.21094 10.6562 5.49219L7.6875 10.2578L6.29688 8.51562C6.10938 8.27344 5.91406 8.17969 5.67188 8.17969C5.25781 8.17969 4.92188 8.50781 4.92188 8.92969C4.92188 9.125 5 9.30469 5.14062 9.48438L6.94531 11.6641C7.16406 11.9375 7.40625 12.0781 7.71094 12.0781Z"})})},58178:(e,t,n)=>{n.d(t,{s:()=>i});n(67294);var o=n(45238),r=n(85893);const i=(0,o.I)("templateGalleryNewLogo",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281ZM6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25ZM14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z"})})}}]);