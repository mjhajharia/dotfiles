"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[2070],{66653:(t,e,i)=>{i.d(e,{Z:()=>f});i(67294);var n=i(83355),s=i(40506),r=i(53877),o=i(84795),a=i(72126),d=i(97880),l=i(68939),p=i(17335),u=i(97638),h=i(67950),c=i(74194),g=i(68894),v=i(26388),m=i(85893);class y extends n.Z{constructor(){super(...arguments),this.storeTypes={store:h.Z},this.renderInput=()=>{const{device:t}=this.environment,{store:e,hideClearButton:i,focused:n,value:s,...r}=this.props,o=t.isMobile&&"relative"!==(null==s?void 0:s.type)?"date":"text",a="date"===o?c.Z.Format.Transparent:c.Z.Format.Large,d=t.isMobile?void 0:n;return(0,m.jsx)(g.ZP,{...r,type:o,format:a,left:this.renderMobilePlaceholder(o),showClearButton:S(this.environment,this.props.hideClearButton),focus:d,onFocus:this.handleFocus,onClearButtonClick:this.handleClear,onChange:this.handleChange,onSubmit:this.handleSubmit,onBlur:this.handleBlur,value:this.getInputValue(),disableInput:"relative"===(null==s?void 0:s.type),...this.getInputStyles()})},this.handleFocus=t=>{const{onFocus:e}=this.props,{store:i}=this.stores;i.setState({...i.state,edited:!1}),e&&e(t)},this.handleClear=()=>{const{onClearButtonClick:t,onUpdate:e}=this.props,{store:i}=this.stores;i.setState({...i.state,edited:!0,temporary:"",error:void 0});const n=this.validateCurrent();n&&e(n),i.setState({...i.state,edited:!1}),t&&t()},this.handleChange=t=>{const{device:e}=this.environment,{store:i}=this.stores;i.setState({...i.state,edited:!0,temporary:t.target.value||""}),e.isAndroid&&this.handleBlur()},this.handleSubmit=t=>{const{onUpdate:e,onSubmit:i}=this.props,{store:n}=this.stores,s=this.validateCurrent();s&&(e(s),s.error?n.setState({...n.state,edited:!1,error:s.error}):n.reset()),i&&i(t,s)},this.handleBlur=t=>{const{onUpdate:e,onBlur:i}=this.props,{store:n}=this.stores,s=this.validateCurrent();s?(e(s),s.error?n.setState({...n.state,edited:!1,error:s.error}):n.reset()):n.setState({...n.state,edited:!1}),t&&i&&i(t)},this.styles={menuItem:{marginBottom:this.environment.device.isMobile?1:8},inputWrapper:{borderRadius:4,height:28,paddingRight:S(this.environment,this.props.hideClearButton)?8:0,position:"relative"},inputEditRegion:{width:S(this.environment,this.props.hideClearButton)?"calc(100% - 14px)":"100%"},inputEditRegionMobile:{padding:"2px 6px",position:"relative"},placeholder:{position:"absolute",left:this.environment.device.isIpad?26:12,top:this.environment.device.isIpad?void 0:"50%",transform:"translateY(-50%)"},tooltipOriginGap:-8}}didUpdate(t){const{store:e}=this.stores;a.Xy(t.value,this.props.value)||e.reset()}renderComponent(){const t=this.styles,e=this.getError();return e?(0,m.jsx)(v.Z,{renderTooltip:()=>e,forceVisibleState:!0,placement:v.Z.Placement.Left,render:this.renderInput,originGap:t.tooltipOriginGap}):this.renderInput()}renderMobilePlaceholder(t){const{placeholder:e,value:i}=this.props,n=this.styles,s=b(this.theme);if("date"===t&&!i)return(0,m.jsx)("div",{style:{...n.placeholder,...s.placeholder},children:e})}getInputValue(){const{device:t}=this.environment,{value:e,intl:i}=this.props,{store:n}=this.stores;if(e&&"relative"===e.type)return(0,p.x)(e);const s=e&&"date"!==e.type?r.Id(e):e;return t.isMobile?s?u.p6(s,i,x(this.environment,this.props.desktopDateFormat)):"":n.state.temporary||n.state.edited?n.state.temporary:s?u.p6(s,i,x(this.environment,this.props.desktopDateFormat)):""}getError(){const{store:t}=this.stores,{intl:e}=this.props;if(t.state.error)switch(t.state.error){case h.B.INVALID_DATE:return e.formatMessage({id:"dateInputError.invalidDateError.tooltip",defaultMessage:"Invalid date"});case h.B.INVALID_RANGE:return e.formatMessage({id:"dateInputError.invalidDateRangeError.tooltip",defaultMessage:"Invalid range"});default:(0,d.t1)(t.state.error)}}validateCurrent(){const{validate:t}=this.props,e=this.parseCurrentValue();if(e)return t?t(e):e}parseCurrentValue(){const{store:t}=this.stores;if(!t.state.edited)return;if(!t.state.temporary)return{value:void 0};const e=(0,o.parseDateValueWithInputFormat)(t.state.temporary,this.environment.device.isMobile?r.Iq:x(this.environment,this.props.desktopDateFormat),this.props.intl);return e?{value:{type:"date",start_date:e}}:{error:h.B.INVALID_DATE}}getInputStyles(){const{device:t}=this.environment,{inputStyle:e,inputOuterStyle:i,style:n}=this.props,s=this.styles;return{style:{...s.menuItem,...n,marginRight:0},inputOuterStyle:{...this.getInputBorders(),...s.inputWrapper,...i},inputStyle:{...s.inputEditRegion,...t.isMobile&&s.inputEditRegionMobile,...e}}}getInputBorders(){const{disabled:t,focused:e}=this.props,i=b(this.theme),n=this.getError();if(!t)return n?i.inputError:e?i.inputFocused:i.inputDefault}}y.displayName="DateInputMenuItem";const f=(0,l.injectIntl)(y);function x(t,e){const{device:i}=t;return i.isMobile?"YYYY-MM-DD":e??s.sF}function S(t,e){const{device:i}=t;return!!i.isMobile||!e}function b(t){return{inputDefault:{background:t.inputBackground,boxShadow:t.inputBoxShadow},inputFocused:{background:t.inputBackground,boxShadow:t.outlineBlueInputBoxShadow},inputError:{background:t.inputBackground,boxShadow:t.outlineRedInputBoxShadow},placeholder:{color:t.lightTextColor}}}},41209:(t,e,i)=>{i.d(e,{Z:()=>v});i(67294);var n=i(480),s=i(76205),r=i(17335),o=i(33929),a=i(87279),d=i(52275),l=i(31945),p=i(78140),u=i(32163),h=i(53437),c=i(72495),g=i(85893);function v(t){window.__c={n:"DateOrRangeFilterOperatorValueMenu"};const{filterValue:e,renderOrigin:i,buttonPopupStore:v}=t,m=(0,n.O7)(),y=t=>"relative"===t.filter.type&&"custom"===t.filter.value?o.default.formatMessage(r.HL[t.filter.value]):"date"===t.type?(0,r.x)(t.filter):(0,r.ip)(t.filter);return(0,g.jsx)(l.ZP,{popupType:m.device.isMobile?h.kQ.SlideUp:h.kQ.Popup,buttonPopupStore:v,render:()=>{let i;i=m.device.isMobile?{menuType:a.og.ActionSheet}:{menuType:a.og.Popup};const n="date"===t.type?(()=>{const t=s.tO;return[...t.filter((t=>"relative"===t.type)),...t.filter((t=>"exact"===t.type))]})().map((i=>({key:"relative"===i.type?i.value:i.type,render:t=>(0,g.jsx)(d.Z,{...t,title:y({type:"date",filter:i}),checkState:i.type===e.type&&(void 0===i.value||i.value===e.value)}),action:()=>{t.onUpdate(i),v.setState({open:!1})}}))):(()=>{const t=(0,s.v8)();return[...t.filter((t=>"relative"===t.type)),...t.filter((t=>"exact"===t.type))]})().map((i=>({key:(0,s.eX)(i),render:t=>(0,g.jsx)(d.Z,{...t,title:y({type:"daterange",filter:i}),checkState:i.type===e.type&&(void 0===i.value||i.value===e.value)}),action:()=>{t.onUpdate(i),v.setState({open:!1})}})));return(0,g.jsx)(p.Z,{...i,children:(0,g.jsx)(u.Z,{type:u.i.Vertical,sections:[{key:"filterOperators",render:t=>(0,g.jsx)(c.Z,{disableMobilePadding:!0,...t}),items:n}],initialFocus:void 0})})},renderOrigin:i,style:{width:240},originGap:2,placementToOrigin:l.pO.Bottom,alignmentToOrigin:l.vR.Center,disabled:t.disabled})}},83264:(t,e,i)=>{i.d(e,{Z:()=>T});i(67294);var n=i(83355),s=i(480),r=i(76205),o=i(53877),a=i(42875),d=i(97880),l=i(68939),p=i(28020),u=i(33929),h=i(87279),c=i(97638),g=i(67950),v=i(41558),m=i(78140),y=i(40721),f=i(72495),x=i(64369),S=i(66653),b=i(41209),D=i(46945),C=i(14390),M=i(85893);const k={calendarWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},pickerSection:{paddingLeft:16,paddingRight:16},pickerSectionMobile:{paddingTop:16,paddingBottom:8},firstDateInput:{marginTop:2}},w=(0,l.defineMessages)({startingMessage:{defaultMessage:"Starting",id:"search.dateRangeMenu.startingMessage"},endingMessage:{defaultMessage:"Ending",id:"search.dateRangeMenu.endingMessage"}});class I extends n.Z{constructor(){super(...arguments),this.storeTypes={store:v.Z},this.renderInputs=()=>{const{value:t,relativeRangePopupStore:e,onUpdateRelativeFilter:i}=this.props;if(e&&i){const n="type"in t?t:{type:"exact",value:void 0};return(0,M.jsx)(b.Z,{type:"daterange",filterValue:n,onUpdate:i,renderOrigin:t=>"exact"===n.type?this.renderStartEnd(t):"relative"!==n.type||"surrounding"!==n.value&&"custom"!==n.value?void 0:(0,M.jsx)(Z,{events:t,onUpdateFilter:i,filter:n}),disabled:"exact"===n.type,buttonPopupStore:e})}return this.renderStartEnd()},this.renderStartEnd=t=>{const{value:e,disabled:i,allowRelativeRangeFilter:n}=this.props,{store:s}=this.stores,r=s.getFocus(),o=function(t,e){if("type"in t)return;const i=t.starting&&c.p6(t.starting,e,"YYYY-MM-DD"),n=t.ending&&c.p6(t.ending,e,"YYYY-MM-DD");return{earliestValidEnding:i,latestValidStarting:n}}(this.props.value,this.props.intl),a="type"in e?{starting:void 0,ending:void 0}:e;return(0,M.jsxs)("div",{...t,style:{display:"flex",flexDirection:n&&!this.environment.device.isMobile?"row":"column",alignItems:"center",width:this.environment.device.isMobile?void 0:280},children:[(0,M.jsx)(S.Z,{disabled:i,placeholder:this.environment.device.isMobile?void 0:u.default.formatMessage(w.startingMessage),focused:"starting"===r,value:a.starting,validate:t=>function(t,e){const i=B("starting",t,e);return i.error?i:{value:i.value.starting}}(t,this.props.value),onUpdate:this.handleUpdateStart,onFocus:()=>this.handleFocus("starting"),onSubmit:this.handleStartSubmit,inputElementAttributes:o?{max:o.latestValidStarting}:void 0,inputOuterStyle:k.firstDateInput,textWrapperStyle:n&&!this.environment.device.isMobile?{marginRight:2}:{},desktopDateFormat:n?"YYYY/MM/DD":void 0}),(0,M.jsx)(S.Z,{disabled:i,placeholder:this.environment.device.isMobile?void 0:u.default.formatMessage(w.endingMessage),focused:"ending"===r,value:a.ending,validate:t=>function(t,e){const i=B("ending",t,e);return i.error?i:{value:i.value.ending}}(t,this.props.value),onUpdate:this.handleUpdateEnd,onFocus:()=>this.handleFocus("ending"),onSubmit:this.handleEndSubmit,inputElementAttributes:o?{min:o.earliestValidEnding}:void 0,textWrapperStyle:n&&!this.environment.device.isMobile?{marginLeft:2}:{},desktopDateFormat:n?"YYYY/MM/DD":void 0})]})},this.renderCalendar=()=>{const{device:t}=this.environment,{value:e,onUpdate:i}=this.props,{store:n}=this.stores,s={pickerSectionMobile:{background:(u=this.theme).popoverBackground,boxShadow:`0 1px 0 ${u.regularDividerColor}`,marginBottom:1}};var u;const h={...k.pickerSection,...t.isMobile&&k.pickerSectionMobile,...t.isMobile&&s.pickerSectionMobile},c="type"in e?function(t){return"custom"===t.value?function(t,e,i){const n=(0,r.Fo)(t,e,i,(0,a.r)());switch(t){case"past":return{starting:o.ME(n),ending:o.Lg((0,a.r)())};case"future":return{starting:o.Lg((0,a.r)()),ending:o.ME(n)};default:(0,d.t1)(t)}}(t.direction,t.count,t.unit):"surrounding"===t.value?function(t){const{start:e,end:i}=(0,r.je)(t,(0,a.r)(),p.AK.state);return{starting:o.ME(e),ending:o.ME(i)}}(t.unit):function(t){switch(t.value){case"this_week":return{starting:j((0,a.r)()),ending:R((0,a.r)())};case"the_past_month":return{starting:o.dj((0,a.r)()),ending:o.Lg((0,a.r)())};case"the_past_week":return{starting:o.Oo((0,a.r)()),ending:o.Lg((0,a.r)())};case"the_past_year":return{starting:o.b8((0,a.r)()),ending:o.Lg((0,a.r)())};case"the_next_month":return{starting:o.Lg((0,a.r)()),ending:o.nD((0,a.r)())};case"the_next_week":return{starting:o.Lg((0,a.r)()),ending:o.Kq((0,a.r)())};case"the_next_year":return{starting:o.Lg((0,a.r)()),ending:o.NJ((0,a.r)())};default:(0,d.t1)(t)}}(t)}(e):e;return(0,M.jsx)(f.Z,{style:k.calendarWrapper,children:(0,M.jsxs)("div",{style:h,children:[(0,M.jsx)(D.Z,{value:c,store:n,onUpdate:i,validate:(t,e)=>B(t,e,this.props.value),readonly:"type"in e}),"type"in e&&(0,M.jsx)(x.Z,{isSmall:!0,style:{marginLeft:4,marginTop:4},children:(0,M.jsx)(l.FormattedMessage,{id:"collectionFilterMenu.dateRangeFilter.relativeDateRangeFilter.description",defaultMessage:"Filter will update with the current date"})})]})})},this.handleFocus=t=>{const{store:e}=this.stores;e.setState({...e.state,focus:t})},this.handleUpdateStart=t=>{const{onUpdate:e}=this.props;t.error||e({value:{starting:t.value}})},this.handleUpdateEnd=t=>{const{onUpdate:e}=this.props;t.error||e({value:{ending:t.value}})},this.handleStartSubmit=(t,e)=>{const{store:i}=this.stores;e&&e.error||i.setState({...i.state,focus:"ending"})},this.handleEndSubmit=(t,e)=>{const{onDismiss:i}=this.props;e&&e.error||i&&i(t)},this.getMenuProps=()=>{const{device:t}=this.environment,{onDismiss:e,title:i}=this.props;if(t.isMobile){return{menuType:h.og.Modal,title:i,right:(0,M.jsx)(y.DoneMenuText,{}),onClickRight:e,header:this.renderInputs()}}return{menuType:h.og.Popup,onClickOutside:e}}}renderComponent(){const{disableMenuWrap:t,hideDateInputMenuItems:e}=this.props,{device:i}=this.environment;return t?(0,M.jsxs)(M.Fragment,{children:[!e&&this.renderInputs(),this.renderCalendar()]}):(0,M.jsxs)(m.Z,{...this.getMenuProps(),children:[!i.isMobile&&!e&&this.renderInputs(),this.renderCalendar()]})}}I.displayName="DateRangeMenu";const T=(0,l.injectIntl)(I);function j(t){return{type:"date",start_date:o.em(Date.now(),o.aN(),t).toFormat(o.Iq)}}function R(t){return{type:"date",start_date:o.gQ(Date.now(),o.aN(),t).toFormat(o.Iq)}}function Z(t){let{events:e,onUpdateFilter:i,filter:n}=t;window.__c={n:"RelativePickerComponent"};const r=(0,s.O7)();return(0,M.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:r.device.isMobile?"wrap":void 0,marginBottom:12},children:(0,M.jsx)("div",{style:{width:"92%",marginLeft:10,marginRight:10},children:(0,M.jsx)(C.b,{onUpdate:i,filter:n})})})}function B(t,e,i){if("type"in i)return{value:{starting:void 0,ending:void 0}};if(e.error)return e;const n=e.value&&"date"!==e.value.type?o.Id(e.value):e.value;return function(t){if(t.starting&&t.ending){const e=o.OQ.notionDateToLuxon(t.starting);return o.OQ.notionDateToLuxon(t.ending)>=e?{value:t}:{error:g.B.INVALID_RANGE}}return{value:t}}({...i,[t]:n})}},46945:(t,e,i)=>{i.d(e,{Z:()=>v});i(67294);var n=i(83355),s=i(13991),r=i(8848),o=i(53877),a=i(42875),d=i(82990),l=i(28020),p=i(77907),u=i(13854),h=i(85893);const c={monthControl:{position:"absolute",top:0,right:0,display:"flex"},selectedRange:{backgroundColor:r.ZP.blueWithAlpha(.15)},active:{backgroundColor:r.ZP.blue,color:r.ZP.white},inactive:{backgroundColor:r.ZP.blueWithAlpha(.43)},disabled:{pointerEvents:"none"},today:{fontWeight:d.Z.fontWeight.regular}};class g extends n.Z{constructor(){super(...arguments),this.currentDate=void 0,this.handleDayClick=t=>{const{disabled:e,store:i,dateTimeStore:n,value:s,validate:r,onUpdate:a,readonly:d}=this.props;if(e||d)return;const l=i.getFocus(),p=r(l,{value:o.OQ.toPersistedDate(t.valueOf())});if(a(p.error?p:{value:{[l]:p.value[l]}}),i.setState({...i.state,hovered:void 0}),n&&n.setState({...n.state,hovered:void 0}),p.error)return;"starting"!==l||s.ending||(i.setState({...i.state,focus:"ending"}),n&&n.setState({...n.state,focus:u.yO.ending}));const h="starting"===l?"ending":"starting";i.setState({...i.state,focus:h}),n&&n.setState({...n.state,focus:u.yO[h]})},this.handleDayMouseEnter=t=>{const{disabled:e,store:i,dateTimeStore:n,value:s,readonly:r}=this.props,a=i.getFocus(),d=o.OQ.jsDateToLuxon(t);if(!e&&!r)if("starting"===a&&s.ending&&!s.starting){o.OQ.notionDateToLuxon(s.ending)>=d&&(i.setState({...i.state,hovered:t}),n&&n.setState({...n.state,hovered:t}))}else if("ending"===a&&s.starting&&!s.ending){o.OQ.notionDateToLuxon(s.starting)<=d&&(i.setState({...i.state,hovered:t}),n&&n.setState({...n.state,hovered:t}))}},this.handleMonthChange=t=>{const{store:e,dateTimeStore:i}=this.props;e.setState({...e.state,displayMonth:o.OQ.jsDateToLuxon(t)}),i&&i.setState({...i.state,displayMonth:o.OQ.jsDateToLuxon(t)})}}renderComponent(){const{readonly:t}=this.props,e=this.getDisplayMonth();return(0,h.jsx)(p.LazyDayPicker,{className:"notion-calendar-picker",defaultMonth:e,month:e,numberOfMonths:1,weekStartsOn:l.AK.state,locale:s.SP,showOutsideDays:!0,fixedWeeks:!0,onDayClick:this.handleDayClick,onDayMouseEnter:this.handleDayMouseEnter,onMonthSelected:this.handleMonthChange,modifiers:m(this.props.store,this.props.value,this.props.disabled),modifiersStyles:this.getModifiersStyles(),disabled:!!t||void 0})}getCurrentDate(){if(!this.currentDate){const t=o.Lg((0,a.r)());this.currentDate=o.OQ.notionDateToJsDate(t)}return this.currentDate}getDisplayMonth(){const{value:t,store:e}=this.props;if(e.state.displayMonth)return e.state.displayMonth.toJSDate();if("starting"===e.getFocus()){if(t.starting)return o.OQ.notionDateToJsDate(t.starting);if(t.ending)return o.OQ.notionDateToJsDate(t.ending)}if("ending"===e.getFocus()){if(t.ending)return o.OQ.notionDateToJsDate(t.ending);if(t.starting)return o.OQ.notionDateToJsDate(t.starting)}return this.getCurrentDate()}getModifiersStyles(){const{store:t}=this.props,e=c,i={disabled:{color:this.theme.lightTextColor},today:{color:r.ZP.white}};const n=t.getFocus(),s={...e.disabled,...i.disabled},o={...e.today,...i.today};return{range:e.selectedRange,start:"starting"===n?e.active:e.inactive,end:"ending"===n?e.active:e.inactive,disabled:s,today:o}}}g.displayName="DateRangePicker";const v=g;function m(t,e,i){const n=function(t,e,i){if(e)return t=>!0;const n=t=>"ending"===i.getFocus()&&{before:t},s=t=>"starting"===i.getFocus()&&{after:t};if(t.starting&&t.ending){const e=o.OQ.notionDateToJsDate(t.starting),i=o.OQ.notionDateToJsDate(t.ending);return n(e)||s(i)}if(t.starting)return n(o.OQ.notionDateToJsDate(t.starting));if(t.ending)return s(o.OQ.notionDateToJsDate(t.ending));return!1}(e,i,t),{hovered:s}=t.state;if(i)return{disabled:n};if(e.starting&&e.ending){const t=o.OQ.notionDateToJsDate(e.starting),i=o.OQ.notionDateToJsDate(e.ending);return{range:{from:t,to:i},start:t,end:i,disabled:n}}if(e.starting){const t=o.OQ.notionDateToJsDate(e.starting);return{range:s&&{from:t,to:s},start:t,end:s,disabled:n,selected:[t,s]}}if(e.ending){const t=o.OQ.notionDateToJsDate(e.ending);return{range:s&&{from:s,to:t},start:s,end:t,disabled:n,selected:[t,s]}}}},62045:(t,e,i)=>{i.d(e,{Z:()=>u});i(67294);var n=i(83355),s=i(8848),r=i(42853),o=i(52275),a=i(8982),d=i(63296),l=i(85893);class p extends n.Z{constructor(){super(...arguments),this.handleClick=()=>{this.props.onClick&&this.props.onClick()}}renderComponent(){const{device:t}=this.environment,e=Boolean(this.props.title);if(t.isMobile)return(0,l.jsx)(o.Z,{showExtensionArrow:!this.props.disabled,focused:!1,title:e?(0,l.jsx)("div",{style:{display:"flex",alignItems:"center",...this.props.innerStyle},children:this.props.title}):(0,l.jsx)("div",{style:{display:"flex",alignItems:"center",color:s.ZP.uiGray,...this.props.innerStyle},children:this.props.placeholder}),onClick:this.props.onClick});{const t="dark"===this.theme.mode?this.theme.lightTextColor:this.theme.mediumTextColor;return(0,l.jsx)(a.i,{action:this.handleClick,disabled:this.props.disabled,render:i=>(0,l.jsxs)(d.Z,{...i,hovered:i.focused,isLarge:!0,backgroundColor:this.theme.buttonBackground,style:{marginRight:8,maxWidth:180,padding:"0 8px",...i.disabled&&{opacity:.5},...this.props.disableMargins&&{marginRight:0,maxWidth:"100%",justifyContent:"space-between"},...this.props.desktopStyle},children:[(0,l.jsx)("div",{style:{display:"flex",minWidth:0,color:e?this.theme.regularTextColor:t,...this.props.innerStyle},children:e?this.props.title:this.props.placeholder}),!this.props.disabled&&(0,r.i)({width:10,marginLeft:6,fill:this.theme.lightIconColor})]})})}}}p.displayName="QueryMenuDropdownItem";const u=p},14390:(t,e,i)=>{i.d(e,{b:()=>w});i(67294);var n=i(480),s=i(86628),r=i(24405),o=i(42853),a=i(63143),d=i(68939),l=i(17335),p=i(33929),u=i(87279),h=i(61766),c=i(52275),g=i(31945),v=i(73063),m=i(68894),y=i(78140),f=i(32163),x=i(63296),S=i(53437),b=i(72495),D=i(64369),C=i(62045),M=i(85893);function k(t){window.__c={n:"DateRangePickerButton"};const{humanReadableLabel:e,placeholder:i,outlineButtonStyle:n,buttonWrapperStyle:s,renderAsQueryDropdown:a,events:d,isMobile:l}=t,p=(0,r.yK)((t=>({iconStyle:{...!l&&{height:12,width:12},color:t.mediumIconColor},textStyle:{marginLeft:6,color:t.regularTextColor}})),[l]);return a?(0,M.jsx)(C.Z,{...d,placeholder:i,title:(0,M.jsx)(D.Z,{isMobile:l,children:e}),disableMargins:!0}):(0,M.jsx)("div",{style:s,...d,children:(0,M.jsxs)(x.Z,{isLarge:l,style:n,children:[(0,M.jsx)("div",{style:p.textStyle,children:e}),(0,M.jsx)(v.Z,{disableBackground:!0,icon:o.i,iconStyle:p.iconStyle})]})})}function w(t){window.__c={n:"RelativeDateRangePicker"};const{onUpdate:e,filter:i,renderAsQueryDropdown:o}=t,v=(0,n.Fy)(),x=(0,d.useIntl)(),D=(0,s.qz)(void 0,h.Z),C=(0,s.qz)(void 0,h.Z),w="count"in i,I=(0,r.yK)((t=>({directionButtonStyle:{paddingLeft:4,paddingRight:4,minWidth:70,justifyContent:"space-between",...v.isMobile&&{marginTop:12,width:"100%",paddingLeft:12,marginBottom:6},...!w&&{marginRight:4}},unitButtonStyle:{paddingLeft:4,paddingRight:4,minWidth:90,justifyContent:"space-between",width:"100%",...v.isMobile&&{paddingLeft:12,marginTop:6}},directionButtonWrapperStyle:{...v.isMobile&&{width:"100%"},flexGrow:0},unitButtonWrapperStyle:{...v.isMobile&&{width:"100%"},flexGrow:2},inputStyle:{minWidth:35,height:16},inputOuterStyle:{minWidth:60,height:32},container:{display:"flex",justifyContent:"start",alignItems:"center",flexDirection:v.isMobile?"column":"row",width:"100%"},textWrapper:{marginRight:6,marginLeft:o?16:6}})),[v.isMobile,o,w]);function T(t){return"this"===t?p.default.formatMessage(l.Fc[t]):p.default.formatMessage(l.Sj[t])}function j(t,e){return e&&e>1?p.default.formatMessage(l.D0[t]):p.default.formatMessage(l.Sb[t])}const R=["day","week","month","year"].map((t=>({key:t,render:e=>(0,M.jsx)(c.Z,{...e,title:j(t,w?i.count:void 0),checkState:t===i.unit}),action:n=>{e({...i,unit:t}),D.setState({open:!1})}}))),Z=["past","future","this"].map((t=>({key:t,render:e=>(0,M.jsx)(c.Z,{...e,checkState:"surrounding"===i.value?"this"===t:t===i.direction,title:T(t)}),action:n=>{"this"===t&&"custom"===i.value?e({type:"relative",value:"surrounding",unit:i.unit}):"this"!==t&&"surrounding"===i.value?e({type:"relative",value:"custom",count:1,direction:t,unit:i.unit}):"this"!==t&&"custom"===i.value&&e({...i,direction:t}),C.setState({open:!1})}})));return(0,M.jsxs)("div",{style:I.container,children:[(0,M.jsx)(g.ZP,{buttonPopupStore:C,popupType:v.isMobile?S.kQ.SlideUp:S.kQ.Popup,renderOrigin:t=>(0,M.jsx)(k,{events:t,placeholder:x.formatMessage(l.$7.direction),renderAsQueryDropdown:o,isMobile:v.isMobile,outlineButtonStyle:I.directionButtonStyle,buttonWrapperStyle:I.directionButtonWrapperStyle,humanReadableLabel:T("direction"in i?i.direction:"this")}),render:()=>(0,M.jsx)(y.Z,{menuType:v.isMobile?u.og.ActionSheet:u.og.Popup,children:(0,M.jsx)(f.Z,{initialFocus:void 0,type:f.i.Vertical,sections:[{key:"directionOptions",render:t=>(0,M.jsx)(b.Z,{disableMobilePadding:!0,...t}),items:Z}]})})}),w&&(0,M.jsx)(m.ZP,{type:"number",style:I.inputStyle,textWrapperStyle:I.textWrapper,inputOuterStyle:I.inputOuterStyle,min:"1",value:i.count.toString(),onChange:t=>{const n=parseInt(t.target.value);!(0,a.hj)(n)||n<1||e({...i,count:n})}}),(0,M.jsx)(g.ZP,{buttonPopupStore:D,popupType:v.isMobile?S.kQ.SlideUp:S.kQ.Popup,renderOrigin:t=>(0,M.jsx)(k,{events:t,placeholder:x.formatMessage(l.$7.unit),renderAsQueryDropdown:o,isMobile:v.isMobile,outlineButtonStyle:I.unitButtonStyle,buttonWrapperStyle:I.unitButtonWrapperStyle,humanReadableLabel:j(i.unit,"count"in i?i.count:void 0)}),render:()=>(0,M.jsx)(y.Z,{menuType:v.isMobile?u.og.ActionSheet:u.og.Popup,children:(0,M.jsx)(f.Z,{initialFocus:void 0,type:f.i.Vertical,sections:[{key:"unitOptions",render:t=>(0,M.jsx)(b.Z,{disableMobilePadding:!0,...t}),items:R}]})})})]})}},47082:(t,e,i)=>{i.d(e,{Z:()=>b});i(67294);var n=i(83355),s=i(480),r=i(24405),o=i(53465),a=i(72126),d=i(87279),l=i(98742),p=i(34859),u=i(64113),h=i(64921),c=i(37601),g=i(74194),v=i(3386),m=i(53336),y=i(64369),f=i(85893),x=function(t){return t[t.Select=0]="Select",t[t.Person=1]="Person",t[t.Relation=2]="Relation",t[t.FilterValue=3]="FilterValue",t[t.Share=4]="Share",t[t.Group=5]="Group",t}(x||{});class S extends n.Z{constructor(){super(...arguments),this.storeTypes={store:u.Z},this.handleFocused=()=>{this.stores.store.setState({focused:!0})},this.handleBlurred=()=>{this.stores.store.setState({focused:!1})},this.handleKeyDown=t=>{"Backspace"===t.key&&0===this.props.value.length&&this.props.onRemoveLastToken(),this.props.onKeyDown&&this.props.onKeyDown(t)},this.handleSubmit=t=>{0===this.props.value.length&&this.props.onEmptySubmit&&this.props.onEmptySubmit(),this.props.onSubmit&&this.props.onSubmit(t)},this.handleContainerClick=()=>{var t,e;this.props.disabled||(this.input.focusInput(),null===(t=(e=this.props).onClick)||void 0===t||t.call(e))}}UNSAFE_willMount(){(this.props.focus||this.props.focusInitial)&&this.stores.store.setState({focused:!0})}UNSAFE_willUpdate(){void 0!==this.props.focus&&this.stores.store.setState({focused:this.props.focus})}renderComponent(){const{disabled:t}=this.props;return(0,f.jsx)(v.Z,{capture:!t,onLeft:a.yR,onRight:a.yR,onSelectAll:a.yR,onRedo:a.yR,onUndo:a.yR,onToggleBold:a.yR,onToggleItalics:a.yR,onToggleCode:a.yR,onCut:a.yR,onCopy:a.yR,onPaste:a.yR,onKeypress:a.yR,children:(0,f.jsx)(v.Z,{capture:!t&&this.props.value.length>0,onDelete:a.yR,onBackspace:a.yR,children:(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",width:"100%",gap:this.props.message?4:void 0},children:[this.renderTokenInput(),(0,f.jsx)(y.Z,{isSmall:!0,children:this.props.message})]})})})}renderTokenInput(){const{right:t,showClearButton:e}=this.props;return t||e?(0,f.jsxs)(m.Z,{type:p.Z.All,style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...this.props.inputAndTokenWrapRightStyle},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,f.jsx)("div",{style:{flexShrink:0},children:(0,f.jsx)(k,{showClearButton:this.props.showClearButton,right:this.props.right,onClearButtonClick:this.props.onClearButtonClick,tokens:this.props.tokens,value:this.props.value})})]}):this.environment.device.isMobile?(0,f.jsxs)("div",{style:{...this.getWrapStyle(),flexWrap:"nowrap",...this.props.style},onClick:this.handleContainerClick,children:[(0,f.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,overflow:"hidden",marginRight:D(this.props.format)?6:0},children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]}),(0,f.jsx)(c.Z,{show:this.stores.store.state.focused})]}):(0,f.jsxs)(m.Z,{type:p.Z.All,style:{...this.getWrapStyle(),...this.props.style},onClick:this.handleContainerClick,children:[this.props.tokens,!this.props.hideInput&&this.renderInput()]})}renderInput(){const t=0===this.props.tokens.length;return(0,f.jsx)(g.Z,{disabled:this.props.disabled,format:g.Z.Format.Transparent,...(0,l.Z)({onKeyDown:this.handleKeyDown},{onChange:this.props.onChange}),value:this.props.value,focus:this.props.focus,focusInitial:this.props.focusInitial,focusAfterAnimation:this.props.focusAfterAnimation,style:this.getInputDivStyle(),inputStyle:this.props.inputStyle||{height:this.environment.device.isMobile?24:D(this.props.format)?20:18},size:1,ref:t=>t&&(this.input=t),type:this.props.type,placeholder:t?this.props.placeholder:"",onSubmit:this.handleSubmit,onFocus:this.handleFocused,onBlur:this.handleBlurred,textarea:this.props.textarea,autoComplete:this.props.autoComplete})}getWrapStyle(){var t,e;const{focus:i,format:n}=this.props,{WindowSizeStore:s}=this.environment;return{...this.environment.device.isMobile?{...(r=this.theme,{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${r.regularDividerColor}`,fontSize:16,background:r.popoverBackground}),paddingTop:14,paddingBottom:8,paddingLeft:(null===(t=this.context.menu)||void 0===t?void 0:t.menuType)!==d.og.Popup?s.getSafePaddingLeftCSS(16):16,paddingRight:(null===(e=this.context.menu)||void 0===e?void 0:e.menuType)!==d.og.Popup?s.getSafePaddingRightCSS(16):16,...this.props.dontShowBorderBottom&&{borderBottom:"none"}}:{...C(this.theme,this.props.disabled),...M(this.theme)[n].desktopWrapStyle},...this.props.showBorder&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...this.props.showBorder&&this.props.focus&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...!this.environment.device.isMobile&&i&&M(this.theme)[this.props.format].inputDivDesktopFocusStyle};var r}getInputDivStyle(){return{flexGrow:1,flexShrink:1,flexBasis:this.props.inputFullWidth?"100%":60,minWidth:60,width:"auto",lineHeight:"20px",...this.environment.device.isMobile?{margin:"0 8px 8px 0"}:M(this.theme)[this.props.format].inputDivDesktopStyle,...this.props.inputDivStyle}}}S.displayName="TokenInputMenuItem",S.contextTypes={...d.mw,...n.w},S.Format=x;const b=S;function D(t){return t===x.Group}function C(t,e){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:e?"none":t.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden"}}function M(t){const e={desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 6px 6px 0",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}};return{[x.Select]:e,[x.Person]:e,[x.Relation]:e,[x.Group]:e,[x.FilterValue]:{desktopWrapStyle:{padding:"6px 6px 1px",boxShadow:t.inputBoxShadow,background:t.inputBackground,margin:"6px 8px 2px 8px",minHeight:30,fontSize:12,borderRadius:4},inputDivDesktopStyle:{margin:"0 6px 4px 0"},inputDivDesktopFocusStyle:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"}},[x.Share]:{desktopWrapStyle:{padding:"8px 9px 1px",width:"100%",minHeight:34,fontSize:14},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}function k(t){let{showClearButton:e,right:i,onClearButtonClick:n,tokens:a,value:d}=t;window.__c={n:"RightComponent"};const l=(0,r.Fg)(),p=(0,s.O7)(),{isMobile:u}=p.device;return i?(0,f.jsx)(f.Fragment,{children:i}):e&&(a.length>0||d.length>0)?(0,f.jsx)(h.Z,{onClick:n,style:{flexShrink:0,flexGrow:0,borderRadius:u?24:20,marginTop:2},children:(0,o.X)({width:u?16:14,height:u?16:14,fill:l.lightIconColor})}):null}},67950:(t,e,i)=>{i.d(e,{B:()=>s,Z:()=>o});var n=i(49085);const s={INVALID_DATE:"Invalid date",INVALID_RANGE:"Invalid range"};class r extends n.default{getInitialState(){return{edited:!1,temporary:"",error:void 0}}}const o=r},76150:(t,e,i)=>{i.d(e,{Hv:()=>s,ZP:()=>a,pd:()=>r});var n=i(49085);let s=function(t){return t.StartDate="startDate",t.StartTime="startTime",t.EndDate="endDate",t.EndTime="endTime",t}({}),r=function(t){return t.InvalidDate="Invalid date",t.InvalidTime="Invalid time",t.InvalidRange="Invalid range",t}({});class o extends n.default{getInitialState(){return{focus:s.StartDate,inputIsFocused:!1,inputTemporaryValue:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0},error:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0}}}}const a=o},13854:(t,e,i)=>{i.d(e,{QJ:()=>r,ZP:()=>d,yO:()=>o});var n=i(49085),s=i(76150);const r={[s.Hv.StartDate]:"starting",[s.Hv.StartTime]:"starting",[s.Hv.EndDate]:"ending",[s.Hv.EndTime]:"ending"},o={starting:s.Hv.StartDate,ending:s.Hv.EndDate};class a extends n.default{getInitialState(){return{isOpen:!1,focus:s.Hv.StartDate,temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,showTime:!1}}getFocus(){return this.state.focus}toggleShowTime(){this.setState({...this.state,showTime:!this.state.showTime})}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const d=a},41558:(t,e,i)=>{i.d(e,{Z:()=>r});var n=i(49085);class s extends n.default{getInitialState(){return{isOpen:!1,focus:"starting",temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,dateFilterType:"lastEditedTime"}}getFocus(){return this.state.focus}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const r=s},64878:(t,e,i)=>{i.d(e,{h:()=>r});i(67294);var n=i(45238),s=i(85893);const r=(0,n.I)("dot",{viewBox:"0 0 5 4",svg:(0,s.jsx)("circle",{cx:"2.5",cy:"2",r:"2"})})},97439:(t,e,i)=>{i.d(e,{D:()=>r});i(67294);var n=i(45238),s=i(85893);const r=(0,n.I)("doubleChevronLeft",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M7.07031 13.8887C7.2207 14.0391 7.40527 14.1211 7.62402 14.1211C8.06836 14.1211 8.41699 13.7725 8.41699 13.3281C8.41699 13.1094 8.32812 12.9043 8.17773 12.7539L3.37207 8.05762L8.17773 3.375C8.32812 3.21777 8.41699 3.0127 8.41699 2.80078C8.41699 2.35645 8.06836 2.00781 7.62402 2.00781C7.40527 2.00781 7.2207 2.08984 7.07031 2.24023L1.73828 7.44922C1.56055 7.62012 1.46484 7.8252 1.46484 8.06445C1.46484 8.29688 1.55371 8.49512 1.73828 8.67969L7.07031 13.8887ZM13.1748 13.8887C13.3252 14.0391 13.5098 14.1211 13.7354 14.1211C14.1797 14.1211 14.5283 13.7725 14.5283 13.3281C14.5283 13.1094 14.4395 12.9043 14.2891 12.7539L9.4834 8.05762L14.2891 3.375C14.4395 3.21777 14.5283 3.0127 14.5283 2.80078C14.5283 2.35645 14.1797 2.00781 13.7354 2.00781C13.5098 2.00781 13.3252 2.08984 13.1748 2.24023L7.84961 7.44922C7.66504 7.62012 7.57617 7.8252 7.56934 8.06445C7.56934 8.29688 7.66504 8.49512 7.84961 8.67969L13.1748 13.8887Z"})})},6637:(t,e,i)=>{i.d(e,{I:()=>r});i(67294);var n=i(45238),s=i(85893);const r=(0,n.I)("filterCircled",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM8 13.7383C4.85547 13.7383 2.33301 11.209 2.33301 8.06445C2.33301 4.91992 4.84863 2.39746 7.99316 2.39746C11.1377 2.39746 13.667 4.91992 13.6738 8.06445C13.6738 11.209 11.1445 13.7383 8 13.7383ZM4.41797 6.75879H11.5889C11.9307 6.75879 12.1699 6.54688 12.1699 6.22559C12.1699 5.9043 11.9307 5.68555 11.5889 5.68555H4.41797C4.07617 5.68555 3.84375 5.9043 3.84375 6.22559C3.84375 6.54688 4.07617 6.75879 4.41797 6.75879ZM5.36816 9.02148H10.6455C10.9805 9.02148 11.2197 8.80273 11.2197 8.48145C11.2197 8.16016 10.9805 7.94141 10.6455 7.94141H5.36816C5.02637 7.94141 4.78711 8.16016 4.78711 8.48145C4.78711 8.80273 5.02637 9.02148 5.36816 9.02148ZM6.35254 11.2773H9.6543C9.99609 11.2773 10.2354 11.0654 10.2354 10.7441C10.2354 10.4229 9.99609 10.2041 9.6543 10.2041H6.35254C6.01074 10.2041 5.77148 10.4229 5.77148 10.7441C5.77148 11.0654 6.01074 11.2773 6.35254 11.2773Z"})})},35840:(t,e,i)=>{i.d(e,{R:()=>r,T:()=>s});i(67294);var n=i(45238);const s=(0,i(85893).jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"}),r=(0,n.I)("search",{viewBox:"0 0 16 16",svg:s})}}]);