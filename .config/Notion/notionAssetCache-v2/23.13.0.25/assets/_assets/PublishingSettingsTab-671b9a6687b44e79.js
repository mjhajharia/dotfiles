"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5566],{89845:(e,t,i)=>{i.d(t,{Z:()=>h});i(67294);var n=i(83355),s=i(13991),a=i(8848),o=i(7057),r=i(53877),l=i(42875),d=i(36700),u=i(63143),c=i(68939),p=i(26388),m=i(85893);class g extends n.Z{constructor(){super(...arguments),this.reminderTimer=void 0}UNSAFE_willMountOrUpdate(){this.createReminderTimer()}willUnmount(){this.clearReminderTimer()}createReminderTimer(){const e=this.props.value;if(!e)return;const t=r.KR(e,(0,l.r)());if(!t)return;const i=t.valueOf(),n=i-Date.now();n<0||n>u.A0||this.reminderTimer&&this.reminderTimer.timestamp===i||(this.reminderTimer&&clearTimeout(this.reminderTimer.timer),this.reminderTimer={timestamp:i,timer:setTimeout(this.enqueueForceUpdate,n)})}clearReminderTimer(){this.reminderTimer&&(clearTimeout(this.reminderTimer.timer),this.reminderTimer=void 0)}renderComponent(){const{value:e,withComma:t}=this.props;if(!e)return;const i=r.NK(e,(0,l.r)(),s.SP);let n;if(e.reminder){const t=r.Nm(e,(0,l.r)());n=t?{color:this.theme.errorText}:{color:a.ZP.blue}}const u=(0,m.jsxs)(m.Fragment,{children:[(0,o.ZV)({value:e,date_format:this.props.dateFormat,time_format:this.props.timeFormat,userTimeZone:(0,l.r)(),allowRelativeDates:!0,intl:this.props.intl,shortenDateAndRange:this.props.shortenDateAndRange,displayInUserTimezone:this.props.displayInUserTimezone}),e.reminder&&(0,d.m)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),t?", ":null]});return this.props.disableTooltip?(0,m.jsx)("div",{style:{...this.props.style,...n},children:u}):(0,m.jsx)(p.Z,{renderTooltip:()=>(0,m.jsxs)(m.Fragment,{children:[this.props.tooltipHeader,(0,m.jsxs)("div",{style:f(this.theme,this.props.tooltipHeader),children:[b(i.start),i.end?` â†’ ${b(i.end)}`:""]})]}),render:e=>(0,m.jsx)("div",{style:{...this.props.style,...n},...e,children:u}),placement:this.props.tooltipPlacement})}}g.displayName="DateBox";const h=(0,c.injectIntl)(g);function b(e){return(0,o.ZW)(e,"medium_with_time")}function f(e,t){return t?{color:e.mediumInvertedTextColor}:{}}},93289:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(67294),s=i(13991),a=i(77907),o=i(85893);const r=function(e){let{firstDayOfWeek:t,value:i,selectValue:r=!0,onChange:l,disabledDays:d}=e;window.__c={n:"DatePicker"};const u=(0,n.useMemo)((()=>new Date(i)),[i]),[c,p]=(0,n.useState)(u),m=(0,n.useRef)(i);(0,n.useLayoutEffect)((()=>{m.current!==i&&(p(new Date(i)),m.current=i)}),[i]);const g=(0,n.useCallback)(((e,t,i)=>{l(e.getTime())}),[l]);return(0,o.jsx)(a.LazyDayPicker,{locale:s.SP,className:"notion-calendar-picker",numberOfMonths:1,weekStartsOn:t,modifiers:r?{value:u}:{},showOutsideDays:!0,fixedWeeks:!0,onDayClick:g,onMonthSelected:p,disabled:d,month:c})}},27386:(e,t,i)=>{i.d(t,{Z:()=>c,k:()=>d});i(67294);var n=i(83355),s=i(34859),a=i(91754),o=i(61519),r=i(53336),l=i(85893);function d(e){return e?18:60}class u extends n.Z{static renderDivider(){return(0,l.jsx)(o.Z,{size:37})}renderComponent(){const{device:e}=this.environment,{children:t,controlRow:i,bannerText:n,controlRowPaddingTopBottom:o=16,removeBoxShadow:u=!1,contentPaddingLeftRight:c,controlRowPaddingLeftRight:p,getPaddingTopBottom:m=(()=>e.isMobile?18:36)}=this.props;return this.props.disableScroller?(0,l.jsxs)("div",{style:{paddingLeft:d(e.isMobile),paddingRight:d(e.isMobile)},children:[(0,l.jsx)("div",{style:{paddingTop:m(),paddingBottom:m()},children:t}),i&&(0,l.jsx)("div",{style:{paddingTop:o,paddingBottom:o,boxShadow:`0 -1px 0 ${this.theme.regularDividerColor}`},children:i})]}):(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",height:"100%",backgroundColor:this.theme.cardContentBackground},children:[n&&(0,l.jsx)(a.Z,{styleKey:a.v.Blue,isMobile:!1,children:n}),(0,l.jsx)(r.Z,{type:s.Z.All,style:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:c??d(e.isMobile),paddingRight:c??d(e.isMobile),paddingTop:n?15:m(),paddingBottom:n?22:m()},children:t}),i&&(0,l.jsx)("div",{style:{flexGrow:0,flexShrink:0,paddingLeft:p??d(e.isMobile),paddingRight:p??d(e.isMobile),paddingTop:o,paddingBottom:o,boxShadow:u?void 0:`0 -1px 0 ${this.theme.regularDividerColor}`},children:i})]})}}u.displayName="SettingBox";const c=u},60442:(e,t,i)=>{i.d(t,{Z:()=>o});i(67294);var n=i(82990),s=i(47853),a=i(85893);const o=function(e){let{imageURL:t,imageWidth:i,imageHeight:n,caption:o,title:l}=e;if(t){const e=(0,s.D)(t);return(0,a.jsxs)("div",{style:{width:i||200,marginTop:4,marginBottom:4},children:[(0,a.jsx)("div",{style:{width:"100%",height:n||100,borderRadius:4,backgroundImage:`url(${e})`,backgroundSize:"cover",marginBottom:6}}),(0,a.jsx)(r,{caption:o,title:l})]})}return(0,a.jsx)(r,{caption:o,title:l,style:{width:i}})};function r(e){let{style:t,caption:i,title:s}=e;return(0,a.jsxs)("div",{style:{whiteSpace:"normal",lineHeight:1.4,...t},children:[s&&(0,a.jsx)("header",{style:{fontWeight:n.Z.fontWeight.bold,marginBottom:4},children:s}),i]})}},41938:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Be});var n=i(67294),s=i(68939),a=i(61519),o=i(27386),r=i(23189),l=i(480),d=i(86628),u=i(24405),c=i(25651),p=i(21202),m=i(3096),g=i(81236),h=i(26350),b=i(91694),f=i(88893),x=i(42922),y=i(73063),v=i(50506),w=i(26388),j=i(64369),M=i(40235),S=i(15145),P=i(84210),C=i(92083),k=i(84076),I=i(31278),Z=i(76798),D=i(85893);function T(e){window.__c={n:"PublishedPageRecord"};const{store:t,disableClick:i}=e,s=(0,l.O7)(),a=(0,d.VK)((()=>{if(t)return{icon:t.getIcon(),isEmptyPage:t.isEmptyPage(),url:(0,P.Hu)({store:t,preferPublicLink:!0,getSpaceDomain:()=>{var e;return null===(e=g.Z.getPublicSpaceData(s,t.getSpaceId()))||void 0===e?void 0:e.domain},pageVisitSource:S.tY.PublishedPageSettings})}}),[s,t]),o=(0,n.useCallback)((()=>{C.Z.setState({...C.Z.state,open:!1})}),[]),r=(0,u.yK)((()=>({container:{display:"flex",alignItems:"center",minHeight:28,marginRight:20}})),[]);if(!t||!a)return null;const c=(0,D.jsxs)("div",{style:r.container,children:[a.icon&&(0,D.jsx)(I.Z,{icon:a.icon,store:t,disabled:!0,size:12,isEmptyPage:a.isEmptyPage,emojiSize:20}),(0,D.jsx)(Z.Z,{store:t,style:{paddingLeft:4,wordBreak:"break-word"}})]});return i?c:(0,D.jsx)(k.Z,{href:null==a?void 0:a.url,onClick:o,children:c})}var F=i(82990),B=i(13490),A=i(8848),_=i(91315),R=i(54497),U=i(72126),E=i(33929),L=i(38755),O=i(74194),H=i(68785);const N=(0,s.defineMessages)({workspaceDomainInputPlaceholder:{id:"spaceBasicSettingsDomain.domainSection.workspaceDomainInput.placeholder",defaultMessage:"Your domain"}});function K(e){window.__c={n:"DomainNameInput"};const{spaceStore:t,domainName:i,setDomainName:s,domainAvailabilityStatus:a,setDomainAvailabilityStatus:o}=e,r=(0,l.O7)(),d=(0,n.useCallback)((async e=>{const i=(0,L.$U)(e.target.value);if(i){const e=await m.oM({environment:r,spaceStore:t,domainName:i});o(e)}s(i)}),[r,t,s,o]),c=(0,n.useMemo)((()=>U.Ds(d,300)),[d]),p=(0,u.yK)((e=>({container:{display:"flex",alignItems:"center",maxHeight:28},inputContainer:{flex:1,background:e.inputBackground,borderRadius:4,boxShadow:"rgb(15 15 15 / 10%) 0px 0px 0px 1px inset",display:"flex"},input:{background:"none",boxShadow:"none",padding:"4px 6px",width:"100%"}})),[]);return(0,D.jsxs)("div",{style:p.container,children:[(0,D.jsx)("div",{style:p.inputContainer,children:(0,D.jsx)(O.Z,{type:"text",style:p.input,value:i,placeholder:E.default.formatMessage(N.workspaceDomainInputPlaceholder),onChange:c})}),i&&"available"===a&&(0,D.jsx)(Y,{}),"inuse"===a&&(0,D.jsx)(z,{}),"disallowed"===a&&(0,D.jsx)(W,{}),"loading"===a&&$()]})}const V={fieldContainer:{display:"flex",flexDirection:"row",alignItems:"center",fontSize:"14px"},fieldIcon:{height:16,width:16,margin:"0 4px 0 8px"}};function Y(){window.__c={n:"DomainAvailableLabel"};const e=(0,u.yK)((e=>({container:{...V.fieldContainer,color:e.invoiceGreen},icon:{...V.fieldIcon,color:e.invoiceGreen}})),[]);return(0,D.jsxs)("div",{style:e.container,children:[(0,_.r)(e.icon),(0,D.jsx)("span",{children:(0,D.jsx)(s.FormattedMessage,{defaultMessage:"Available",id:"spaceBasicSettings.domainSection.workspaceDomainInput.validationMessage.available"})})]})}function z(){window.__c={n:"DomainInUseLabel"};const e=(0,u.yK)((()=>({container:{...V.fieldContainer,color:A.ZP.red}})),[]);return(0,D.jsxs)("div",{style:e.container,children:[(0,R.t)(V.fieldIcon),(0,D.jsx)("span",{children:(0,D.jsx)(s.FormattedMessage,{defaultMessage:"Used",id:"spaceBasicSettings.domainSection.workspaceDomainInput.validationMessage.used"})})]})}function W(){window.__c={n:"DomainDisallowedLabel"};const e=(0,u.yK)((()=>({container:{...V.fieldContainer,color:A.ZP.red}})),[]);return(0,D.jsxs)("div",{style:e.container,children:[(0,R.t)(V.fieldIcon),(0,D.jsx)("span",{children:(0,D.jsx)(s.FormattedMessage,{defaultMessage:"Not allowed",id:"spaceBasicSettings.domainSection.workspaceDomainInput.validationMessage.notAllowed"})})]})}const $=()=>(0,D.jsx)(H.Z,{style:V.loadingSpinner});var q=i(59054),G=i(35840),Q=i(28020),X=i(32163),J=i(53437),ee=i(11470),te=i(72495);function ie(e){window.__c={n:"PublishedPageSearchInput"};const{initialFocus:t,setPublicHomePageId:i}=e,[s,a]=(0,n.useState)(""),[o,r]=(0,n.useState)(!1),l=(0,u.yK)((()=>({searchResultsPopup:{width:300}})),[]);return(0,D.jsx)(J.ZP,{alignmentToOrigin:J.ZP.Alignment.Start,origin:(0,D.jsx)(ne,{initialFocus:t,query:s,setQuery:a,setShowSearchResults:r}),originGap:3,open:o,popupType:J.ZP.PopupType.Popup,style:l.searchResultsPopup,render:()=>(0,D.jsx)(se,{query:s,onSelection:i})})}function ne(e){window.__c={n:"SearchInput"};const{initialFocus:t,query:i,setQuery:a,setShowSearchResults:o}=e,r=(0,l.O7)(),c=(0,s.useIntl)(),p=(0,d.VK)((()=>(0,f.M9)(r)),[r]),m=!Boolean(p),g=(0,u.yK)((e=>({input:{flex:1,background:e.inputBackground,borderRadius:4,boxShadow:"rgb(15 15 15 / 10%) 0px 0px 0px 1px inset",display:"flex",paddingLeft:4},icon:{fill:e.mediumIconColor,width:16,height:16,flexGrow:0,flexShrink:0}})),[]),h=(0,n.useCallback)((e=>{a(e.target.value),o(!0)}),[a,o]),b=(0,n.useCallback)((()=>{o(!0)}),[o]),x=(0,n.useCallback)((e=>{"Escape"===e.key&&o(!1)}),[o]);return(0,D.jsx)(O.Z,{type:"text",style:g.input,focusInitial:t,value:i,disabled:!m,left:(0,G.R)(g.icon),placeholder:c.formatMessage({defaultMessage:"Select a page shared to web",id:"spaceBasicSettings.PublicHomePageSection.input.placeholder"}),onChange:h,onFocus:b,onKeyDown:x})}function se(e){window.__c={n:"SearchResults"};const{query:t,onSelection:i}=e,n=(0,l.O7)(),a=(0,d.VK)((()=>(0,Q.RM)()),[]),[{value:o,status:r}]=(0,q.r5)((()=>m.a2(t,n)),[t,n]),c=(0,u.yK)((()=>({loadingSpinner:{textAlign:"center",visibility:"visible",display:"inline",marginLeft:8}})),[]);if(!(t||o&&0!==o.length))return null;return(0,D.jsx)(X.Z,{type:X.i.Vertical,sections:[{key:"public-pages-search-results",render:e=>(0,D.jsx)(te.Z,{...e}),items:"idle"===r||"pending"===r?[{key:"results-loading-spinner",render:()=>(0,D.jsx)(H.Z,{style:c.loadingSpinner}),action:()=>{}}]:a&&o&&0!==o.length?o.map((e=>{const t=h.G.createChildStore(a,{table:p.iU,id:e.id});return{key:`${e.id}-page`,render:e=>(0,D.jsx)(ee.Z,{store:t,...e}),action:()=>{i(e.id)}}})):[{key:"empty-results",render:()=>(0,D.jsx)(j.Z,{isSmall:!0,style:{marginLeft:8},children:(0,D.jsx)(s.FormattedMessage,{id:"spaceBasicSettings.PublicHomePageSection.dropdownLabel.noResults",defaultMessage:"No results"})}),action:()=>{}}]}],initialFocus:void 0})}function ae(e){window.__c={n:"PublishedPageRecordWithInput"};const{spaceStore:t,publicHomePageId:i,setPublicHomePageId:s}=e,[a,o]=(0,n.useState)(!i),r=(0,n.useCallback)((()=>{o(!0)}),[o]),l=(0,n.useCallback)((e=>{s(e),o(!1)}),[s,o]),d=i?h.G.createChildStore(t,{table:p.iU,id:i}):void 0,c=(0,u.yK)((e=>({publicHomePageRecordContainer:{background:e.inputBackground,borderRadius:4,boxShadow:"rgb(15 15 15 / 10%) 0px 0px 0px 1px inset",paddingLeft:4,maxHeight:28,fontSize:14}})),[]);return d&&!a?(0,D.jsx)("div",{style:c.publicHomePageRecordContainer,onClick:r,children:(0,D.jsx)(T,{store:d,disableClick:!0})}):(0,D.jsx)(ie,{initialFocus:a,setPublicHomePageId:l})}function oe(e){window.__c={n:"UpdateDomainModal"};const{spaceStore:t,messages:i,existingDomainName:a,existingPublicHomePageId:o,onSubmitDomainSettings:r}=e,c=(0,l.O7)(),[p,m]=(0,n.useState)(a),[g,h]=(0,n.useState)(""),[y,v]=(0,n.useState)(o),w=(0,d.VK)((()=>(0,f.M9)(c)),[c]),M=a!==p&&"available"===g||y!==o,S=(0,u.yK)((()=>({container:{position:"relative",padding:"22px 26px",width:480},title:{fontSize:18,fontWeight:F.Z.fontWeight.semibold},subTitle:{marginTop:3,marginBottom:26},publicHomePageTitleContainer:{display:"flex",alignItems:"center"},upsellButton:{marginTop:16,marginBottom:4,marginLeft:4},submitButtonContainer:{display:"flex",flexDirection:"row-reverse",width:"100%",paddingTop:22},submitButton:{flex:1}})),[]),P=(0,n.useCallback)((()=>{r({environment:c,spaceStore:t,domain:p,shouldUpdateDomain:p!==a,publicHomePageId:y,shouldUpdatePublicHomePageId:y!==o})}),[c,t,p,a,y,o,r]);return(0,D.jsxs)("div",{style:S.container,children:[(0,D.jsx)("div",{style:S.title,children:(0,D.jsx)(s.FormattedMessage,{...i.title})}),(0,D.jsx)(j.Z,{isMultiline:!0,isSmall:!0,isSecondaryColor:!0,style:S.subTitle,children:(0,D.jsx)(s.FormattedMessage,{...i.subTitle})}),(0,D.jsx)(B.Z,{hasMarginTop:!0,children:(0,D.jsx)(s.FormattedMessage,{id:"publishing.domains.domainName.title",defaultMessage:"Name"})}),(0,D.jsx)(K,{spaceStore:t,domainName:p,setDomainName:m,domainAvailabilityStatus:g,setDomainAvailabilityStatus:h}),(0,D.jsxs)("div",{style:S.publicHomePageTitleContainer,children:[(0,D.jsx)(B.Z,{hasMarginTop:!0,children:(0,D.jsx)(s.FormattedMessage,{id:"publishing.domains.domainPublicHomePage.title",defaultMessage:"Public Home Page"})}),w&&(0,D.jsx)(b.Z,{subscriptionTier:w,analyticsName:"public_domain_home_page",desktopStyle:S.upsellButton})]}),(0,D.jsx)(ae,{spaceStore:t,publicHomePageId:y,setPublicHomePageId:v}),(0,D.jsx)("div",{style:S.submitButtonContainer,children:(0,D.jsx)(x.Z,{onClick:P,isLarge:!0,disabled:!M,style:S.submitButton,children:(0,D.jsx)(s.FormattedMessage,{...i.submitButtonText})})})]})}const re=(0,s.defineMessages)({title:{id:"publishing.addDomain.title",defaultMessage:"Add a new domain"},subTitle:{id:"publishing.addDomain.subtitle",defaultMessage:"Add a new domain to publish your pages to. Learn more."},submitButtonText:{id:"publishing.addDomain.add",defaultMessage:"Add domain"}}),le=(0,s.defineMessages)({title:{id:"publishing.updateDomain.title",defaultMessage:"Update domain"},subTitle:{id:"publishing.updateDomain.subtitle",defaultMessage:"Update an existing domain"},submitButtonText:{id:"publishing.updateDomain.update",defaultMessage:"Update domain"}}),de=[{key:"name",header:(0,D.jsx)(s.FormattedMessage,{id:"publishing.domains.domainColumnHeader",defaultMessage:"Domain"}),style:{width:"40%"}},{key:"home-page",header:(0,D.jsx)(s.FormattedMessage,{id:"publishing.domains.homePageColumnHeader",defaultMessage:"Home page"}),style:{width:"55%"}},{key:"update",header:(0,D.jsx)(D.Fragment,{}),style:{width:"5%"}}];function ue(e){window.__c={n:"PublishedDomainsSection"};const{spaceStore:t}=e,i=(0,l.O7)(),[a,o]=(0,n.useState)(!1),[c,y]=(0,n.useState)(),w=(0,d.VK)((()=>t.canAdmin()),[t]),S=(0,d.VK)((()=>(0,f.M9)(i)),[i]),P=(0,d.VK)((()=>{var e;return null===(e=g.Z.getPublicSpaceData(i,t.getSpaceId()))||void 0===e?void 0:e.domain}),[i,t]),C=(0,d.VK)((()=>{var e;return null===(e=g.Z.getPublicSpaceData(i,t.getSpaceId()))||void 0===e?void 0:e.domainIsAutogenerated}),[i,t]),k=(0,d.VK)((()=>{var e;return null===(e=g.Z.getPublicSpaceData(i,t.getSpaceId()))||void 0===e?void 0:e.publicHomePage}),[i,t]),I=(0,u.yK)((()=>({headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center"},header:{display:"flex",flexDirection:"column",flex:1},upsellButton:{width:"fit-content"},tableBox:{tableLayout:"fixed"}})),[]),Z=([{name:P,isAutogenerated:C,publicHomePageId:k}]||0).map((e=>{const i=e.publicHomePageId?h.G.createChildStore(t,{table:p.iU,id:e.publicHomePageId}):void 0;return{key:e.name||"default-domain",columns:[e.name,S?(0,D.jsx)(b.Z,{subscriptionTier:S,analyticsName:"public_domain_home_page",desktopStyle:I.upsellButton},`${e.name}-upsell`):(0,D.jsx)(T,{store:i},`${e.name}-home-page`),(0,D.jsx)(ce,{disabled:!w,onClick:()=>{y(e)}},`${e.name}-update`)]}})),F=(0,n.useCallback)((()=>{y(void 0)}),[y]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(r.Z,{style:I.headerContainer,children:[(0,D.jsxs)("div",{style:I.header,children:[(0,D.jsx)(s.FormattedMessage,{id:"publishing.domains.title",defaultMessage:"Publishing domains"}),(0,D.jsx)(j.Z,{isSmall:!0,children:(0,D.jsx)(s.FormattedMessage,{id:"publishing.domains.caption",defaultMessage:"Pages shared to web will be under one of the domains below."})})]}),(0,D.jsx)(x.Z,{onClick:()=>{o(!0)},isLarge:!0,disabled:!0,children:(0,D.jsx)(s.FormattedMessage,{id:"publishing.domains.new",defaultMessage:"Add domain"})})]}),(0,D.jsx)(M.Z,{columns:de,rows:Z,tableStyle:I.tableBox}),(0,D.jsx)(v.Z,{open:a,onDismiss:()=>{o(!1)},showCloseIcon:!0,render:()=>(0,D.jsx)(oe,{spaceStore:t,messages:re,onSubmitDomainSettings:()=>{}})}),(0,D.jsx)(v.Z,{open:Boolean(c),onDismiss:F,showCloseIcon:!0,render:()=>c?(0,D.jsx)(oe,{spaceStore:t,messages:le,existingDomainName:c.name,existingPublicHomePageId:c.publicHomePageId,onSubmitDomainSettings:e=>{m.J_({...e,onSubmit:F})}}):null})]})}function ce(e){window.__c={n:"UpdateDomainButton"};const{disabled:t,onClick:i}=e,n=(0,u.yK)((()=>({updateButtonIcon:{width:18,height:18}})),[]),a=t?(0,D.jsx)(s.FormattedMessage,{id:"publishing.domains.noEditAccess",defaultMessage:"Only admins can update the domain."}):(0,D.jsx)(s.FormattedMessage,{id:"publishing.domains.update",defaultMessage:"Update domain"});return(0,D.jsx)(w.Z,{renderTooltip:()=>a,placement:w.Z.Placement.Bottom,render:e=>(0,D.jsx)(y.Z,{...e,iconStyle:n.updateButtonIcon,ariaLabel:"Update domain",icon:c.R,disabled:t,onClick:i})})}i(57658);var pe=i(75553),me=i(54855),ge=i(18442),he=i(14871),be=i(95477),fe=i(67669),xe=i(18514),ye=i(42402),ve=i(45953),we=(i(21703),i(47307)),je=i(54642);function Me(e){let{spaceStore:t}=e;const i=(0,l.O7)(),[{status:n,value:s}]=(0,q.r5)((async()=>await async function(e,t){const{spaceId:i,limit:n}=t,s=await je.getPublishedPagesForUser(e,{spaceId:i,limit:n});if("failed"===s.type)throw we.showError(s),new Error("Failed to fetch published pages.");return s.data}(i,{spaceId:t.id,limit:5e3})),[i,t]);return{loading:"pending"===n,publishedPages:"resolved"===n?ve.PF.create(null==s?void 0:s.recordMap):void 0}}var Se=i(83771),Pe=i(90335);function Ce(e){window.__c={n:"UpdatePublishedPageSettingsModal"};const{spaceStore:t,blockId:i,onDismiss:n}=e,s=h.G.createChildStore(t,{table:p.iU,id:i}),a=(0,d.VK)((()=>Pe.mk({spaceStore:t,store:s}).mostPermissivePublicItem),[t,s]),o=(0,u.yK)((()=>({container:{position:"relative",paddingLeft:12,paddingRight:12,paddingBottom:6,paddingTop:22,width:480}})),[]);return"none"===a.permissionItem.role?(n(),null):(0,D.jsx)("div",{style:o.container,children:(0,D.jsx)(Se.Z,{store:s,mostPermissivePublicItem:a,permissionItemArgs:{location:"published_page_settings"}})})}const ke=[{key:"pages",header:(0,D.jsx)(s.FormattedMessage,{id:"publishing.publicPages.pageColumnHeader",defaultMessage:"Pages"}),style:{width:"45%"}},{key:"domain",header:(0,D.jsx)(s.FormattedMessage,{id:"publishing.publicPages.domainColumnHeader",defaultMessage:"Domain"}),style:{width:"45%"}},{key:"copy",header:(0,D.jsx)(D.Fragment,{}),style:{width:"5%"}},{key:"update",header:(0,D.jsx)(D.Fragment,{}),style:{width:"5%"}}];function Ie(e){window.__c={n:"PublishedPagesSection"};const{spaceStore:t}=e,i=(0,l.O7)(),[a,o]=(0,n.useState)(void 0),{publishedPages:c,loading:m}=Me({spaceStore:t}),g=(0,u.yK)((()=>({headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center"},header:{display:"flex",flexDirection:"column",flex:1},caption:{width:"80%",marginBottom:6},tableBox:{tableLayout:"fixed"}})),[]),b=(0,d.VK)((()=>{if(!c)return[];const e=[];for(const{model:a}of c)if(a&&a.table===p.iU){const n=h.G.createChildStore(t,{table:p.iU,id:a.id});De(i,n)&&e.push(n)}const n=`${t.getPublicContentDomain()}.${be.default.publicDomainName}`,s=[];for(const t of e){const e=t.id,i=t.canAdmin();s.push({key:e,columns:[(0,D.jsx)(T,{store:t},e),n,(0,D.jsx)(Ze,{store:t},`${t.id}-copy-link`),(0,D.jsx)(Te,{disabled:!i,onClick:()=>{o(e)}},`${e}-update`)]})}return s}),[i,t,c]),f=(0,n.useCallback)((()=>{o(void 0)}),[o]),x=0===b.length;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(r.Z,{style:g.headerContainer,children:(0,D.jsxs)("div",{style:g.header,children:[(0,D.jsx)(s.FormattedMessage,{id:"publishing.publicPages.title",defaultMessage:"Published pages"}),(0,D.jsx)(j.Z,{isSmall:!0,style:g.caption,children:(0,D.jsx)(s.FormattedMessage,{id:"publishing.publicPages.caption",defaultMessage:"See all pages visible to you that are published to the web."})})]})}),m?(0,D.jsx)(H.Z,{}):x?(0,D.jsx)(Fe,{}):(0,D.jsx)(M.Z,{columns:ke,rows:b,tableStyle:g.tableBox}),(0,D.jsx)(v.Z,{open:Boolean(a),onDismiss:f,showCloseIcon:!0,render:()=>a?(0,D.jsx)(Ce,{spaceStore:t,blockId:a,onDismiss:f}):null})]})}function Ze(e){window.__c={n:"CopyPublishedPageLinkButton"};const{store:t}=e,i=(0,l.O7)(),a=(0,u.yK)((()=>({copyButtonIcon:{width:18,height:18}})),[]),o=(0,n.useCallback)((()=>{const e=(0,P.Hu)({store:t,preferPublicLink:!0,getSpaceDomain:()=>{var e;return null===(e=g.Z.getPublicSpaceData(i,t.getSpaceId()))||void 0===e?void 0:e.domain},pageVisitSource:S.tY.PublishedPageSettings});he.RD({environment:i,stringValue:e,copiedMessage:he.tq.copiedLinkToClipboard})}),[t,i]);return(0,D.jsx)(w.Z,{renderTooltip:()=>(0,D.jsx)(s.FormattedMessage,{id:"publishing.publicPages.copyLink",defaultMessage:"Copy link"}),placement:w.Z.Placement.Bottom,render:e=>(0,D.jsx)(y.Z,{...e,ariaLabel:"Copy link",icon:pe.U,iconStyle:a.copyButtonIcon,onClick:o})})}function De(e,t){if(!t.pathIsAccessibleAndAlive())return!1;return!t.isUnlistedSpacePermission()&&fe.B6(e,t)}function Te(e){window.__c={n:"UpdatePublishedPageSettingsButton"};const{disabled:t,onClick:i}=e,n=(0,u.yK)((()=>({updateButtonIcon:{width:18,height:18}})),[]),a=t?(0,D.jsx)(s.FormattedMessage,{id:"publishing.publicPages.noEditAccess",defaultMessage:"You do not have access to update the published settings for this page."}):(0,D.jsx)(s.FormattedMessage,{id:"publishing.publicPages.update",defaultMessage:"Update publish settings"});return(0,D.jsx)(w.Z,{renderTooltip:()=>a,placement:w.Z.Placement.Bottom,render:e=>(0,D.jsx)(y.Z,{...e,ariaLabel:"Update publish settings",icon:ge.H,iconStyle:n.updateButtonIcon,disabled:t,onClick:i})})}function Fe(){window.__c={n:"NoPublicPagesMessage"};const e=(0,u.yK)((e=>({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:40,color:e.mediumTextColor,borderStyle:"solid",borderColor:e.regularDividerColor,borderWidth:1,borderRadius:4},message:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},emptyIcon:{height:12,width:17,color:e.mediumIconColor,marginRight:6}})),[]);return(0,D.jsxs)("div",{style:e.container,children:[(0,D.jsxs)("div",{style:e.message,children:[(0,me.a)(e.emptyIcon),(0,D.jsx)(s.FormattedMessage,{id:"publishing.publicPages.empty",defaultMessage:"Your workspace has no published pages yet."})]}),(0,D.jsx)(ye.Z,{external:!0,href:(0,xe.UY)("guides.autogeneratedDomains"),children:(0,D.jsx)(s.FormattedMessage,{id:"publishing.publicPages.learnMore",defaultMessage:"Learn more."})})]})}function Be(e){const{spaceStore:t}=e;return(0,D.jsxs)(o.Z,{children:[(0,D.jsx)(r.Z,{large:!0,divider:"full",children:(0,D.jsx)(s.FormattedMessage,{id:"publishing.publicPages.title",defaultMessage:"Published pages"})}),(0,D.jsx)(ue,{spaceStore:t}),(0,D.jsx)(a.Z,{size:36,isHidden:!0}),(0,D.jsx)(Ie,{spaceStore:t})]})}},44041:(e,t,i)=>{i.d(t,{y:()=>M});i(67294);var n=i(94919),s=i(47425),a=i(97880),o=i(68939),r=i(50906),l=i(47307),d=i(33929),u=i(52533),c=i(80444),p=i(92083),m=i(78291),g=i(39343),h=i(70060),b=i(88893),f=i(35057),x=i(33493),y=i(22616),v=i(34583),w=i(64891),j=i(85893);const M=async function(e,t){var i;r.sA6(e,{from:t.from,for_subscription_tier:t.for,addOnFeature:t.addOnFeature});if((0,f.QM)()&&["block_limit_sidebar","block_limit_settings","block_limit_banner"].includes(t.from)&&!t.addOnFeature&&(0,h.XA)(e))return void p.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0});function M(){t.dontOpenPlansOnCancel||p.Z.setState({open:!0,openedFrom:"upsell",currentTab:"plans",defaultSubtab:void 0,highlightedSetting:void 0})}if(!t.addOnFeature&&(0,s.QM)(t.for))return;const S=(0,u.S$)({environment:e})&&"personal"===t.for;if(e.device.isMobileNative){if("ai"===t.addOnFeature){const t=(0,u.Y2)({environment:e})?(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.noIAPForAIWithExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Visit on desktop to purchase Notion AI and go unlimited."}):(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.noIAPForAIWithoutExternalPurchaseOption",defaultMessage:"This workspace has used all of its free AI responses. Unfortunately, additional AI responses cannot be purchased on this platform."});return void l.showErrorMessage(t)}if(!S)return}const P=c.default.state.currentSpaceStore;if(!P)return;if(!P.canAdmin())return;await v.bi(e);const C=m.default.state.data;if(!C)return;if("unsubscribed_admin"!==C.type&&"subscribed_admin"!==C.type)return void M();if(b.Q6(C)){const e=(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.referToSalesRep",defaultMessage:"This workspace is part of a managed account. Please contact your account representative to discuss any changes to your subscription."});return void l.showErrorMessage(e)}if(S)return void(e.mobileNative&&P.id&&e.mobileNative.openUpgradeModal(P.id));if("revenueCat"===(null===(i=C.customerData)||void 0===i?void 0:i.activeSubscriptionPlatform)){const e=(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.switchPlanFromInAppPurchase",defaultMessage:"You're currently subscribed through an in-app purchase with Apple. To switch plans, cancel your subscription with Apple first."});return void l.showErrorMessage(e)}const k=b.XX(C);if(t.addOnFeature&&(0,g.Fk)(k)){const e=(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.noAddOnPurchaseDuringFreeTrial",defaultMessage:"Unfortunately, additional {addOn, select, ai {AI responses} other {features}} cannot be purchased while a workspace is on a free trial.",values:{addOn:t.addOnFeature}});l.showErrorMessage(e)}else if(k&&b.MM(C)){if(t.addOnFeature)return void w.af({environment:e,from:t.from,view:"add_ons",addOnFeature:t.addOnFeature,billingInterval:k.interval,pageSection:t.pageSection});y.Zz({environment:e,spaceId:P.id});const{status:i,prices:r}=x.Z.state;if("ready"!==i)return;const{interval:u}=k,c=r.find((e=>e.product===t.for&&e.billingInterval===u&&e.currencyCode===k.currencyCode));if(void 0===c)return;const p=function(e){let{price:t,isSubscribed:i}=e;if(t.isAddOn())return null;const r=t.product;if((0,s.QM)(r)||(0,s.iJ)(r))return null;const l={tier:r,price:(0,j.jsx)(n.W,{cost:t.getMonthlyUnitCost(),trailingZeroDisplay:"stripIfInteger",intl:d.default.intl}),br:(0,j.jsx)("br",{}),isSubscribed:i};if((0,f.Aw)())switch(r){case"personal":return(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.confirmProration.personalMessage.fromSinglePlayerPlus",defaultMessage:"You are about to subscribe to Notionâ€™s Personal Plan for {price} per member per month.{br}You will lose your current discounted price, and will be charged a prorated amount, minus any account balance.",values:l});case"plus":return(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.confirmProration.plusMessage.fromSinglePlayerPlus",defaultMessage:"You are about to subscribe to Notionâ€™s Plus Plan with no member limit for {price} per member per month.{br}You will lose your current discounted price, and will be charged a prorated amount, minus any account balance.",values:l});case"business":return(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.confirmProration.businessMessage.fromSinglePlayerPlus",defaultMessage:"You are about to subscribe to Notionâ€™s Business Plan for {price} per member per month.{br}You will lose your current discounted price, and will be charged a prorated amount, minus any account balance.",values:l});case"enterprise":return(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.confirmProration.enterpriseMessage.fromSinglePlayerPlus",defaultMessage:"You are about to subscribe to Notionâ€™s Enterprise Plan for {price} per member per month.{br}You will lose your current discounted price, and will be charged a prorated amount, minus any account balance.",values:l});default:return(0,a.t1)(r)}switch(r){case"personal":return(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.confirmProration.personalMessage",defaultMessage:"You are about to subscribe to Notionâ€™s Personal Plan for {price} per member per month.{br}{isSubscribed, select, true {You will be charged a prorated amount, minus any account balance.} other {}}",values:l});case"plus":return(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.confirmProration.plusMessage",defaultMessage:"You are about to subscribe to Notionâ€™s Plus Plan for {price} per member per month.{br}{isSubscribed, select, true {You will be charged a prorated amount, minus any account balance.} other {}}",values:l});case"business":return(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.confirmProration.businessMessage",defaultMessage:"You are about to subscribe to Notionâ€™s Business Plan for {price} per member per month.{br}{isSubscribed, select, true {You will be charged a prorated amount, minus any account balance.} other {}}",values:l});case"enterprise":return(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.confirmProration.enterpriseMessage",defaultMessage:"You are about to subscribe to Notionâ€™s Enterprise Plan for {price} per member per month.{br}{isSubscribed, select, true {You will be charged a prorated amount, minus any account balance.} other {}}",values:l});default:return(0,a.t1)(r)}}({price:c,isSubscribed:void 0===k.canceledAt});if(!(await l.confirmUserAction({message:p,acceptLabel:(0,j.jsx)(o.FormattedMessage,{id:"upsellActions.confirmProration.acceptLabel",defaultMessage:"Upgrade to {plan, select, personal {Personal} team {Plus} plus {Plus} business {Business} other {Enterprise}}",values:{plan:t.for}})})))return void M();const m=null==c?void 0:c.externalId;await v.Mg({environment:e,spaceStore:P,plan:m,from:"upsell_modal"})}else{const i=(0,h.px)(e,t.for)?"ai_fifty_percent":void 0;v.I0(e,{subscriptionTier:t.for,from:t.from,addOnFeature:t.addOnFeature,coupon:i,isTrial:t.isTrial})}}},32856:(e,t,i)=>{i.d(t,{D:()=>a});var n=i(86628),s=i(77080);function a(e){window.__c={n:"ExperimentSwitch"};const{experimentId:t,groups:i,disableExposureLogging:a}=e;return i[function(e){const{experimentId:t,disableExposureLogging:i,defaultGroup:a}=e;return(0,n.VK)((()=>s.default.getEligibleGroup({experimentId:t,defaultGroup:a??"control",disableExposureLogging:i})),[t,i,a])}({experimentId:t,disableExposureLogging:a})]}},91694:(e,t,i)=>{i.d(t,{Z:()=>b});i(67294);var n=i(83355),s=i(8848),a=i(47425),o=i(97880),r=i(82990),l=i(68939),d=i(74136),u=i(26388),c=i(44041),p=i(70060),m=i(32856),g=i(85893);class h extends n.Z{constructor(){super(...arguments),this.handleClick=e=>{c.y(this.environment,{from:this.props.analyticsName,for:this.props.subscriptionTier}),this.props.onClick&&this.props.onClick(e)}}renderComponent(){const{device:e}=this.environment;if(e.isIOS&&e.isNative)return;let t;return"personal"===this.props.subscriptionTier?t=(0,g.jsx)(l.FormattedMessage,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"}):(0,a.eR)(this.props.subscriptionTier)?t=(0,g.jsx)(m.D,{experimentId:"upsell_colors",groups:{control:(0,g.jsx)(l.FormattedMessage,{defaultMessage:"Plus",id:"upgradeButton.plus.text"}),on:(0,g.jsx)(l.FormattedMessage,{defaultMessage:"Plus â†—",id:"upgradeButton.plus.textWithArrow"})}}):(0,a.NG)(this.props.subscriptionTier)?t=(0,g.jsx)(m.D,{experimentId:"upsell_colors",groups:{control:(0,g.jsx)(l.FormattedMessage,{defaultMessage:"Business",id:"upgradeButton.business.text"}),on:(0,g.jsx)(l.FormattedMessage,{defaultMessage:"Business â†—",id:"upgradeButton.business.textWithArrow"})}}):(0,a.wP)(this.props.subscriptionTier)?t=(0,g.jsx)(m.D,{experimentId:"upsell_colors",groups:{control:(0,g.jsx)(l.FormattedMessage,{defaultMessage:"Enterprise",id:"upgradeButton.enterprise.text"}),on:(0,g.jsx)(l.FormattedMessage,{defaultMessage:"Enterprise â†—",id:"upgradeButton.enterprise.textWithArrow"})}}):(0,o.t1)(this.props.subscriptionTier),e.isMobile?(0,g.jsx)(d.Z,{mobileStyle:this.props.mobileStyle,children:t}):(0,g.jsx)(u.Z,{delayThreshold:120,placement:u.Z.Placement.Bottom,renderTooltip:()=>(0,g.jsxs)("div",{style:{maxWidth:500},children:[(0,g.jsx)(l.FormattedMessage,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"}),(0,g.jsx)("br",{}),(0,g.jsx)(l.FormattedMessage,{defaultMessage:"Click to learn more.",id:"upgradeButton.learnMore.tooltip"})]}),originGap:6,render:e=>(0,g.jsx)(d.Z,{desktopStyle:this.props.desktopStyle,innerStyle:f(this.props.subscriptionTier,this.theme),onClick:this.handleClick,...e,children:t})})}}h.displayName="UpsellButton";const b=h;function f(e,t){if(!(0,p.R$)())return{};switch(e){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?s.ZP.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:r.Z.fontWeight.medium};default:return{}}}},54669:(e,t,i)=>{i.d(t,{Z:()=>d});i(67294);var n=i(480),s=i(26388),a=i(98742),o=i(44041),r=i(91694),l=i(85893);const d=function(e){window.__c={n:"UpsellGate"};const t=(0,n.O7)(),{render:i,requireUpgradeToTier:d,analyticsName:u,renderUpgradeTooltip:c,onUpgradeClick:p,alwaysAllowClick:m,tooltipPlacement:g,upgradeButtonDesktopStyle:h,upgradeButtonMobileStyle:b}=e;let f,{onClick:x,renderTooltip:y}=e;return d&&(f=(0,l.jsx)(r.Z,{subscriptionTier:d,analyticsName:u,desktopStyle:{display:"inline-block",pointerEvents:"none",...h},mobileStyle:{display:"inline-block",pointerEvents:"none",...b}}),m||(x=e=>{o.y(t,{from:u,for:d}),p&&p(e)},y=c)),(0,l.jsx)(s.Z,{renderTooltip:y||(()=>null),render:e=>i((0,a.Z)(e,{onClick:x}),f),disableTooltip:!y,placement:g})}},39343:(e,t,i)=>{i.d(t,{Fk:()=>o,nx:()=>r});var n=i(30120),s=i(13991),a=i(7057);function o(e){return!(null==e||!e.trialEnd)&&e.trialEnd>=n.ou.now().toSeconds()}function r(e){const t=function(e){if(!o(e))return;const t=1e3*(null==e?void 0:e.trialEnd);return null!=e&&e.periodEnd&&e.periodEnd>=n.ou.now().toSeconds()&&e.periodEnd<t?e.periodEnd:t}(e);return t?(0,a.Yx)(t,"long",s.SP):void 0}},94919:(e,t,i)=>{i.d(t,{W:()=>a});i(67294);var n=i(31919),s=i(85893);function a(e){const{cost:t,intl:i}=e,a=e.trailingZeroDisplay??"auto",o=e.currencySign??"accounting",r=n.n.fromValue(t);let l=i.formatNumber(r.amount/Math.pow(10,r.currencyValue.minorUnitDigits),{style:"currency",currency:r.currencyCode,currencyDisplay:"symbol",currencySign:o});return"stripIfInteger"===a&&(l=l.replace(new RegExp(`[.,]0{${r.currencyValue.minorUnitDigits}}(\\s+.*)?$`),"$1")),(0,s.jsx)(s.Fragment,{children:l})}},19255:(e,t,i)=>{i.d(t,{Mg:()=>p});i(30541),i(57658),i(21703);var n=i(67266),s=i.n(n),a=i(5242),o=i.n(a),r=i(15095),l=i(72126),d=i(70203),u=i(97880);let c=function(e){return e[e.removed=-1]="removed",e[e.added=1]="added",e[e.same=0]="same",e}({});function p(e){const{before:t,after:i,isIncompleteAfter:n,insertCursor:a}=e,p={count:0,encoding:{},decoding:{},annotationEncoding:{},annotationDecoding:{}},m=e=>{const t=p.encoding[e];if(t)return t;{const t=String.fromCharCode(p.count);return p.count++,p.encoding[e]=t,p.decoding[t]=e,t}},g=e=>{const t=s()(e),i=p.annotationEncoding[t];if(i)return i;{const i=String.fromCharCode(p.count);return p.count++,p.annotationEncoding[t]=i,p.annotationDecoding[i]=e,i}},h=e=>l.xH(d.lzi(e).map((e=>{const t=r.p4(e[0]).map(m);if(d.km_(e)){const i=d.hDy(e),n=d.I$B(i);n&&(t[0]=g({type:"mention",value:n}),i.forEach((e=>{d.ZAl(e)||d.kuv(e)||d.QVC(e)||(t.unshift(g({type:"start",value:e})),t.push(g({type:"end",value:e})))})))}else if(d.YrK(e)){const i=d.hDy(e),n=d.Ap(i);if(n){t[0]=g({type:"equation",value:n});for(const e of i)d.ZAl(e)||d.kuv(e)||d.QVC(e)||(t.unshift(g({type:"start",value:e})),t.push(g({type:"end",value:e})))}}else if(d.AJd(e)){d.hDy(e).forEach((e=>{t.unshift(g({type:"start",value:e})),t.push(g({type:"end",value:e}))}))}return t}))).join("");if(p.count>65535)throw new Error("This string has way too many different characters.");const b=function(e,t){const i=new(o())({timeout:2,editCost:6}),n=i.main(t,e);return i.cleanupSemantic(n),n}(h(i),h(t)),f=[];let x=[],y=0;const v=n?l.qr(b,(e=>0===e[0]||1===e[0])):0;let w=!1;return b.forEach((e=>{let[t,i]=e;i.split("").forEach((e=>{if(p.decoding[e]){const i=p.decoding[e];t===c.added?f.push([i,[...x,["+"]]]):t===c.removed&&(!n||y<=v)?f.push([i,[...x,["-"]]]):(n&&a&&!w&&y===v+1&&(w=!0,f.push(["",[["tc"]]])),f.push([i,x]))}else{const i=p.annotationDecoding[e];if(t===c.added)if("mention"===i.type)f.push([d.qyI,[...x,["+"],i.value]]);else if("start"===i.type)x=[...x,i.value];else if("end"===i.type)x=x.filter((e=>!l.Xy(e,i.value)));else if("equation"===i.type){const e=d.xey(i.value),t=d.qZ6(e,[...x,["+"]]);f.push(t)}else(0,u.t1)(i);else if(t===c.removed){if("mention"===i.type)f.push([d.qyI,[...x,["-"],i.value]]);else if("equation"===i.type){const e=d.xey(i.value),t=d.qZ6(e,[...x,["-"]]);f.push(t)}}else if(t===c.same)if("mention"===i.type)f.push([d.qyI,[...x,i.value]]);else if("start"===i.type)x=[...x,i.value];else if("end"===i.type)x=x.filter((e=>!l.Xy(e,i.value)));else if("equation"===i.type){const e=d.xey(i.value),t=d.qZ6(e,x);f.push(t)}else(0,u.t1)(i)}})),n&&(y+=1)})),d.Zxt(f)}},32566:(e,t,i)=>{i.d(t,{k:()=>a});i(67294);var n=i(45238),s=i(85893);const a=(0,n.I)("arrowRightSmaller",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M15.383 8.352a.877.877 0 01-.274.64l-5.156 5.14a.864.864 0 01-.617.266.831.831 0 01-.602-.234.795.795 0 01-.234-.586c0-.12.02-.232.063-.336a.912.912 0 01.187-.273l1.75-1.766 2.914-2.656.274.5-2.711.156H1.484c-.26 0-.471-.078-.632-.234a.851.851 0 01-.235-.617c0-.256.078-.461.235-.618a.856.856 0 01.632-.242h9.493l2.71.164-.273.508L10.5 5.5 8.75 3.727a.946.946 0 01-.188-.266.917.917 0 01-.062-.344c0-.234.078-.43.234-.586a.831.831 0 01.602-.234.79.79 0 01.328.07c.104.047.203.117.297.211l5.148 5.133a.877.877 0 01.274.64z"})})},39226:(e,t,i)=>{i.d(t,{v:()=>a});i(67294);var n=i(45238),s=i(85893);const a=(0,n.I)("blueCircleDot",{viewBox:"0 0 16 16",svg:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("circle",{cx:"8",cy:"8",r:"8",fill:"none",stroke:"#2383E2",children:[(0,s.jsx)("animate",{attributeName:"r",from:"3",to:"8",dur:"1s",begin:"0s",repeatCount:"indefinite"}),(0,s.jsx)("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0s",repeatCount:"indefinite"})]}),(0,s.jsx)("circle",{cx:"8",cy:"8",r:"3",fill:"#2383E2"})]})})},91315:(e,t,i)=>{i.d(t,{r:()=>a});i(67294);var n=i(45238),s=i(85893);const a=(0,n.I)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})},22686:(e,t,i)=>{i.d(t,{f:()=>a});i(67294);var n=i(45238),s=i(85893);const a=(0,n.I)("person",{viewBox:"0 0 16 16",svg:(0,s.jsx)("path",{d:"M7.7832 8.00195C9.27344 8.00195 10.5381 6.67578 10.5381 4.95996C10.5381 3.28516 9.2666 2 7.7832 2C6.29297 2 5.01465 3.30566 5.02148 4.97363C5.02148 6.67578 6.28613 8.00195 7.7832 8.00195ZM3.51758 14.3594H12.0352C13.1631 14.3594 13.5527 14.0176 13.5527 13.3887C13.5527 11.6318 11.3242 9.21191 7.77637 9.21191C4.23535 9.21191 2 11.6318 2 13.3887C2 14.0176 2.38965 14.3594 3.51758 14.3594Z"})})},14734:(e,t,i)=>{i.d(t,{X:()=>a});i(67294);var n=i(45238),s=i(85893);const a=(0,n.I)("personCrossedOut",{viewBox:"0 0 44 44",svg:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"M5.4857 44H0L44 8.56549V13.0061L5.4857 44Z"}),(0,s.jsx)("path",{d:"M39.8048 44H8.66491L25.6448 30.4378C26.9394 30.6489 28.1581 30.9719 29.3009 31.4067C31.5362 32.2374 33.4346 33.326 34.9964 34.6723C36.5725 36.0044 37.7761 37.4367 38.6071 38.9692C39.4525 40.5018 39.8752 41.9555 39.8752 43.3305C39.8752 43.5675 39.8517 43.7906 39.8048 44Z"}),(0,s.jsx)("path",{d:"M30.3971 16.7973C30.3971 16.8668 30.3965 16.9359 30.3952 17.0048L19.3828 25.9192C18.7467 25.7134 18.1339 25.4228 17.5446 25.0473C16.2408 24.2023 15.1876 23.0708 14.3853 21.6528C13.5972 20.2205 13.2032 18.6163 13.2032 16.8403C13.2032 15.0929 13.5972 13.5174 14.3853 12.1137C15.1876 10.7101 16.2408 9.60007 17.5446 8.78366C18.8485 7.96725 20.267 7.55905 21.8001 7.55905C23.3332 7.55905 24.7517 7.96009 26.0556 8.76218C27.3595 9.56426 28.4054 10.6671 29.1935 12.0708C29.9959 13.4601 30.3971 15.0356 30.3971 16.7973Z"})]})})},44295:(e,t,i)=>{i.d(t,{I:()=>a});i(67294);var n=i(45238),s=i(85893);const a=(0,n.I)("random",{viewBox:"0 0 14 14",svg:(0,s.jsx)("path",{d:"M9.45002,6.2999567 C8.87013,6.2999567 8.40002,5.8298565 8.40002,5.24995625 C8.40002,4.670056 8.87013,4.1999558 9.45002,4.1999558 C10.0299,4.1999558 10.5,4.670056 10.5,5.24995625 C10.5,5.8298565 10.0299,6.2999567 9.45002,6.2999567 Z M4.55,6.2999567 C3.9701,6.2999567 3.5,5.8298565 3.5,5.24995625 C3.5,4.670056 3.9701,4.1999558 4.55,4.1999558 C5.1299,4.1999558 5.6,4.670056 5.6,5.24995625 C5.6,5.8298565 5.1299,6.2999567 4.55,6.2999567 Z M6.993,0 C10.864,0 14,3.13600534 14,7.000007 C14,10.8639987 10.864,14 6.993,14 C3.129,14 0,10.8639987 0,7.000007 C0,3.13600534 3.129,0 6.993,0 Z M7,12.5999994 C10.094,12.5999994 12.6,10.0939983 12.6,7.000007 C12.6,3.90600567 10.094,1.4000046 7,1.4000046 C3.906,1.4000046 1.4,3.90600567 1.4,7.000007 C1.4,10.0939983 3.906,12.5999994 7,12.5999994 Z M7,10.8499986 C5.369,10.8499986 3.976,9.83499821 3.416,8.4000076 L4.585,8.4000076 C5.075,9.23299796 5.964,9.7999982 7,9.7999982 C8.036,9.7999982 8.932,9.23299796 9.415,8.4000076 L10.584,8.4000076 C10.024,9.83499821 8.631,10.8499986 7,10.8499986 Z"})})},35840:(e,t,i)=>{i.d(t,{R:()=>a,T:()=>s});i(67294);var n=i(45238);const s=(0,i(85893).jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"}),a=(0,n.I)("search",{viewBox:"0 0 16 16",svg:s})},70693:(e,t,i)=>{i.d(t,{mb:()=>r,nK:()=>l,pe:()=>d});var n=i(40506),s=i(7057),a=i(53877),o=i(42875);function r(e){const{dateTime:t,intl:i,shortenDateAndRange:n}=e,o=a.OQ.toPersistedDate(t.valueOf());return s.ZV({value:o,allowRelativeDates:!0,intl:i,shortenDateAndRange:n,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:i,userTimeZone:n,displayInUserTimezone:o,alwaysIncludeTimezone:r}=e,l=a.OQ.toPersistedDateTime(t.valueOf(),t.zoneName);return s.ZV({value:l,allowRelativeDates:!0,intl:i,userTimeZone:n,displayInUserTimezone:o,alwaysIncludeTimezone:r})}function d(e){const{luxonRange:t,intl:i}=e,r=a.OQ.toPersistedDateRange(t),l=s.ZV({value:r,allowRelativeDates:!1,shortenDateAndRange:!0,intl:i,displayInUserTimezone:!0}),d=t.end.setZone((0,o.r)()),u=s.mr({start_time:d.toFormat(n.jK),humanReadable:!1,intl:i});return i.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:u})}}}]);