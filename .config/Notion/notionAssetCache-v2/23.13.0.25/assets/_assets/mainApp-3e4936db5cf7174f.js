(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[5906],{78519:(e,t,n)=>{"use strict";n.r(t),n.d(t,{initialize:()=>s});var i=n(80444),o=n(54642);async function s(e,t){if(await i.default.waitUntilRendered(),e.currentUser.isLoggedIn()&&!Boolean(t.fromPageRefresh)){const{CsatMilestoneStore:t}=e,n=await o.getCsatMilestones(e,{});"success"===n.type&&t.setState({data:n.data})}}},22974:(e,t,n)=>{"use strict";n.d(t,{MH:()=>b,rz:()=>v,h0:()=>u,I6:()=>g,LH:()=>f});var i=n(8848);var o=n(97880),s=n(18514),r=n(30021),a=n(4926),l=n(47839);let d;const c=10;function u(e,t){const{device:n,ThemeStore:o}=e,{mode:s,usingSystemTheme:r}=t,d={mode:s};o.setState(d),e.mobileNative&&e.mobileNative.setTheme(s,r),l.setTheme(function(e){const t=(0,i.gh)({theme:e});return{mode:e,colors:{white:i.ZP.white,blue:i.ZP.blue},borderRadius:4,textColor:t.regularTextColor,popoverBackgroundColor:t.popoverBackground,popoverBoxShadow:t.mediumBoxShadow,inputBoxShadow:t.inputBoxShadow,inputBackgroundColor:t.inputBackground,dividerColor:t.darkDividerColor,shadowOpacity:t.shadowOpacity}}(s)),localStorage.setItem("theme",JSON.stringify(d)),function(e,t){if(0===e.nativeScrollbarWidth)return;const n=document.getElementById("scroll-properties");n&&(n.innerHTML=`\n\t\t\t::-webkit-scrollbar {\n\t\t\t\twidth: 10px;\n\t\t\t\theight: 10px;\n\t\t\t}\n\t\t\t::-webkit-scrollbar {\n\t\t\t\tbackground: transparent;\n\t\t\t}\n\t\t\t::-webkit-scrollbar-track {\n\t\t\t\tbackground: ${p[t]};\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb {\n\t\t\t\tbackground:${h[t]};\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb:hover {\n\t\t\t\tbackground:${m[t]};\n\t\t\t}\n\t\t`,a.Z.setState(c))}(n,s),"dark"===s?document.body.classList.add("dark"):document.body.classList.remove("dark")}const p={light:"#EDECE9",dark:"rgba(202, 204, 206, 0.04)"},h={light:"#D3D1CB",dark:"#474c50"},m={light:"#AEACA6",dark:"rgba(202, 204, 206, 0.3)"};function g(e){d=e}function v(e){d=void 0,r.Z.setState(e)}function f(e){const t=S(e);switch(t){case"dark":case"light":u(e,{mode:t,usingSystemTheme:!1});break;case"system":!async function(e){const{mobileNative:t}=e;let n="light";n=t&&t.api.getTheme?await t.api.getTheme():e.device.prefersDarkInterface?"dark":"light",u(e,{mode:n,usingSystemTheme:!0})}(e);break;default:(0,o.t1)(t)}}function b(e){return d||S(e)}function S(e){let t=r.Z.state;return t||(t=e.device.isMobile||(0,s.Sr)()?"system":e.ThemeStore.state.mode),"dark"===(n=t)||"light"===n||"system"===n?n:"system";var n}},4653:(e,t,n)=>{"use strict";n.d(t,{i:()=>c});var i=n(13991),o=n(88642),s=n(39634),r=n(24215),a=n(79897),l=n(58455),d=n(77080);function c(e){const t=l.default.state;if((0,r.Ug)()&&t.isZendeskEnabled){const{userHighestPlanType:n,isSalesAssistedPlan:r}=(0,a.rf)(e);o.j({locale:i.SP,analyticsSettings:t,isForethoughtEnabled:d.default.checkGate("forethought"),forethoughtInitializeArgs:s.z(e),userHighestPlanType:n,isSalesAssistedPlan:r,cookieService:e.cookieService})}}},16091:(e,t,n)=>{"use strict";n.d(t,{ND:()=>T,RD:()=>_,gc:()=>L,gl:()=>j,u7:()=>I});var i=n(67294),o=n(36769),s=n(480),r=n(86628),a=n(41432),l=n(68939),d=n(50906),c=n(39699),u=n(37181),p=n(81415),h=(n(95477),n(19124)),m=n(68056),g=n(89086),v=n(28685),f=n(80444),b=n(77080),S=n(83212),y=n(26350),w=n(24666),C=n(44458),k=n(89626),x=n(85893);const M=(0,l.defineMessages)({spaceForAiHeader:{id:"AiOnboardingTooltips.spaceForAi.header",defaultMessage:"Press ‘space’ for AI"},spaceForAiContent:{id:"AiOnboardingTooltips.spaceForAi.content",defaultMessage:"On a new line or page, press ‘space’ on your keyboard for AI to generate or edit the page. Try it now!"},askAiAnythingHeader:{id:"AiOnboardingTooltips.askAiAnything.header",defaultMessage:"Ask AI anything"},askAiAnythingContent:{id:"AiOnboardingTooltips.askAiAnything.content",defaultMessage:"Just tell AI what to do — the more details, the better. You can also start from an example in the menu."},refineAiResponseHeader:{id:"AiOnboardingTooltips.refineAiResponse.header",defaultMessage:"Tell AI what to do next"},refineAiResponseContent:{id:"AiOnboardingTooltips.refineAiResponse.content",defaultMessage:"How was it? Give AI further instructions to improve what it wrote, or hit ‘Done’ when finished."},showAssistantLocationHeader:{id:"AiOnboardingTooltips.showAssistantLocation.answersToYourQuestionHeader",defaultMessage:"Ask AI when searching"},showAssistantLocationContent:{id:"AiOnboardingTooltips.showAssistantLocation.askQuestionBody",defaultMessage:"AI can find pages and synthesize a quick, concise answer for you. Try it now."},showAssistantOriginElementLocationHeader:{id:"AiOnboardingTooltips.ShowAssistantOriginElementLocationTooltip.header",defaultMessage:"Start by asking a question"},showAssistantOriginElementLocationContent:{id:"AiOnboardingTooltips.ShowAssistantOriginElementLocationTooltip.content",defaultMessage:"Notion AI will find pages and compose a concise answer for you. Try it now."}});function I(){window.__c={n:"SpaceForAiOnboardingTooltip"};const e=(0,s.O7)(),t=function(){const e=(0,s.O7)(),t=(0,r.VK)((()=>{const t=f.default.state.mainEditorCurrentBlockStore;return t&&S.Z.getMode(e,t)}),[e]);return(0,r.VK)((()=>{if(e.device.isMobile)return;if(!b.default.checkGate("space_for_ai_tooltip_enabled"))return;const{currentUserSettingsStore:n,inAppCalloutStore:i}=f.default.state;if(!i.canShow("ai_onboarding_tooltip"))return;const o=null==n?void 0:n.getSettings();if(!o)return;if(o.signup_time&&o.signup_time>16770636e5)return;if("space_for_ai"!==(0,k.sy)())return;if(!(0,h.GD)(t))return;const s=w.default.state;if("editing"===s.mode){const e=(0,m.QY)(s.multiSelection);if(e&&(0,g.wd)(e.selection)){const t=e.store,n=v.E.findEditableWithStore(t);if(n){const e="block"===t.pointer.table?y.G.createChildStore(t,t.pointer):void 0,i=e&&e.getType(),o=Boolean(i&&(0,a.hD)(i)),s=t.getValue();if(o&&!s)return n}}}}),[e,t])}();return t?(0,x.jsx)(p.U,{origin:()=>t.getNode(),placementToOrigin:"bottom",header:(0,x.jsx)(l.FormattedMessage,{...M.spaceForAiHeader}),content:(0,x.jsx)(l.FormattedMessage,{...M.spaceForAiContent}),onCloseClick:()=>(0,k.h1)(e)}):null}function _(e){window.__c={n:"AskAIAnythingOnboardingTooltip"};const{originRef:t,openState:n}=e,i=(0,s.O7)(),o=(0,r.VK)((()=>(0,k.sy)()),[]);if(i.device.isMobile)return null;return"ask_ai_anything"===o&&"initialPrompt"===n.stage?(0,x.jsx)(p.U,{origin:t,placementToOrigin:"top",header:(0,x.jsx)(l.FormattedMessage,{...M.askAiAnythingHeader}),content:(0,x.jsx)(l.FormattedMessage,{...M.askAiAnythingContent}),onCloseClick:()=>(0,k.h1)(i)}):null}function j(e){window.__c={n:"RefineAIResponseOnboardingTooltip"};const{originRef:t,openState:n,isInputEmpty:i}=e,o=(0,s.O7)(),a=(0,r.VK)((()=>(0,k.sy)()),[]);if(o.device.isMobile)return null;const d="refine_ai_response"===a&&"results"===n.stage&&!n.loading&&"cursor"===n.context.type&&i;return(0,x.jsx)(p.U,{origin:d?t:void 0,placementToOrigin:"right",pointerOffset:-4,pointerLength:25,header:(0,x.jsx)(l.FormattedMessage,{...M.refineAiResponseHeader}),content:(0,x.jsx)(l.FormattedMessage,{...M.refineAiResponseContent}),onCloseClick:()=>(0,k.h1)(o)})}function T(e){window.__c={n:"ShowAssistantOriginElementLocationTooltip"};const{origin:t}=e,n=(0,s.O7)();(0,i.useEffect)((()=>{d.Khd(n,{from:"qna_button"})}),[n]);const o=(0,i.useCallback)((()=>{const{currentUserSettingsStore:e}=f.default.state;e&&(d.yeF(n,{from:"qna_button"}),(0,C.C)(n,{phase:"complete",transactionUserAction:"AiQnaIntroModal.debug.clickTooltipComplete",userSettingsStore:e}))}),[n]);return(0,x.jsx)(p.U,{style:{width:250},pointerLength:25,pointerPosition:"94%",origin:t,placementToOrigin:"top",header:(0,x.jsx)(l.FormattedMessage,{...M.showAssistantOriginElementLocationHeader}),content:(0,x.jsx)(l.FormattedMessage,{...M.showAssistantOriginElementLocationContent}),onCloseClick:o})}function L(e){window.__c={n:"ShowAssistantLocationTooltip"};const{origin:t}=e,n=(0,s.O7)();(0,i.useEffect)((()=>{d.Khd(n,{from:"qna_search"})}),[n]);const o=(0,i.useCallback)((()=>{const{currentUserSettingsStore:e}=f.default.state;e&&(d.yeF(n,{from:"qna_search"}),(0,C.C)(n,{phase:"complete",transactionUserAction:"AiQnaIntroModal.debug.clickTooltipComplete",userSettingsStore:e}))}),[n]);return(0,x.jsx)(p.U,{style:{width:250},pointerLength:25,pointerPosition:"5%",origin:t,placementToOrigin:"bottom",header:(0,x.jsx)(l.FormattedMessage,{...M.showAssistantLocationHeader}),content:(0,x.jsx)(l.FormattedMessage,{...M.showAssistantLocationContent}),onCloseClick:o})}(0,o.exposeDebugEnvironmentValue)("resetAIOnboarding",(e=>()=>{const{currentUserSettingsStore:t}=f.default.state;t&&c.createAndCommit({userAction:"AiIntroModal.debugging.resetAIOnboarding",environment:e,perform:e=>{u.d2({userSettingsStore:t,transaction:e,data:{ai_onboarding_phase:"space_for_ai"}})},userId:t.id})}))},44458:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,U:()=>r});var i=n(39699),o=n(37181);function s(e,t){const{phase:n,transactionUserAction:s,userSettingsStore:r}=t;i.createAndCommit({environment:e,userAction:s,perform:e=>{o.d2({userSettingsStore:r,transaction:e,data:{ai_qna_intro_onboarding_phase:n}})}})}function r(e,t){const{userSettingsStore:n}=t;i.createAndCommit({environment:e,userAction:"aiQnaActions.setLastExposedToQnaAtToCurrentTimestamp",perform:e=>{o.d2({userSettingsStore:n,transaction:e,data:{last_exposed_to_ai_qna_at:Date.now()}})}})}},55031:(e,t,n)=>{"use strict";n.d(t,{G:()=>u,y:()=>c});var i=n(51454),o=n(28020),s=n(24646),r=n(5162),a=n(4926),l=n(85394),d=n(31156);function c(e,t){const{theme:n,rightEdgeDistance:r,isInPeekRenderer:l}=t,c=t.width??36,p=(0,s.ll)(e,l)-(0,s.vJ)(e);return{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",background:n.whiteButtonBackground,bottom:u(e,16+a.Z.state),right:r+a.Z.state,width:c,height:c,borderRadius:"100%",fontSize:20,boxShadow:n.lightBoxShadow,zIndex:i.hT,opacity:o.tu.state?0:1,transform:`translateX(-${p}px) translateZ(0)`,transition:`\n\t\t\topacity ${d.nk}ms,\n\t\t\tcolor ${d.nk}ms,\n\t\t\ttransform 200ms\n\t\t`}}function u(e,t){const n=e.device.isMobileNative,i=(0,r.Y)("supportsNativeBottomBar"),o=n&&!i;return e.WindowSizeStore.getSafePaddingBottomCSS(t+(o?l.MOBILE_BOTTOM_BAR_HEIGHT:0))}},77207:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});n(67294);var i=n(480),o=n(86628),s=n(55367),r=n(80796),a=n(69784),l=n(85893);const d=function(e){window.__c={n:"CursorListener"};const t=(0,i.Fy)(),n=(0,o.VK)((()=>({initiator:r.Z.state.initiator,isDragging:s.ZP.state.isDragging})),[]),d=(0,o.VK)((()=>({active:a.default.state.isActive,moved:!!a.default.state.isActive&&a.default.state.moved})),[]),c=d.moved?"default":n.isDragging?"-webkit-grabbing":"text";let u="notion-cursor-listener";return"-webkit-grabbing"===c&&(u+=" notion-disable-local-cursor"),t.isIOS&&("touch"===n.initiator||n.isDragging||d.active?document.body.classList.add("notion-disable-webkit-user-select"):document.body.classList.remove("notion-disable-webkit-user-select")),(0,l.jsx)("div",{style:{...e.style,cursor:c},className:u,children:e.children})}},85394:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MOBILE_BOTTOM_BAR_HEIGHT:()=>k,default:()=>M});var i=n(67294),o=n(83355),s=n(480),r=n(86628),a=n(42107),l=n(81846),d=n(57037),c=n(20162),u=n(51454),p=n(50906),h=n(1892),m=n(87531),g=n(43250),v=n(74948),f=n(5162),b=n(80444),S=n(72653),y=n(64921),w=n(58925),C=n(85893);const k=44;class x extends o.Z{constructor(){super(...arguments),this.handleClickFind=()=>{m.Kf({environment:this.environment,analyticsFrom:"mobile-bottom-bar"}),p.nBz(this.environment,{itemName:"search"})},this.handleClickQuickAdd=()=>{v.quickAddPage({environment:this.environment,from:"mobile_bottom_bar"}),p.nBz(this.environment,{itemName:"add_page"})},this.handleUndo=()=>{h.Yw(this.environment,!0),p.nBz(this.environment,{itemName:"undo"})},this.handleRedo=()=>{h.KX(this.environment,!0),p.nBz(this.environment,{itemName:"redo"})},this.canQuickAdd=this.createComputedStore((()=>Boolean(b.default.state.currentSpaceStore&&b.default.state.currentSpaceStore.canEdit())))}renderComponent(){const e=S.Z.state,t=(0,f.Y)("supportsNativeBottomBar"),{isTablet:n}=this.environment.device;if(e)return t?(0,C.jsx)("div",{className:g.alX,children:(0,C.jsx)(T,{})}):(0,C.jsx)("div",{style:L(e,this.environment,this.theme),className:g.rKl,children:n?this.renderTabletButtons():this.renderPhoneButtons()})}renderPhoneButtons(){return(0,C.jsxs)(i.Fragment,{children:[this.renderSearchButton(),(0,C.jsx)(T,{}),this.renderQuickAddPageButton()]})}renderTabletButtons(){return(0,C.jsxs)(i.Fragment,{children:[this.renderSearchButton(),(0,C.jsx)(T,{}),this.renderQuickAddPageButton(),this.renderUndoRedoButtons()]})}renderSearchButton(){return(0,C.jsx)(y.Z,{style:I(this.environment),onClick:this.handleClickFind,mobileFeedback:!0,children:(0,d.w)(E(this.theme))})}renderQuickAddPageButton(){return(0,C.jsx)(y.Z,{style:_(this.environment),onClick:this.handleClickQuickAdd,mobileFeedback:!0,disabled:!this.canQuickAdd.state,disabledFeedback:!0,children:(0,a.d)(E(this.theme))})}renderUndoRedoButtons(){return(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(y.Z,{style:j(this.environment),onClick:this.handleUndo,mobileFeedback:!0,disabled:!h.L0(),disabledFeedback:!0,children:(0,c.O)(E(this.theme))}),(0,C.jsx)(y.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",flex:"none",width:54,paddingRight:4},onClick:this.handleRedo,mobileFeedback:!0,disabled:!h.AZ(),disabledFeedback:!0,children:(0,l.Y)(E(this.theme))})]})}}x.displayName="MobileBottomBar";const M=x;function I(e){const{WindowSizeStore:t}=e,{isTablet:n}=e.device;return{display:"flex",alignItems:"center",justifyContent:"flex-start",flex:1,paddingLeft:t.getSafePaddingLeftCSS(18),...n&&{flex:"none",paddingLeft:2,width:54,justifyContent:"center"}}}function _(e){const{WindowSizeStore:t}=e,{isTablet:n}=e.device;return{display:"flex",alignItems:"center",justifyContent:"flex-end",flex:1,paddingRight:t.getSafePaddingRightCSS(18),...n&&{justifyContent:"center",flex:"none",paddingRight:0,width:54,marginRight:"auto"}}}function j(e){const{WindowSizeStore:t}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-start",flex:"none",paddingLeft:t.getSafePaddingLeftCSS(18),width:54}}function T(){window.__c={n:"MobileBottomBarUpdatesButton"};const e=(0,s.O7)(),t=(0,r.VK)((()=>e.device.isTablet),[e]);return(0,C.jsx)(w.Z,{format:t?w.Z.Format.MobileBottomBarTablet:w.Z.Format.MobileBottomBarPhone})}function L(e,t,n){const{WindowSizeStore:i}=t,{isTablet:o}=t.device;return{position:"absolute",left:0,right:0,bottom:0,display:"flex",justifyContent:o?"flex-start":"space-around",height:i.getSafePaddingBottomCSS(k),paddingBottom:i.state.paddingBottomCSS,background:n.contentBackground,borderTop:`1px ${n.darkDividerColor} solid`,zIndex:u.D_,pointerEvents:e?"auto":"none",cursor:"pointer"}}function E(e){return{width:26,fill:e.regularTextColor}}},3383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>kl});var i=n(67294),o=n(34958),s=n(77907),r=n(83355),a=n(13991),l=n(79946),d=n(49271),c=n(8848),u=n(25278),p=n(71644),h=n(99405),m=n(89101),g=n(29369),v=n(32739),f=n(12139),b=n(68939),S=n(50906),y=n(47839),w=n(32603),C=n(91376),k=n(75018),x=n(73966),M=n(70782),I=n(39634),_=n(37181),j=n(95477);const T=(0,s.lazyComponent)(s.deps.CreatorProfile,(e=>e.CreatorProfile));var L=n(80444),E=n(77080),A=n(26350);const P=(0,s.lazyComponent)(s.deps.StudentGroupSignup,(e=>e.default));var U=n(480),Z=n(86628),R=n(24405),B=n(59054),V=n(49204),N=n(82990),O=n(42922),F=n(61519),z=n(63296),D=n(64369),W=n(74016),H=n(85893);const q=function(e){window.__c={n:"TeamInviteLinkJoinPage"};const{teamStore:t}=e,n=(0,U.O7)(),{teamName:i}=(0,Z.VK)((()=>({teamName:t.getName()})),[t]),o=(0,R.yK)((e=>({buttonContainer:{marginTop:15,display:"flex",justifyContent:"space-between"},container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},title:{fontWeight:N.Z.fontWeight.semibold,fontSize:20,margin:10},subtitle:{color:e.mediumTextColor,fontSize:18},divider:{maxWidth:280},rightButton:{fontWeight:N.Z.fontWeight.semibold,marginLeft:10}})),[]);return(0,H.jsxs)("div",{style:o.container,children:[(0,H.jsx)(W.p,{store:t,disabled:!0,size:55}),(0,H.jsx)("div",{style:o.title,children:(0,H.jsx)(b.FormattedMessage,{id:"teamInviteLinkJoinPage.page.title",defaultMessage:"You've been invited to join {teamName}",values:{teamName:i}})}),(0,H.jsx)("div",{style:o.subtitle,children:(0,H.jsx)(b.FormattedMessage,{id:"teamInviteLinkJoinPage.page.subtitle",defaultMessage:"You can access the content in the teamspace if you join the teamspace."})}),(0,H.jsxs)("div",{style:o.buttonContainer,children:[(0,H.jsx)(O.Z,{isLarge:!0,onClick:async()=>{const e=n.currentUser.id;if(!e)return;const i=[{type:"member",entity_type:"user",user_id:e}];await V.um({environment:n,userId:e,teamStore:t,user:i}),S.Phj(n,{store:t,selection:"yes"})},children:(0,H.jsx)(b.FormattedMessage,{id:"teamInviteLinkJoinPage.joinTeam.label",defaultMessage:"Join teamspace"})}),(0,H.jsx)(z.Z,{isLarge:!0,style:o.rightButton,onClick:async()=>{S.Phj(n,{store:t,selection:"no"}),await V.Id({environment:n})},children:(0,H.jsx)(b.FormattedMessage,{id:"teamInviteLinkJoinPage.backToMyContentButton.label",defaultMessage:"Back to my content"})})]}),(0,H.jsx)(F.Z,{size:48,innerStyle:o.divider}),(0,H.jsx)(D.Z,{isSmall:!0,children:(0,H.jsx)(b.FormattedMessage,{id:"teamInviteLinkJoinPage.contact.message",defaultMessage:"Please contact your workspace owner for any questions."})})]})};var K=n(14889);function G(e){window.__c={n:"TeamInviteLinkRequestPageContent"};const{teamStore:t,teamName:n,onRequestClick:i}=e,o=(0,U.O7)(),s=(0,R.yK)((e=>({buttonContainer:{marginTop:15,display:"flex",justifyContent:"space-between"},container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"},title:{fontWeight:N.Z.fontWeight.semibold,fontSize:20,margin:10},subtitle:{color:e.mediumTextColor,fontSize:18},divider:{maxWidth:280},rightButton:{fontWeight:N.Z.fontWeight.semibold,marginLeft:10}})),[]);return(0,H.jsxs)("div",{style:s.container,children:[(0,H.jsx)(W.p,{store:t,disabled:!0,size:55}),(0,H.jsx)("div",{style:s.title,children:(0,H.jsx)(b.FormattedMessage,{id:"teamInviteLinkRequestPage.requestAccess.title",defaultMessage:"Request access to {teamName}",values:{teamName:n??$()}})}),(0,H.jsx)("div",{style:s.subtitle,children:(0,H.jsx)(b.FormattedMessage,{id:"teamInviteLinkRequestPage.requestAccess.subtitle",defaultMessage:"You can access this teamspace if a teamspace owner approves your request."})}),(0,H.jsxs)("div",{style:s.buttonContainer,children:[(0,H.jsx)(O.Z,{isLarge:!0,onClick:i,children:(0,H.jsx)(b.FormattedMessage,{id:"teamInviteLinkRequestPage.requestAccess.label",defaultMessage:"Request access"})}),(0,H.jsx)(z.Z,{isLarge:!0,style:s.rightButton,onClick:async()=>{await V.Id({environment:o})},children:(0,H.jsx)(b.FormattedMessage,{id:"teamInviteLinkRequestPage.backToMyContentButton.label",defaultMessage:"Back to my content"})})]}),(0,H.jsx)(F.Z,{size:48,innerStyle:s.divider}),(0,H.jsx)(D.Z,{isSmall:!0,children:(0,H.jsx)(b.FormattedMessage,{id:"teamInviteLinkRequestPage.contact.message",defaultMessage:"Please contact your workspace owner for any questions."})})]})}function $(){return(0,H.jsx)(b.FormattedMessage,{id:"teamInviteLinkRequestPage.privateTeamspace.label",defaultMessage:"Private Teamspace"})}const Y=function(e){window.__c={n:"TeamInviteLinkRequestPage"};const{teamStore:t}=e,[n,o]=(0,i.useState)(!1),{teamName:s}=(0,Z.VK)((()=>({teamName:t.getName()})),[t]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(G,{teamStore:t,teamName:s,onRequestClick:()=>o(!0)}),(0,H.jsx)(K.Z,{teamStore:t,teamName:s??$(),teamId:t.id,isModalOpen:n,onDismiss:()=>o(!1)})]})};function Q(e){const{teamAccessLevel:t,teamStore:n}=e;switch(t){case"open":return(0,H.jsx)(q,{teamStore:n});case"closed":case"private":return(0,H.jsx)(Y,{teamStore:n})}}const X=function(e){window.__c={n:"TeamInviteLinkPage"};const{teamId:t}=e,n=(0,U.O7)(),{teamAccessLevel:o,teamStore:r}=(0,Z.VK)((()=>{const e=new A.zX(n,{table:g.e0,id:t});return{teamAccessLevel:e.getTeamAccessLevel(),teamStore:e}}),[n,t]),[{value:a}]=(0,B.r5)((async()=>await V.Ng({environment:n,teamId:t})),[n,t]);(0,i.useEffect)((()=>{!0===(null==a?void 0:a.isValidTeamRequest)&&null!=a&&a.isTeamMember&&(async()=>{var e;const t=null===(e=n.currentUser)||void 0===e?void 0:e.id;t&&r&&await V.t_({environment:n,userId:t,teamStore:r})})()}),[n,r,a]);const l=(0,R.yK)((()=>({container:{display:"flex",justifyContent:"center",height:"100%"}})),[]);return a?(0,H.jsx)("div",{style:l.container,children:a.isValidTeamRequest?(0,H.jsx)(Q,{teamStore:r,teamAccessLevel:o}):"nonSpaceMember"===a.invalidRequestReason?(0,H.jsx)(s.LazyPageError,{route:{name:"teamsInvite",teamId:t},publicPageData:void 0}):(0,H.jsx)(s.LazyPageError,{route:{name:"notFound"},publicPageData:void 0})}):null},J=(0,s.lazyComponent)(s.deps.Templates,(e=>e.TemplateSubmission));var ee=n(84549),te=n(6495),ne=n(11342);function ie(e,t){const n=t.deviceType,i=t.mobileAppVersion;if(!(0,te.wv)(e)||"local"===e||!t.isMobileNative||!i)return!1;return function(e){const{environmentName:t,deviceType:n,mobileAppVersion:i,androidVersions:o,iosVersions:s}=e,r=(0,ne.parseMobileAppVersion)(i,"android"===n);if(!r)return!1;if("android"===n&&!o||"ios"===n&&!s)return!1;let a;if("android"===n){if(!o)return!1;a=(0,ne.parseMobileAppVersion)(o[t],!0)}else{if(!s)return!1;a=(0,ne.parseMobileAppVersion)(s[t],!1)}return!!a&&(0,ne.isLessThanVersion)(r,a)}({environmentName:e,deviceType:n,mobileAppVersion:i,iosVersions:{staging:"0.1.1022",development:"0.5.1168",production:"0.4.1021"}})}var oe=n(51454),se=n(50950),re=n(1892),ae=n(72899),le=n(16091),de=n(81598),ce=n(69098),ue=n(30106),pe=n(28020),he=n(19124),me=n(64286),ge=n(67669);const ve=(0,s.lazyComponent)(s.deps.moveTo,(e=>e.MoveToMenuRenderer));var fe=n(48451),be=n(50770),Se=n(94841),ye=n(52389),we=n(74948),Ce=n(36596),ke=n(38676);function xe(){window.__c={n:"SidebarLoadingSkeleton"};const e=(0,Z.VK)((()=>ke.sidebarExpandedStore.state),[]),t=(0,Z.VK)((()=>e?ke.sidebarWidthStore.state:0),[e]),n=(0,R.yK)((n=>{const i={width:22,height:22,borderRadius:4},o={height:10,minHeight:10,borderRadius:10};return{sidebar:{backgroundColor:n.sidebarBackground,boxShadow:n.sidebarBoxShadow,display:e?"flex":"none",minWidth:t,flexDirection:"column",padding:"12px 14px",overflow:"hidden"},heroSection:{marginBottom:19,display:"flex",alignItems:"center"},heroSectionIcon:{padding:"1px",...i},heroSectionTitle:{width:177,marginLeft:8,...o},toplevelMenu:{marginBottom:16,width:78,...o},toplevelMenuLast:{marginBottom:36,width:135,...o},sectionHeader:{marginBottom:12,width:56,...o},pageRow:{display:"flex",alignItems:"center",marginBottom:8},pageChevron:{width:12,height:12,display:"block",marginRight:4,fill:"dark"===n.mode?n.accentColors.gray[300]:n.accentColors.gray[100]},pageIcon:{...i},pageTitle:{marginLeft:6,...o}}}),[e,t]),o=(0,H.jsxs)("div",{style:n.heroSection,children:[(0,H.jsx)(Ce.Z,{style:n.heroSectionIcon,emphasized:!0}),(0,H.jsx)(Ce.Z,{style:n.heroSectionTitle,emphasized:!0})]}),s=(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Ce.Z,{style:n.toplevelMenu,emphasized:!0}),(0,H.jsx)(Ce.Z,{style:n.toplevelMenu,emphasized:!0}),(0,H.jsx)(Ce.Z,{style:n.toplevelMenuLast,emphasized:!0})]}),r=(0,H.jsx)(Ce.Z,{style:n.sectionHeader,emphasized:!0}),a=(0,i.useMemo)((()=>Array(5).fill(null).map((()=>Array(4).fill(null).map((()=>Math.floor(4*Math.random())))))),[]).map(((e,t)=>e.map(((e,i)=>(0,H.jsxs)("div",{style:{...Me(t),...n.pageRow},children:[(0,H.jsx)("svg",{viewBox:"0 0 30 30",style:n.pageChevron,children:(0,H.jsx)("polygon",{points:"17.4,15 7,25.2 9.8,28 23,15 9.8,2 7,4.8"})}),(0,H.jsx)(Ce.Z,{style:n.pageIcon,emphasized:!0}),(0,H.jsx)(Ce.Z,{style:{...n.pageTitle,width:80+20*e},emphasized:!0})]},`${t}-${i}`)))));return(0,H.jsxs)("div",{style:n.sidebar,children:[o,s,r,a]})}function Me(e){return 0===e?{}:{animation:`1s ease-in ${e}s 1 normal both running fadein`}}var Ie=n(24646),_e=n(5162),je=n(51),Te=n(21273),Le=n(43604),Ee=n(27242),Ae=n(78291),Pe=n(12309),Ue=n(33293);function Ze(){window.__c={n:"BillingModalContainer"};const e=(0,Z.VK)((()=>Pe.Z.state.modalInfoById),[]);return(0,H.jsx)(H.Fragment,{children:Object.entries(e).map((e=>{let[t,n]=e;const{content:i,dismissUsing:o,isOpen:s,modalStyle:r,onClosed:a,onDismiss:l}=n;return(0,H.jsx)(Ue.q,{dismissUsing:o,isOpen:s,onClosed:a,onDismiss:l,style:r,children:i},t)}))})}n(21703);var Re=n(30120),Be=n(92595),Ve=n(54642);async function Ne(e,t){const n=await Ve.stripeGetTestClock(t,{spaceId:e});if("success"===n.type){if("advancing"===n.data.status)throw new Error("Test clock is advancing. Please try again in a few seconds.");return n.data.epochSeconds}}async function Oe(e){const{environment:t,spaceId:n,advanceTestClockArgument:i}=e;if(i)return"number"==typeof i?i:"function"==typeof i?await async function(e){const{environment:t,spaceId:n,callback:i}=e,o=await Ne(n,t);if(o)return i(o)}({environment:t,spaceId:n,callback:i}):"object"==typeof i?await async function(e){const{environment:t,spaceId:n,durationLike:i}=e,o=await Ne(n,t);if(!o)return;const s=Re.ou.fromSeconds(o),r=Re.nL.fromDurationLike(i);return s.plus(r).toSeconds()}({environment:t,spaceId:n,durationLike:i}):void 0}const Fe=function(){window.__c={n:"StripeTestClockSupport"};const e=["local","staging","development"].includes("production"),t=(0,U.O7)();return(0,i.useEffect)((()=>{e&&((0,Be.exposeDebugValue)("refreshTestClock",(async()=>{const{spaceId:e}=Ae.default.state;if(e){const n=await Ne(e,t);if(n){const e=Re.ou.fromSeconds(n);console.log(`Test clock time is ${e.toString()} (${n} seconds)`),Ae.default.setTestClockSeconds(n)}}})),(0,Be.exposeDebugValue)("advanceTestClock",(async e=>{if(!e)throw new Error("advanceTestClock requires an argument. You can pass an epoch timestamp in seconds, a relative DurationLike object like { months: 2 }, or a function that takes the current epoch seconds and returns the new epoch seconds.");const{spaceId:n}=Ae.default.state;if(!n)return;const i=await Oe({environment:t,spaceId:n,advanceTestClockArgument:e});i&&(await Ve.stripeAdvanceTestClock(t,{spaceId:n,epochSeconds:i}),Ae.default.setTestClockSeconds(i))})))}),[e,t]),null};var ze=n(1404),De=n(59260),We=n(62142),He=(n(57658),n(9852)),qe=n(63143),Ke=n(99334);const Ge=10*qe.C0,$e=5*Ge;function Ye(){return window.__c={n:"TabAnalyticsTracker"},(0,i.useEffect)((()=>{if(!window.BroadcastChannel)return;const e=(0,He.getSessionTabId)(),t=new Map,n=new BroadcastChannel("notion_tab_tracker");n.onmessage=e=>{const n=e.data;"string"==typeof n&&t.set(n,Date.now())};const i=window.setInterval((()=>{(()=>{const e=[],n=Date.now();for(const[i,o]of t.entries())n-o>$e&&e.push(i);e.length;for(const i of e)t.delete(i)})(),n.postMessage(e);const i=t.size+1;(0,Ke.$)(i)}),Ge);return()=>{n.close(),window.clearInterval(i)}}),[]),null}var Qe=n(22491),Xe=n(72126),Je=n(70203),et=n(44805),tt=n(92120),nt=n(24229),it=n(48588);function ot(e){const{discussionId:t,level:n}=e;return`\n\t\t.${(0,Qe.vE)({level:n})}.${(0,Qe.dk)({discussionId:t})}.${et.kB} {\n\t\t\tbackground: ${(0,c.Hu)(e)} !important;\n\t\t\topacity: unset !important;\n\t\t\tborder-bottom: 2px solid ${c.mO};\n\t\t}\n\t`}function st(){function e(){var e,t,n;const i=(null===(e=tt.Z.state)||void 0===e?void 0:e.discussionIds)||[],o=null!==(t=nt.Z.state)&&void 0!==t&&t.open&&(null===(n=nt.Z.state)||void 0===n?void 0:n.discussionIds)||[];return[...i.flatMap((e=>Xe.DZ(Qe.nB).map((t=>ot({discussionId:e,level:t+1,hovered:!0,selected:!1}))))),...o.flatMap((e=>Xe.DZ(Qe.nB).map((t=>ot({discussionId:e,level:t+1,hovered:!1,selected:!0})))))].join("\n")}function t(){var e,t;const n=null===(e=it.Z.state)||void 0===e?void 0:e.store,i=null===(t=it.Z.state)||void 0===t||null===(t=t.annotations)||void 0===t?void 0:t.find(Je.j0F);if(!i)return"";const o=(0,Je.zW$)(i);return"block"!==(null==n?void 0:n.table)?"":`\n\t\t\t.${(0,Qe.S$)({href:o,blockId:n.id})}.${et.kB} {\n\t\t\t\ttransition: border-color 100ms ease-in, opacity 100ms ease-in;\n\t\t\t\tborder-color: currentColor !important;\n\t\t\t\topacity: 1 !important;\n\t\t\t}\n\t\t`}window.__c={n:"CSSOverrideStyle"};const n=(0,Z.VK)((()=>[e(),t()].filter(Boolean).join("\n")),[]);return n?(0,H.jsx)("style",{dangerouslySetInnerHTML:{__html:n}}):null}var rt=n(77207),at=n(74055),lt=n(7339);function dt(e){return(0,H.jsx)("div",{id:"test-customer-io",style:{width:334,height:200,position:"absolute",bottom:64,right:21,zIndex:1,display:e?void 0:"none"}})}const ct=function(){window.__c={n:"CustomerIoInAppCallout"};const e=(0,U.O7)(),{currentUser:t}=e,n=(0,Z.VK)((()=>lt.C.state.ready),[]),o=(0,Z.VK)((()=>t.isLoggedIn()&&n&&E.default.checkGate("customerio")),[t,n]),s=(0,Z.VK)((()=>L.default.state.inAppCalloutStore),[]),r=(0,Z.VK)((()=>"dark"!==e.ThemeStore.state.mode),[e]);(0,i.useEffect)((()=>{o&&(s.canShow("customer_io")?r?at.Z.state.suppressReason===at.V.IN_APP_CALLOUT_CONFLICT?at.Z.setState({...at.Z.state,isVisible:!0,suppressReason:void 0}):at.Z.setState({...at.Z.state,suppressReason:void 0}):at.Z.setState({isVisible:!1,suppressReason:at.V.DARK_MODE}):at.Z.setState({isVisible:!1,suppressReason:at.V.IN_APP_CALLOUT_CONFLICT}))}),[s,o,r]);const a=(0,Z.VK)((()=>at.Z.state.isVisible&&s.canShow("customer_io")),[s]);return(0,i.useEffect)((()=>{if(a)return s.updateCalloutStatus({calloutId:"customer_io",visible:!0}),()=>{s.updateCalloutStatus({calloutId:"customer_io",visible:!1})}}),[s,a]),o?dt(!!a):null};var ut=n(41056);function pt(e){return window.__c={n:"DateTodayUpdater"},(0,i.useEffect)((()=>{const e=window.setInterval(ut.u,5e3);return()=>{window.clearInterval(e)}}),[]),null}var ht=n(41892),mt=n(15095),gt=n(43593),vt=n(17755),ft=n(42875),bt=n(79362),St=n(22808),yt=n(82883),wt=n(64002),Ct=n(60682),kt=n(24990),xt=n(19037);async function Mt(e){const t=document.createElement("canvas");t.width=32,t.height=32;const n=t.getContext("2d"),i=document.createElement("img");return i.src=e,new Promise((e=>{i.onload=()=>{n.drawImage(i,0,0,32,32),e(t.toDataURL("image/png"))},i.onerror=()=>{e("")}}))}var It=n(84210),_t=n(83055),jt=n(33929),Tt=n(19034),Lt=n(80641),Et=n(5315);class At extends r.Z{constructor(){super(...arguments),this.lastSetIconString=void 0,this.updateBrowserState=()=>{const{device:e}=this.environment,t=this.computedStore.state;if(!t)return;const{url:n,title:i,icon:o}=t;let r,a,l;o&&(0,bt.V2)(o.icon)?l=o.icon:o&&(0,St.Z)(o.icon)?r=o.icon:o&&gt.F8(o.icon)&&(a=o);const{intl:d}=this.props,c=t.isNonverified&&!t.hasBypassedContentClassification&&!t.isMemberOfSpace;i&&document.title!==i&&(c?document.title=d.formatMessage({id:"pageTitle.flaggedContent",defaultMessage:"Flagged Content"}):e.isSafari&&r?document.title=`${r} ${i}`:document.title=i),n&&wt.T1(n)!==wt.T1(window.location.href)&&(window.history.replaceState(window.history.state,void 0,n),k.updateRouterStateForDocumentTitleChange({environment:this.environment,url:window.location.href}));const u=document.querySelector("link[rel='shortcut icon']");if(u){const t=ht.Z.images.faviconIco;if(c)u.href=t,this.lastSetIconString=t;else if(r)r!==this.lastSetIconString&&(this.lastSetIconString=r,async function(e,t){const n=document.createElement("canvas");n.width=32,n.height=32;const i=n.getContext("2d");if(i.font="normal normal normal 32px/32px sans",i.textAlign="center",i.textBaseline="middle","raw"===t)return i.fillText(e,n.width/2,n.height/2+4),n;const o=await s.deps.emojiData.loader(),r=(0,mt.yz)(e,o);if(!r)return;const a=document.createElement("img");a.src=(0,mt.bk)(t);const l=(0,mt.G0)(r);return new Promise((e=>{a.onload=()=>{i.drawImage(a,l.x,l.y,l.size,l.size,0,0,32,32),e(n)},a.onerror=()=>{e(void 0)}}))}(r,(0,Ct.e_)(this.environment)).then((async e=>{await _t.aO(),u.href=(null==e?void 0:e.toDataURL("image/png"))||""})));else if(l){if(l!==this.lastSetIconString){this.lastSetIconString=l;const t=`${l}?mode=${this.theme.mode}`;e.isFirefox?u.href=t:Mt(t).then((e=>{u.href=e}))}}else if(a){const{icon:e,...t}=a,n=vt.EK({url:e,width:100,permissionRecord:t.pointer,baseUrl:j.default.domainBaseUrl,fullyQualified:!1,userId:this.environment.currentUser.id});n!==this.lastSetIconString&&(this.lastSetIconString=n,Et.transactionQueue.awaitRecordTransaction(t.pointer).then((()=>Mt(n))).then((e=>{u.href=e})))}else t!==this.lastSetIconString&&(u.href=t,this.lastSetIconString=t)}y.electronApi&&y.electronApi.setWindowTitle&&i&&y.electronApi.setWindowTitle(i)},this.updateBrowserStateDebounced=Xe.Ds(this.updateBrowserState,500,{leading:!0}),this.computedStore=this.createComputedStore((()=>{var e;const{intl:t}=this.props,{RouterStore:n,device:i}=this.environment,o=n.state.route;if("chat"===o.name)return{title:"Ask AI"};const s=L.default.state.mainEditorCurrentBlockStore;if(!s||!s.isReady())return;const r="page"===o.name&&o.blockId===s.id,a="space"===o.name&&o.requestedOnPublicDomain&&(null===(e=s.getSpaceStore())||void 0===e?void 0:e.getPublicHomePage())===s.id;if(!r&&!a)return;const l=Tt.Z.getTotalUnreadMentionsCount(),d=s.getTitleStore();let c;const u=s.getModel(),p=s.getCollectionViewIds(),h=null==d?void 0:d.getRecordModel(d.pointer);if(d&&h){if(c=(0,yt.X)({intl:jt.default.getIntl(),textValue:d.getValue(),userTimeZone:(0,ft.r)(),getRecordModel:s.getRecordModel})||h.getEmptyTitlePlaceholder({getRecordModel:d.getRecordModel,userTimeZone:(0,ft.r)(),intl:t}),"block"===d.table&&(0,Se.WE)(s)){const{currentSpaceStore:e}=L.default.state;if(e){c=`${e.getName()} - ${t.formatMessage({id:"DocumentTitleListener.personalHomeLabel",defaultMessage:"Home"})}`}}if("collection"===d.table&&u&&u.isCollectionView()&&p.length>1){const e=L.default.state.currentCollectionViewStore;e&&e.getName()&&(c=`${c} | ${e.getName()}`)}i.isElectron||(c=(0,mt.db)(c.slice(0,100),kt.Z.state)),ge.IJ(this.environment,s)||this.environment.device.isElectron||this.environment.device.isMobileNative||(l>9?c=`(9+) ${c}`:l>0&&(c=`(${l}) ${c}`))}const m="page"===o.name?(0,It.ZP)({store:s,fullyQualified:!1,scrollToBlockId:null==o?void 0:o.scrollToBlockId,peekViewBlockId:o.peekViewBlockId,peekMode:o.peekMode,collectionViewId:o.collectionViewId,discussionId:o.discussionId,showMoveTo:o.showMoveTo,saveParent:o.saveParent,templateGalleryItem:o.templateGalleryItem,projectManagementLaunch:o.projectManagementLaunch,pageVisitSource:void 0}):(0,It.ZP)({store:s,fullyQualified:!1,pageVisitSource:void 0}),g=s.getIcon(),v=null==u?void 0:u.isNonverifiedContentClassification();return{title:c,url:m,icon:g,isNonverified:v,hasBypassedContentClassification:v&&u&&Lt.Z.bypassedPage(s.id),isMemberOfSpace:(0,xt.I)({blocks:[s],environment:this.environment,publicEditMode:void 0})}}))}UNSAFE_willMount(){this.savedTitle=document.title,this.computedStore.addListener(this.updateBrowserStateDebounced)}willUnmount(){this.computedStore.removeListener(this.updateBrowserStateDebounced),document.title=this.savedTitle}}At.displayName="DocumentTitleListener";const Pt=(0,b.injectIntl)(At);class Ut extends r.Z{constructor(){super(...arguments),this.konami=void 0,this.unlock=!1,this.handleSuccess=()=>{this.unlock=!0,this.forceUpdate()}}UNSAFE_willMountOrUpdate(){this.environment.device.isDesktop?this.loadKonami():this.unloadKonami()}loadKonami(){var e,t;this.konami||(this.konami=(e=this.handleSuccess,(t={addEvent:function(e,t,n){e.addEventListener(t,n,!1)},removeEvent:function(e,t,n){e.removeEventListener(t,n)},input:"",pattern:"38384040373937396665",keydownHandler:function(n){t.input+=n.keyCode,t.input.length>t.pattern.length&&(t.input=t.input.substr(t.input.length-t.pattern.length)),t.input===t.pattern&&(e(),t.input="")},load:function(){this.addEvent(document,"keydown",this.keydownHandler)},unload:function(){this.removeEvent(document,"keydown",this.keydownHandler)}}).load(),t))}unloadKonami(){this.konami&&(this.konami.unload(),this.konami=void 0)}renderComponent(){if(this.unlock)return(0,H.jsx)("img",{className:"nyan",style:{position:"fixed",top:"calc(50vh - 100px)",zIndex:1e3,left:"50%",animationName:"leftOrRight",animationDuration:"9s",animationIterationCount:"infinite",pointerEvents:"none",userSelect:"none"},src:ht.Z.images.nyancatGif})}}Ut.displayName="EasterEgg";const Zt=Ut;var Rt=n(15944),Bt=n(81415);const Vt=(0,b.defineMessages)({pressSlashHeader:{id:"EducationTooltips.pressSlash.header",defaultMessage:"Press {slashkey} for commands"}});function Nt(e){return(0,H.jsx)("div",{style:{background:c.ZP.whiteWithAlpha(.1),padding:3,paddingRight:8,paddingLeft:8,marginRight:6,marginLeft:6,borderRadius:4},children:e.char})}function Ot(){window.__c={n:"PressSlashTooltip"};const e=(0,U.O7)(),t=Rt.o();return(0,Z.VK)((()=>{const{currentUserSettingsStore:e}=L.default.state;var t;return!e||!e.isReady()||Boolean(null===(t=e.getSettings())||void 0===t?void 0:t.pressed_slash_tooltip)}),[])||e.device.isMobile||!t?null:(0,H.jsx)(Bt.U,{hideCloseButton:!0,origin:()=>t.getNode(),placementToOrigin:"bottom",header:(0,H.jsx)(b.FormattedMessage,{...Vt.pressSlashHeader,values:{slashkey:(0,H.jsx)(Nt,{char:"/"})}}),content:null,onCloseClick:()=>Rt.q(e)})}n(30541);var Ft=n(41432),zt=n(82855),Dt=n(16880),Wt=n(9953),Ht=n(3898),qt=n(42858),Kt=n(39699),Gt=n(69316),$t=n(83212),Yt=n(24666),Qt=n(68894),Xt=n(32302);function Jt(e){window.__c={n:"FindAndReplace"};const[t,n]=(0,i.useState)(""),o=(0,i.useCallback)((e=>{Gt.Z.setState({...Gt.Z.state,findQuery:e})}),[]),s=(0,Z.VK)((()=>Gt.Z.state),[]);return(0,H.jsx)("div",{children:s.open?(0,H.jsx)(en,{...e,find:s.findQuery,setFind:o,replace:t,setReplace:n}):null})}function en(e){window.__c={n:"FindAndReplaceComponent"};const{environment:t,pageStore:n,replace:o,setReplace:s,find:r,setFind:a}=e,[l,d]=(0,i.useState)(0);(0,i.useEffect)((()=>{d(-1),"empty"!==Yt.default.state.mode&&Yt.default.setState({mode:"empty"})}),[r,n]);const c=(0,Z.VK)((()=>function(e){const{pageStore:t,find:n}=e;if(!t||!t.getContentStores()||0===n.length)return[];const i=[],o=t.getContentStores();for(;o.length>0;){const e=o.shift(),t=null==e?void 0:e.getType();if(!e||!t)continue;const s=(0,Ft.XD)(t),r=e.getProperties();if(s&&r){const{title:t}=r,o=[...t?Je.Oqk({textValue:t,substring:n,ignoreCase:!0}).map((t=>({blockId:e.id,propertyType:"title",selection:t,blockStore:e}))):[]];o.length>0&&i.push(...o)}const a=e.getContentStores();a&&o.unshift(...a)}return i}({find:r,pageStore:n})),[r,n]),u=(0,i.useCallback)((async e=>{if(!c||0===c.length)return;const i="down"===e?1:-1,o=c[l+i],[s,r]=[c[0],c[c.length-1]];if(!s||!r)return;const a="down"===e?s:r;switch(e){case"down":d((e=>o?e+i:0));break;case"up":d((e=>o?e+i:c.length-1))}const u=(null==o?void 0:o.blockId)??a.blockId;await Ht.Nz(n,[u]),qt.WG(t,[u])}),[l,c,t,n]),p=(0,R.yK)((e=>({container:{position:"absolute",top:0,right:0,display:"grid",gridTemplateColumns:"repeat(4, auto)",gridTemplateRows:"repeat(3, auto)",flexDirection:"column",padding:10,margin:"3rem 2rem 0",gap:10,boxShadow:e.lightBoxShadow,backgroundColor:"white",zIndex:999,borderRadius:10}})),[]);return(0,H.jsxs)("div",{style:p.container,children:[(0,H.jsx)(tn,{currentSelectionIndex:l,totalResults:c.length,jumpToResultFn:u}),(0,H.jsx)(Qt.ZP,{value:r,itemMarginLeft:0,itemMarginRight:0,showClearButton:!0,onChange:e=>a(e.target.value),title:"input title",placeholder:"Find",style:{gridColumn:"1/3",gridRow:"1/1"},onSubmit:()=>u("down"),onCancel:()=>Xt.x(),focusInitial:!0},"find input element"),(0,H.jsx)(Qt.ZP,{value:o,itemMarginLeft:0,itemMarginRight:0,showClearButton:!0,onChange:e=>s(e.target.value),title:"input title",placeholder:"Replace",style:{gridColumn:"1/3",gridRow:"2/2"}},"replace input element"),(0,H.jsx)(z.Z,{onClick:()=>{},style:{gridArea:"3/1"},disabled:!0,children:"Replace"}),(0,H.jsx)(z.Z,{onClick:()=>{!function(e){const{find:t,replace:n,pageStore:i,environment:o}=e,s=null==i?void 0:i.getContentStores();if(!i||i.isLocked()||!s)return;for(;s.length>0;){var r,a;const e=s.shift();if(!e)continue;const i=$t.Z.getMode(o,e),l=e.canEdit()&&"comment"!==i.permission;if(i.permission,!l)continue;const d=null===(r=e.getModel())||void 0===r?void 0:r.type,c=null===(a=e.getModel())||void 0===a?void 0:a.getProperties();if(c&&d&&(0,Ft.XD)(d)){const i=c.title;if(!i)continue;for(const e of i)e[0]=e[0].replace(t,n);Kt.createAndCommit({userAction:"findAndReplaceAll",environment:o,perform:t=>{Wt.sW({store:e.getPropertiesStore(),data:{title:i},transaction:t})}})}const u=null==e?void 0:e.getContentStores();u&&s.unshift(...u)}}({find:r,replace:o,pageStore:n,environment:t})},style:{gridArea:"3/2"},children:"Replace All"})]})}function tn(e){const{jumpToResultFn:t,totalResults:n,currentSelectionIndex:i}=e;return(0,H.jsxs)("div",{style:{gridArea:"1/3",fontSize:".8rem",display:"flex",alignItems:"center",gap:"5px"},children:[(0,H.jsxs)("div",{style:{fontSize:".8rem",display:"flex",gap:"5px"},children:[(0,H.jsx)("span",{children:i+1}),(0,H.jsx)("span",{children:"of"}),(0,H.jsx)("span",{children:n})]}),(0,H.jsxs)("div",{children:[(0,H.jsx)("div",{style:{cursor:"pointer"},onClick:()=>t("up"),children:(0,Dt.R)({width:10,height:10})}),(0,H.jsx)("div",{style:{cursor:"pointer"},onClick:()=>t("down"),children:(0,zt.E)({width:10,height:10})})]})]})}var nn=n(21202),on=n(3297),sn=n(87279),rn=n(83941),an=n(68785),ln=n(78140),dn=n(32163),cn=n(50506),un=n(72495),pn=n(26673);class hn extends r.Z{constructor(){super(...arguments),this.didSingleWorkspaceFork=!1,this.isStatsigReady=this.createComputedStore((()=>lt.C.state.ready)),this.isDeviceEligibleForModalExperiment=this.createComputedStore((()=>!this.environment.device.isMobile))}didMountOrUpdate(){const e=(e,t,n,i)=>{this.didSingleWorkspaceFork=!0;return on.DK({environment:this.environment,store:e,spaceStore:t,spaceViewStore:n,isPrivate:i,context:"public_page_duplicate_single_workspace"})};if(!this.environment.currentUser.isLoggedIn()){const{environment:e}=this;return on.nM({currentUserId:void 0,blockId:this.props.blockId}),"public_page"!==this.props.from&&"notion_template_gallery"!==this.props.from||S.HU0(e,{from:this.props.from,is_paid:!1,template_block_id:this.props.blockId,public_page_device_id:this.props.tid}),void k.navigate({environment:e,url:m._j.login})}const{currentUserRootStore:t}=L.default.state;if(t&&t&&!this.didSingleWorkspaceFork){const n=A.G.createChildStore(t,{table:nn.iU,id:this.props.blockId}),i=pe.o(t);if(1===i.length){const t=i[0],o=t.getSpaceStore();if(!o)return;e(n,o,t,!0)}else if(this.props.workspaceId&&i.length>1){const t=i.filter((e=>e.pointer.spaceId===this.props.workspaceId))[0],o=null==t?void 0:t.getSpaceStore();if(!o)return;e(n,o,t,!0)}else if(this.isDeviceEligibleForModalExperiment.state&&this.isStatsigReady.state){(0,rn.Mr)({disableExposureLogging:!1})&&(ue.Z.setState({open:!0,blockStore:n,spaceStore:void 0,spaceViewStore:void 0,teamStore:void 0}),S.JJE(this.environment,{templateBlockId:this.props.blockId,from:this.props.from,numOfSpaceViews:i.length}),k.navigate({environment:this.environment,url:m._j.root,redirect:!0}))}}}renderComponent(){if(this.isDeviceEligibleForModalExperiment.state&&!this.isStatsigReady.state)return(0,H.jsx)(cn.Z,{open:!0,render:()=>(0,H.jsx)("div",{style:gn(this.environment),children:(0,H.jsx)(an.Z,{})})});const{device:e}=this.environment,{currentUserRootStore:t}=L.default.state;if(!t)return;const{mainEditorCurrentBlockStore:n}=L.default.state;if(!n)return;if(!n.isDefined())return;const i=[{key:"spaces",render:t=>(0,H.jsx)(un.Z,{title:e.isMobile?void 0:(0,H.jsx)(b.FormattedMessage,{id:"forkPageScreen.chooseWorkspaceForDuplication.message",defaultMessage:"Choose a workspace to duplicate into"}),isTitleUppercase:!0,...t}),items:pn.default.getSpaceViewMenuItems(this.environment,n,this.isDeviceEligibleForModalExperiment.state)}];let o;return o=e.isMobile?{menuType:sn.og.Modal,title:(0,H.jsx)(b.FormattedMessage,{id:"forkPageScreen.chooseWorkspace.message",defaultMessage:"Choose a workspace"}),width:"100vw"}:{menuType:sn.og.Popup,height:"auto"},(0,H.jsx)(cn.Z,{open:!0,render:()=>(0,H.jsx)("div",{style:gn(this.environment),children:(0,H.jsx)(ln.Z,{...o,children:(0,H.jsx)(dn.Z,{type:dn.i.Vertical,sections:i,initialFocus:1})})})})}}hn.displayName="ForkPageScreen";const mn=hn;function gn(e){const{device:t}=e;return{width:"100vw",height:"100vh",paddingLeft:t.isMobile?16:30,paddingRight:t.isMobile?16:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}var vn=n(81059),fn=n(24553),bn=n(35253),Sn=n(4708),yn=n(5382),wn=n(91754);function Cn(){window.__c={n:"InviteBannerListener"};const e=(0,U.Fy)(),t=(0,U.O7)(),n=(0,Z.VK)((()=>L.default.state.currentSpaceStore),[]),{isBannerVisible:o,bannerType:s}=(0,Z.VK)((()=>{if(e.isMobile)return{isBannerVisible:!1,bannerType:void 0};if(n&&!(0,Sn.fW)(t,{spaceStore:n}))return{isBannerVisible:!1,bannerType:void 0};const i=(0,He.getRedirectType)();return i&&["invite_page","invite_space"].includes(i||"")?{isBannerVisible:!0,bannerType:i}:{isBannerVisible:!1,bannerType:void 0}}),[e.isMobile,n,t]);return i.useEffect((()=>{if(o)switch(s){case"invite_page":bn.Bw({bannerStore:yn.Z,id:"InvitePageBanner",contentKey:"invite_page",styleKey:wn.v.PageNotification});break;case"invite_space":bn.Bw({bannerStore:yn.Z,id:"InviteSpaceBanner",contentKey:"invite_space",styleKey:wn.v.PageNotification})}return()=>{bn.qL({bannerStore:yn.Z,id:"InviteSpaceBanner"}),bn.qL({bannerStore:yn.Z,id:"InvitePageBanner"})}}),[o,s,t,n]),null}var kn=n(65556);function xn(){window.__c={n:"PageReloadConfirmationListener"};const e=(0,U.O7)();return(0,i.useEffect)((()=>{function t(t){S.f73(e,{reason:t})}return kn.showConfirmationDialogEventEmitter.addListener(t),()=>{kn.showConfirmationDialogEventEmitter.removeListener(t)}}),[e]),null}var Mn=n(82540),In=n(15145),_n=n(99553),jn=n(61045),Tn=n(43250),Ln=n(75079),En=n(78316),An=n(85957),Pn=n(45010),Un=n(18245),Zn=n(34859),Rn=n(4926),Bn=n(42330),Vn=n(82136),Nn=n(88923),On=n(42057),Fn=n(27724),zn=n(41464),Dn=n(23063),Wn=n(3386),Hn=n(4827),qn=n(53336),Kn=n(26957),Gn=n(88274),$n=n(31192),Yn=n(92996),Qn=n(7525),Xn=n(80503),Jn=n(34700);function ei(e){const{theme:t,isSidePeekOpen:n,borderRadius:i}=e;return{zIndex:n?oe.LI:oe.Bh,background:t.peekModalBackground,borderTopLeftRadius:i??5,borderTopRightRadius:i??5}}function ti(e){const{environment:t,padding:n,height:i}=e,o=t.device.isMobile?4:n??12;return{height:i??Xn.R6(t.device.isElectronMac)-1,display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:o,paddingRight:o}}function ni(e){return{...(0,Jn.X)({noDrag:e.device.isElectronMac}),display:"grid",gridAutoFlow:"column",gridColumnGap:2,alignItems:"center"}}var ii=n(73742),oi=n(91551);const si=new(n(61766).Z);var ri=n(98452),ai=n(99332),li=n(24612),di=n(73063),ci=n(58261),ui=n(26388),pi=n(22789),hi=n(73935),mi=n(42853),gi=n(11302),vi=n(58239);var fi=n(38755),bi=n(89728),Si=n(31278),yi=n(76798),wi=n(45653);const Ci={display:"flex",alignItems:"center",fontSize:14,minWidth:0};class ki extends r.Z{constructor(){super(...arguments),this.buttonEl=null,this.handleButtonMount=e=>{this.buttonEl=e},this.handleOpenPopup=e=>{if(e.preventDefault(),this.buttonEl){const e=hi.findDOMNode(this.buttonEl);e&&gi.bA({environment:this.environment,blocks:[this.props.store],originRect:e.getBoundingClientRect(),moveToContext:this.moveToContext.state,onAccept:this.handleMoveToAccept,isAddTo:!0,isDefaultPrivateLocation:_i(this.props.store),disableSuccessToast:!0,forceUntyped:(t=this.props.pageType,!t||"page"===t)})}var t},this.handleMoveToAccept=e=>{const{pageType:t,saveParent:n}=this.props,{currentSpaceStore:i}=L.default.state;if(i&&n){let n;!function(e){const{pageType:t,spaceStore:n,currentUserId:i,result:o}=e;(0,vi.rq)({currentUserId:i,spaceId:n.id,value:o}),t&&(0,vi.ZT)({currentUserId:i,spaceId:n.id,databaseType:Yn.wg[t],parent:o})}({pageType:n||t,spaceStore:i,currentUserId:this.environment.currentUser.id,result:e})}},this.moveToContext=this.createComputedStore((()=>{const e=L.default.state.mainEditorCurrentBlockStore;return e&&((0,Se.WE)(e)||(0,pe.qG)(e.id))?"aggregated_type":"quick_add"}))}renderComponent(){const{store:e,prefix:t,buttonStyle:n}=this.props,i=e.getParentStore();if(i&&!(i instanceof A.T5)&&!(i instanceof A.zq)&&!(i instanceof A.Vf)){const e=t?(0,H.jsx)("span",{style:{color:this.theme.mediumTextColor,marginRight:4},children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:t.defaultMessage,id:t.id})}):void 0;return(0,H.jsx)(Wn.Z,{capture:!0,onMoveTo:this.handleOpenPopup,children:(0,H.jsx)("div",{style:Ci,children:(0,H.jsx)(ui.Z,{renderTooltip:()=>(0,H.jsxs)("div",{children:[(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Set the default page or database",id:"peekMoveToMenu.tooltip"}),(0,H.jsx)("br",{}),(0,H.jsx)(ci.Z,{style:{color:this.theme.mediumInvertedTextColor},name:"moveTo"})]}),render:t=>(0,H.jsxs)(bi.Z,{onClick:this.handleOpenPopup,ref:this.handleButtonMount,shouldShrink:!0,style:n,...t,children:[(0,H.jsx)(Mi,{parentStore:i,prefixText:e}),(0,mi.i)({width:10,marginLeft:4,fill:this.theme.lightTextColor})]})})})})}}}function xi(e,t){return e&&e instanceof A.H2&&t&&e.id===t.id}function Mi(e){window.__c={n:"PeekMoveToPageName"};const{parentStore:t,prefixText:n}=e,i=(0,U.O7)(),o=(0,Z.VK)((()=>(0,pe.B7)(i)),[i]),s=(0,Z.VK)((()=>t instanceof A.G&&t.isEmptyPage()),[t]),r=(0,Z.VK)((()=>t instanceof A.H2?(0,fi.Wd)(i,t):t.getIcon()),[i,t]),a=(0,Z.VK)((()=>t instanceof A.H2?(0,fi.rn)(i,t):void 0),[i,t]),l=(0,Z.VK)((()=>{const{currentSpaceStore:e}=L.default.state;return xi(t,e)}),[t]),d=(0,R.yK)((()=>({privatePagesText:{fontWeight:N.Z.fontWeight.medium,marginLeft:4,...N.Z.textOverflowStyle,overflow:"hidden"},icon:{marginRight:4,marginTop:1},title:{fontWeight:N.Z.fontWeight.semibold}})),[]);return(0,H.jsx)(H.Fragment,{children:l?(0,H.jsxs)(H.Fragment,{children:[n,(0,H.jsx)(wi.Z,{size:22,avatarShouldShowShadow:!0,userStore:o}),(0,H.jsx)("span",{style:d.privatePagesText,children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Private pages",id:"peekMoveToMenu.addTo.privatePages"})})]}):(0,H.jsxs)(H.Fragment,{children:[n,(0,H.jsx)(Si.Z,{disabled:!0,icon:r,isEmptyPage:s,title:a,size:18,style:d.icon}),(0,H.jsx)(yi.Z,{style:d.title,store:t})]})})}ki.displayName="PeekMoveToMenu";const Ii=ki;function _i(e){const t=e.getParentStore(),{currentSpaceStore:n}=L.default.state;return xi(t,n)}var ji=n(3553),Ti=n(36997),Li=n(79075),Ei=n(96677),Ai=n(10137),Pi=n(63437),Ui=n(68626),Zi=n(64530),Ri=n(91155),Bi=n(8406),Vi=n(5149),Ni=n(48543),Oi=n(98165),Fi=n(52275),zi=n(31945),Di=n(16354),Wi=n(53437),Hi=n(49085),qi=n(13148),Ki=n(3418);const Gi=165888e7;class $i extends r.Z{constructor(){super(...arguments),this.storeTypes={visible:Hi.default.createClass(!1)},this.timeout=void 0,this.renderPopup=()=>(0,H.jsxs)("div",{style:{fontSize:12,color:c.ZP.white,position:"absolute",top:"calc(100% + 12px)",left:"calc(50% - 110px)",background:c.ZP.blue,borderRadius:6,padding:"8px 12px 12px 12px",width:220,boxShadow:this.theme.largeLightBoxShadow,zIndex:99},children:[(0,H.jsx)("div",{style:{position:"absolute",top:-12,left:"calc(50% - 2.5px)",background:c.ZP.blue,width:5,height:5,borderRadius:5,boxShadow:`0 0 0 1.5px ${this.theme.contentBackground}`}}),(0,H.jsx)("div",{style:{position:"absolute",top:-12,left:"calc(50% - 1px)",background:c.ZP.blue,width:2,height:12}}),(0,H.jsx)("div",{style:{width:"90%",fontWeight:500,marginBottom:2},children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"New! Open pages in side peek",id:"peekModeIntroTooltip.title"})}),(0,H.jsx)("div",{style:{opacity:.8,lineHeight:1.35},children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Use Tables, Boards, Lists and Timelines while opening pages on the side for faster workflows. Switch to other peek modes here.",id:"peekModeIntroTooltip.subtitle"})}),(0,H.jsx)(di.Z,{icon:qi.U,style:{position:"absolute",top:4,right:4,opacity:.8},iconStyle:{width:12,fill:c.ZP.white},onClick:this.handleCloseClick})]}),this.handleCloseClick=()=>{_n.Om({environment:this.environment,seen:!0})}}UNSAFE_willMountOrUpdate(){(function(e){const{device:t}=e;if(t.isPhone)return!1;if(Ki.Z.state.openPopups.size>0)return!1;const{currentUserSettingsStore:n}=L.default.state;if(!n||!n.isReady())return!1;const i=n.getSettings();if(null!=i&&i.signup_time&&(null==i?void 0:i.signup_time)>Gi)return!1;if(null!=i&&i.seen_peek_mode_tooltip)return!1;return!0})(this.environment)?(clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.stores.visible.setState(!0)}),500)):(clearTimeout(this.timeout),this.stores.visible.setState(!1))}renderComponent(){const{origin:e}=this.props,{visible:t}=this.stores,{device:n}=this.environment;return n.isMobile?e:(0,H.jsxs)("div",{style:{position:"relative"},children:[e,(0,H.jsx)(Dn.Z,{isVisible:t.state,animationStyle:{opacity:1},enterAnimationStyle:{opacity:0},exitAnimationStyle:{opacity:0},render:this.renderPopup})]})}}$i.displayName="PeekModeIntroTooltip";const Yi=(0,b.injectIntl)($i);const Qi=(0,b.defineMessages)({changeForThisView:{id:"peekTopbar.changePeekOption.changeForThisView",defaultMessage:"Edit view default"}});class Xi extends r.Z{constructor(){super(...arguments),this.handlePeekModePickerClick=()=>{if(!Nn.default.state.open)return;const e=Nn.default.state.collectionContextStore;e?Bi.nS({environment:this.environment,collectionContextStore:e,from:"peek_topbar",peek_target_id:Nn.default.state.target.id,from_peek_mode:Nn.default.state.mode}):S.v2k(this.environment,{from:"peek_topbar",peek_target_id:Nn.default.state.target.id,from_peek_mode:Nn.default.state.mode})}}UNSAFE_willMount(){const e=eo(this.theme),t=Nn.default.getPeekMode();e.find((e=>Xe.Xy(e.key,t)))||Ui.log({level:"warning",from:"TopbarPeekModeButton",type:"InvalidSelectedPeekMode",error:(0,Ri.Ui)("Selected key is invalid.")})}renderComponent(){const{device:e}=this.environment,{mainEditorCurrentBlockStore:t}=L.default.state,n=eo(this.theme),i=Nn.default.getPeekMode();return i?(0,H.jsx)(zi.ZP,{popupType:e.isMobile?Wi.kQ.SlideUp:Wi.kQ.Popup,alignmentToOrigin:zi.vR.Center,placementToOrigin:zi.pO.Bottom,style:{minWidth:190},originGap:0,onClick:this.handlePeekModePickerClick,renderOrigin:e=>(0,H.jsx)(Yi,{origin:(0,H.jsx)(ui.Z,{renderTooltip:()=>(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Switch peek mode",id:"peekTopbar.openPagesAs.button"})}),render:t=>(0,H.jsx)(di.Z,{...e,...t,icon:(0,Ni.RO)(i),iconStyle:{fill:this.theme.mediumIconColor}})})}),render:o=>{var s,r,a;let l;l=e.isMobile?{menuType:sn.og.ActionSheet}:{menuType:sn.og.Popup,width:220};const d=Xe.oA([...n.map(((e,t)=>{const n=e.key,s="full_page"===n?(0,It.ZP)({store:this.props.store,fullyQualified:!1,pageVisitSource:In.tY.Expand}):function(e,t){const{mainEditorCurrentBlockStore:n}=L.default.state,i=Oi.uJ(t),o=t.isNavigableBlock()?i.slice(1):[...i],s=o.length>0?o[0]:void 0;return(0,En.mb)({store:t,mainEditorCurrentBlockStore:s instanceof A.G&&!Nn.default.state.open?s:n,collectionContextStore:Nn.default.state.collectionContextStore,fullyQualified:!1,overridePeekMode:(0,Nn.getPeekModeFromCollectionPeekModeFormat)(e)})}(n,this.props.store);return{key:t,render:t=>(0,H.jsx)(Di.Z,{href:s,onClick:()=>{var e;_n.Om({environment:this.environment,seen:!0}),S.UZT(this.environment,{from:"peek_topbar",peek_mode:n,from_peek_mode:i,target_page_id:null===(e=Nn.default.peekTarget.state)||void 0===e?void 0:e.id}),o.close()},children:(0,H.jsx)(Fi.Z,{...t,disabled:!1,title:e.title,icon:e.icon,caption:e.caption,body:e.body,checkState:Xe.Xy(e.key,i)})}),action:()=>{}}}))]),c=Nn.default.state.open?Nn.default.state.collectionContextStore:void 0,u=Nn.default.state.open?Nn.default.state.target:void 0,p=t&&t.id===(null==c||null===(s=c.collectionViewBlockStore())||void 0===s?void 0:s.getRecordStoreUIRoot().id),h=(null==c||null===(r=c.collectionStore())||void 0===r?void 0:r.id)===(null==u||null===(a=u.getAssociatedCollectionStore())||void 0===a?void 0:a.id)&&(null==c?void 0:c.permissionScopes.state.canConfigureBlock)&&p;return(0,H.jsx)(ln.Z,{...l,children:(0,H.jsx)(dn.Z,{type:dn.i.Vertical,sections:Xe.oA([{key:0,render:e=>(0,H.jsx)(un.Z,{enableActionSheetTitle:!0,...e}),items:d},h&&{key:1,render:e=>(0,H.jsx)(un.Z,{enableActionSheetTitle:!0,topBorder:!0,...e}),items:[{key:"change_for_view",render:e=>(0,H.jsx)(Fi.Z,{...e,disabled:!1,title:jt.default.formatMessage(Qi.changeForThisView),icon:(0,Zi.y)({width:16,height:16,fill:this.theme.regularIconColor})}),action:e=>{!function(e,t){const n=Nn.default.state.open?Nn.default.state.collectionContextStore:void 0;n&&(_n.Om({environment:e,seen:!0}),Nn.default.isCenterPeekOpen()&&t&&t(),Vi.r$({collectionContextStore:n,collectionSettingsStore:n.settingsStore}),Vi.H4({collectionSettingsStore:n.settingsStore,item:{type:"layout"}}),n.settingsStore.setState({...n.settingsStore.state,openButtonPopup:"peekModeFormat"}))}(this.environment,this.props.onClose),o.close()}}]}]),initialFocus:0})})}}):null}}Xi.displayName="TopbarPeekModeButton";const Ji=Xi;function eo(e){return["side_peek","center_peek","full_page"].map((t=>({key:t,title:(0,Ni.LQ)(t),icon:(0,Ni.RO)(t)({width:16,fill:e.mediumTextColor})})))}var to=n(58810);const no=function(e){window.__c={n:"TopbarPeekOpenAsPageButton"};const{store:t,shouldShowMoveToMenu:n}=e,o=(0,U.O7)(),s=(0,b.useIntl)(),r=(0,Z.VK)((()=>(0,It.ZP)({store:t,fullyQualified:!1,pageVisitSource:In.tY.Expand})),[t]),a=(0,R.yK)((e=>({keyboardShortcut:{color:e.mediumInvertedTextColor},iconButtonWrapper:{height:24}})),[]),l=(0,i.useCallback)((()=>{var e,t,i;S.sxo(o,{isNewPage:n,peek_mode:Nn.default.state.mode,from:"topbar_button",target_page_id:null===(e=Nn.default.peekTarget.state)||void 0===e?void 0:e.id}),S.$CH(o,{peek_mode:Nn.default.state.mode,from:"topbar_open_as_page_button",target_page_id:null===(t=Nn.default.peekTarget.state)||void 0===t?void 0:t.id,target_parent_id:null===(i=Nn.default.peekTarget.state)||void 0===i?void 0:i.getParentId()})}),[o,n]);return(0,H.jsx)(ui.Z,{renderTooltip:()=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Open in full page",id:"peekTopbar.navigateToPage.tooltip"})}),(0,H.jsx)(ci.Z,{style:a.keyboardShortcut,name:"commandEnter"})]}),render:e=>(0,H.jsx)("div",{style:a.iconButtonWrapper,children:(0,H.jsx)(di.Z,{...e,icon:to.Z,iconStyle:{width:16,height:16},href:r,onClick:l,ariaLabel:s.formatMessage({id:"peekTopbar.navigateToPage.tooltip",defaultMessage:"Open in full page"})})})})};var io=n(67485),oo=n(12253),so=n(19368),ro=n(23727);const ao=(0,b.defineMessages)({moveToPrefixText:{id:"peekMoveToMenu.addTo.addTo",defaultMessage:"Add to"}});const lo=function(e){let{store:t,shouldShowMoveToMenu:n,onClose:i,spaceStore:o,spaceViewStore:r,pageVisitStore:a,presenceStore:l}=e;window.__c={n:"PeekTopbar"};const d=(0,R.Fg)(),c=(0,U.O7)(),u=(0,Z.VK)((()=>Nn.default.isSidePeekOpen()),[]),p=(0,Z.VK)((()=>oi.Z.state.banners),[]);return(0,H.jsx)(ji.Z,{store:t,disableRectangularSelection:!0,disableEditNearestBlock:!0,isPeekRenderer:!0,render:e=>{let{selectableEvents:h}=e;return(0,H.jsxs)("div",{...h,style:ei({theme:d,isSidePeekOpen:u}),children:[(0,H.jsxs)("div",{style:ti({environment:c}),children:[(0,H.jsxs)("div",{style:ni(c),children:[(0,H.jsx)(po,{onClose:i}),(0,H.jsx)(no,{store:t,shouldShowMoveToMenu:n}),Nn.default.state.open&&(0,H.jsx)(Ji,{store:t,onClose:i}),(0,H.jsx)(ho,{shouldShowMoveToMenu:n}),(0,H.jsx)(co,{store:t,shouldShowMoveToMenu:n}),(0,H.jsx)(pi.Z,{store:t,isMobile:!1,buttonStyle:{...!n&&{marginLeft:12}}})]}),(0,H.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,H.jsx)(uo,{store:t,spaceStore:o,spaceViewStore:r,pageVisitStore:a,presenceStore:l})]}),(0,H.jsx)(s.LazyBannersRenderer,{banners:p,isMobile:!1,isInPeekRenderer:!0})]})}})};function co(e){let{store:t,shouldShowMoveToMenu:n}=e;window.__c={n:"MoveToMenu"};const[i,o]=(0,Z.VK)((()=>[Nn.default.state.open,!!Nn.default.state.open&&Nn.default.state.saveParent]),[]),s=(0,Z.VK)((()=>{const e=t.getParentCollectionStore();return(null==e?void 0:e.getDatabaseType())===Yn.iS?"tasks":void 0}),[t]);return i&&n?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Pi.Z,{}),(0,H.jsx)(Ii,{store:t,saveParent:o,prefix:ao.moveToPrefixText,pageType:s})]}):null}function uo(e){let{store:t,spaceStore:n,spaceViewStore:i,pageVisitStore:o,presenceStore:s}=e;window.__c={n:"ActionButtons"};const r=(0,U.O7)(),{device:a}=r,l=(0,Z.VK)((()=>(0,ge.IJ)(r,t)),[r,t]),d=(0,Z.VK)((()=>pe.qG(t.id)),[t]),c=!a.isMobile&&n&&i&&!l&&!d,u=(0,Z.VK)((()=>Boolean(n&&!n.canEdit())),[n]),p=(0,Z.VK)((()=>t.canEdit()),[t]),h=(0,Z.VK)((()=>t.isRestricted()),[t]),m=n&&i&&!l&&(0,Ti.UP)({isSpaceGuest:u,canEditPage:p})&&!d;return(0,H.jsxs)("div",{style:{display:"flex",alignItems:"stretch",flexGrow:0,flexShrink:0,zIndex:1},children:[h&&(0,H.jsx)(oo.Z,{style:{marginRight:14},onClick:()=>{ai.Z.setState({open:!0})}}),p&&(0,H.jsx)(io.Z,{rootStore:t,pageVisitStore:o,presenceStore:s}),m&&(0,H.jsx)(so.Z,{store:t,buttonPopupStore:ai.Z}),c&&(0,H.jsx)(Li.Z,{blockStore:t,spaceStore:n,buttonPopupStore:si}),c&&(0,H.jsx)(ro.Z,{blockStore:t,spaceStore:n,buttonPopupStore:li.Z}),n&&i&&!l&&(0,H.jsx)(Ei.Z,{store:t,spaceViewStore:i}),d&&(0,H.jsx)(ii.Z,{}),c&&(0,H.jsx)(Ai.Z,{store:t,buttonPopupStore:ri.Z})]})}function po(e){let{onClose:t}=e;window.__c={n:"PeekCloseComponent"};const n=(0,R.Fg)();return(0,Z.VK)((()=>Nn.default.isSidePeekOpen()),[])?(0,H.jsx)(ui.Z,{renderTooltip:()=>(0,H.jsxs)("div",{children:[(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Close",id:"peekTopbar.close.button"}),(0,H.jsx)("br",{}),(0,H.jsx)(ci.Z,{style:{color:n.mediumInvertedTextColor},name:"esc"})]}),render:e=>(0,H.jsx)(di.Z,{...e,icon:Qn.t,iconStyle:{width:16,height:16},onClick:()=>t("close_button")})}):null}function ho(e){let{shouldShowMoveToMenu:t}=e;window.__c={n:"PeekNavArrowsComponent"};const n=(0,R.Fg)(),i=(0,Z.VK)((()=>Nn.default.state),[]),{resultsStore:o}=i,s=(0,Z.VK)((()=>null==o?void 0:o.getState()),[o]);if(!i.open)return null;if(t)return null;const r=i.target.id;return s&&s.length>0&&s.some((e=>e.id===r))?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Pi.Z,{}),(0,H.jsx)(ui.Z,{renderTooltip:()=>(0,H.jsxs)("div",{children:[(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Previous page",id:"peekTopbar.peekNavUpArrow.tooltip"}),(0,H.jsx)("br",{}),(0,H.jsx)(ci.Z,{style:{color:n.mediumInvertedTextColor},name:"peekUp"})]}),render:e=>(0,H.jsx)(di.Z,{...e,disabled:r===s[0].id,icon:Dt.R,onClick:()=>k.goUpInPeekMode(),iconStyle:{fill:n.mediumIconColor}})}),(0,H.jsx)(ui.Z,{renderTooltip:()=>(0,H.jsxs)("div",{children:[(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Next page",id:"peekTopbar.peekNavDownArrow.tooltip"}),(0,H.jsx)("br",{}),(0,H.jsx)(ci.Z,{style:{color:n.mediumInvertedTextColor},name:"peekDown"})]}),render:e=>(0,H.jsx)(di.Z,{...e,disabled:r===s[s.length-1].id,icon:zt.E,onClick:()=>k.goDownInPeekMode(),iconStyle:{fill:n.mediumIconColor}})})]}):null}var mo=n(78901),go=n(55064);function vo(){window.__c={n:"CenterPeekRenderer"};const{open:e}=(0,Z.VK)((()=>Nn.default.state),[]),t=(0,Z.VK)((()=>Rn.Z.state),[]),n=(0,R.yK)((e=>({containerStyles:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:oe.Nn,background:e.overlaySmokescreen},contentStyles:{...wo(e),top:Nn.PeekModeOuterPadding,left:Nn.PeekModeOuterPadding,right:Nn.PeekModeOuterPadding,marginRight:"auto",height:`calc(100% - ${Nn.PeekModeOuterPadding}px*2)`,maxWidth:Nn.CenterPeekModeOuterWidth+t,borderRadius:4}})),[t]);return(0,H.jsx)(Hn.Z,{open:e,children:(0,H.jsx)(So,{enableCaptureClick:!0,horizontalPadding:Nn.PeekModePadding.horizontal[Nn.PeekModeCenter],priority:void 0,showResizer:!1,styles:n})})}function fo(){window.__c={n:"SidePeekRenderer"};const e=(0,U.O7)(),t=(0,Z.VK)((()=>Nn.default.state),[]),n=(0,Z.VK)((()=>Nn.default.getSidePeekWidth(e.WindowSizeStore.state.width)),[e]),i=(0,R.yK)((e=>({containerStyles:{position:"fixed",top:0,right:0,bottom:0,translateX:n,width:n,zIndex:oe.YO},contentStyles:{...wo(e),top:0,right:0,width:"100%",height:"100%",borderRadius:0}})),[n]);return(0,H.jsx)(Dn.Z,{isVisible:!0,useCompositeLayer:!0,animationStyle:{translateX:t.open&&!t.isClosing?0:n},springConfig:{translateX:{stiffness:t.open&&t.isClosing?50:80,precision:1}},render:()=>(0,H.jsx)(So,{enableCaptureClick:!1,horizontalPadding:Nn.PeekModePadding.horizontal[Nn.PeekModeSide],priority:-1,showResizer:!0,styles:i}),enterAnimationStyle:{translateX:t.open?0:n},onAnimationEnd:()=>{t.open&&t.isClosing?(Nn.default.setState({...t,isClosing:!1}),_n.ME()):t.open&&t.isOpening&&Nn.default.setState({...t,isOpening:!1})}})}function bo(){window.__c={n:"SideAndCenterPeekTopbar"};const e=(0,U.O7)(),t=(0,Z.VK)((()=>Nn.default.state),[]),{currentSpaceStore:n,currentSpaceViewStore:i}=(0,Z.VK)((()=>L.default.state),[]);return t.open?(0,H.jsx)(lo,{store:t.target,spaceStore:n,spaceViewStore:i,pageVisitStore:t.pageVisitStore,presenceStore:t.presenceStore,shouldShowMoveToMenu:t.showMoveTo,onClose:t=>{xo(e,t)}}):null}function So(e){window.__c={n:"PeekContainer"};const{priority:t}=e,n=(0,U.O7)(),o=(0,Z.VK)((()=>Nn.default.state),[]),{shouldShowFrame:s}=(0,Z.VK)((()=>(0,pe.h1)(n)),[n]),r=(0,Z.VK)((()=>An.Tx()),[]),a=(0,Z.VK)((()=>o.open&&0===Fn.default.state.stores.length&&!Fn.default.state.pivot&&"editing"!==Yt.default.state.mode&&!Bn.ZP.state.isOpen),[o.open]),l=(0,i.useCallback)((()=>{Mo(n)}),[n]),d=(0,i.useCallback)((()=>{!function(e){Nn.default.peekTarget.state&&(k.navigateToBlock({environment:e,store:Nn.default.peekTarget.state,pageVisitSource:In.tY.Expand}),S.sxo(e,{isNewPage:Nn.default.state.open&&Nn.default.state.showMoveTo,peek_mode:Nn.default.state.mode,from:"command_enter",target_page_id:Nn.default.peekTarget.state.id}),S.$CH(e,{peek_mode:Nn.default.state.mode,from:"command_enter",target_page_id:Nn.default.peekTarget.state.id,target_parent_id:Nn.default.peekTarget.state.getParentId()}))}(n)}),[n]);return s?o.open?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(zn.Z,{priority:t,capture:r}),(0,H.jsx)(Wn.Z,{capture:a,onEsc:l,onCommandEnter:d,children:(0,H.jsx)(yo,{...e})},o.target.id)]}):(0,H.jsx)(yo,{...e}):null}function yo(e){window.__c={n:"PeekContentContainer"};const{enableCaptureClick:t,bottomBar:n,horizontalPadding:o,showResizer:s,styles:r}=e,a=(0,i.useRef)(void 0);Pn.Z.PeekViewScroller=a.current;const l=(0,b.useIntl)(),d=(0,U.O7)(),c=(0,Z.VK)((()=>Nn.default.state),[]),u=(0,Z.SI)((()=>c.open?$t.Z.getMode(d,c.target):$t.m.disabled),[d,c]),p=(0,Z.VK)((()=>{if(!c.open)return;const{currentSpaceStore:e,currentSpaceViewStore:t}=L.default.state;return{pageStore:c.target,spaceStore:e,spaceViewStore:t,presenceStore:c.presenceStore,pageVisitStore:c.pageVisitStore,publicEditModeStore:u}}),[c,u]),h=(0,i.useCallback)((()=>{Mo(d)}),[d]),m=(0,i.useCallback)((e=>{let{startTime:t,endTime:n}=e;const i=c.open?En.fm(c.target):void 0;Un.default.measure({metricName:"collections.max_scroll_lag_in_session",startTime:t,endTime:n},{environment:d,data:Ln.vS(i)})}),[d,c]),g=(0,i.useCallback)((()=>{!function(e){xo(e,"empty_space_click")}(d)}),[d]);return(0,H.jsx)(Mn.Mi,{value:p,children:(0,H.jsx)("div",{role:"region","aria-label":l.formatMessage({id:"peekRenderer.ariaLabel",defaultMessage:"Side Peek"}),"aria-hidden":!c.open||void 0,style:r.containerStyles,className:Tn.p1Q,children:c.open&&(0,H.jsxs)(H.Fragment,{children:[t&&(0,H.jsx)("div",{style:{width:"100%",height:"100%"},onClick:g}),(0,H.jsxs)("div",{style:r.contentStyles,children:[s&&(0,H.jsx)(go.Z,{type:"peek"}),(0,H.jsx)(bo,{}),(0,H.jsx)(ji.Z,{store:c.target,isDefaultContainer:!0,droppable:!0,isPeekRenderer:!0,render:e=>{let{selectableEvents:t,selectableHoverMenuOverlay:n}=e;return(0,H.jsx)(i.Suspense,{fallback:(0,H.jsx)(Kn.Z,{peekMode:Nn.default.getPeekMode(),isVisible:!0,store:c.target}),children:(0,H.jsx)(Gn.Z,{pageStore:c.target,pageVisitStore:c.pageVisitStore,initialChunkSize:25,incrementChunkSize:25,store:c.loadingContainerStore,render:e=>{let{ready:s,initialRequestCompleted:r,endOfResultsReached:l,isCollectionInPage:p}=e;return(0,H.jsxs)(i.Fragment,{children:[(0,H.jsxs)(qn.Z,{ref:a,onScrollLagMeasure:p?m:void 0,preventType:s?jn.Q7(d):Zn.Z.All,type:Zn.Z.Y,style:{display:"flex",flexDirection:"column",flexGrow:1,position:"relative",transform:"translateZ(0)",...s?{}:Co},store:On.Z,...t,children:[n,(0,he.GD)(u.state)&&(0,H.jsx)(ae.GC,{scrollerStore:On.Z}),r&&(0,H.jsxs)(i.Fragment,{children:[(0,H.jsx)($n.Z,{context:Vn.S.PeekView,loadingContainerStore:c.loadingContainerStore,store:c.target,onTitleEsc:h,forceSelectTitleOnMount:!0,paddingLeft:o,paddingRight:o,paddingBottom:80,pageCoverHeight:"20vh",disabled:!c.open||c.isClosing}),(0,H.jsx)(mo.Z,{pageVisitStore:c.pageVisitStore,presenceStore:c.presenceStore,isPeekView:!0})]}),s&&!l&&(0,H.jsx)(an.Z,{style:{zIndex:1,opacity:.5,width:ko,height:ko,marginTop:0,marginBottom:24,marginLeft:"auto",marginRight:"auto"}})]}),(0,H.jsx)(Kn.Z,{peekMode:Nn.default.getPeekMode(),isVisible:!s,store:c.target})]})}})})}},c.target.id),n]})]})})})}function wo(e){return{flexDirection:"column",position:"absolute",display:"flex",marginLeft:"auto",background:e.peekModalBackground,boxShadow:e.largeLightBoxShadow}}const Co={opacity:0,pointerEvents:"none",height:0},ko="1.375em";function xo(e,t){_n.xv(e,t)}function Mo(e){xo(e,"esc")}const Io=function(){window.__c={n:"PeekRenderer"};const e=(0,U.O7)(),t=(0,i.useCallback)((()=>{Nn.default.state.open&&Nn.default.isSidePeekOpen()&&(we.toggleLeftSidebarByWindowSize(e),Nn.default.setState({...Nn.default.state,isOpening:!1}))}),[e]);switch((0,i.useEffect)((()=>(e.WindowSizeStore.addListener(t),e.WindowSizeStore.removeListener(t))),[e.WindowSizeStore,t]),(0,Z.VK)((()=>Nn.default.getPeekMode()),[])){case Nn.PeekModeCenter:return(0,H.jsx)(vo,{});case Nn.PeekModeSide:return(0,H.jsx)(fo,{})}};var _o=n(20993),jo=n(64275),To=n(55449),Lo=n(15157),Eo=n(60113);var Ao=n(23586);const Po=(0,b.defineMessages)({"7e89f436-7aac-4f66-b0a6-6e65ec868d2a.a.title":{defaultMessage:"Import your workspace (A)",id:"templateChecklist.quickNote.a.title"},"7e89f436-7aac-4f66-b0a6-6e65ec868d2a.a.description":{defaultMessage:"See your docs and wiki in action (A)",id:"templateChecklist.quickNote.a.description"},"7e89f436-7aac-4f66-b0a6-6e65ec868d2a.b.title":{defaultMessage:"Import your workspace (B)",id:"templateChecklist.quickNote.b.title"},"7e89f436-7aac-4f66-b0a6-6e65ec868d2a.b.description":{defaultMessage:"See your docs and wiki in action (B)",id:"templateChecklist.quickNote.b.description"},"7e89f436-7aac-4f66-b0a6-6e65ec868d2a.c.title":{defaultMessage:"Import your workspace (C)",id:"templateChecklist.quickNote.c.title"},"7e89f436-7aac-4f66-b0a6-6e65ec868d2a.c.description":{defaultMessage:"See your docs and wiki in action (C)",id:"templateChecklist.quickNote.c.description"}});function Uo(e){return`templateChecklist--${e}--visible`}class Zo extends Hi.default{getInitialState(){return{open:!0}}}const Ro=new Zo;class Bo extends Hi.default{getInitialState(){return{templateChecklistRecord:void 0,completed:!1,hide:!1}}}const Vo=Bo;class No extends Hi.default{getInitialState(){return{step:"list",templateChecklistRecord:void 0}}}const Oo=No;var Fo=n(64921),zo=n(15047);const Do=e=>{let{percentComplete:t=.33}=e;return(0,H.jsx)("div",{style:{height:4,width:288,borderRadius:10,backgroundColor:"#E7E6E5"},children:(0,H.jsx)("div",{style:{height:4,width:288*t+"px",borderRadius:10,position:"relative",backgroundColor:"#2383E2"}})})};const Wo=function(e){window.__c={n:"TemplateChecklistHeader"};const{headerStyle:t}=(0,R.yK)((e=>({headerStyle:{paddingTop:12,paddingBottom:12,color:e.regularTextColor,fontWeight:N.Z.fontWeight.semibold,fontSize:17,lineHeight:1.4}})),[]),{useCase:n}=e;return(0,H.jsxs)("div",{children:[(0,To.L)({height:24,width:24}),(0,H.jsx)("div",{style:t,children:Ho(n)}),(0,H.jsx)(Do,{...e})]})};function Ho(e){switch(e){case"wiki":return(0,H.jsx)(b.FormattedMessage,{id:"templateChecklistHeader.useCaseHeader.wiki",defaultMessage:"Getting started with wikis & docs"});case"doc_notes":case"notes":return(0,H.jsx)(b.FormattedMessage,{id:"templateChecklistHeader.useCaseHeader.notes",defaultMessage:"Getting started with notes"});case"bookmarks":return(0,H.jsx)(b.FormattedMessage,{id:"templateChecklistHeader.useCaseHeader.databases",defaultMessage:"Getting started with databases"});case"project_management":return(0,H.jsx)(b.FormattedMessage,{id:"templateChecklistHeader.useCaseHeader.projectManagement",defaultMessage:"Getting started with projects & tasks"});default:return(0,H.jsx)(b.FormattedMessage,{id:"templateChecklistHeader.useCaseHeader.default",defaultMessage:"Getting started with Notion"})}}var qo=n(5257),Ko=n(60458);class Go extends r.Z{constructor(){super(...arguments),this.showingMore=Hi.default.createValue(!1)}renderComponent(){const{title:e,description:t}=this.props;return(0,H.jsxs)("div",{style:{paddingTop:12,display:"flex",flexDirection:"row",width:"100%",...this.showingMore.state?{borderBottom:"1px solid #ECEBEA",marginBottom:12,paddingBottom:12}:{}},children:[(0,H.jsx)("div",{style:{paddingRight:10},children:(0,H.jsx)(Ko.Z,{size:22,checked:this.props.checked,onClick:()=>this.props.onClick(),round:!0,fill:c.ZP.white})}),(0,H.jsxs)("div",{style:{width:"100%",paddingRight:"14px"},children:[(0,H.jsxs)("div",{style:{fontSize:14,fontWeight:N.Z.fontWeight.semibold,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e,(0,H.jsx)("span",{onClick:()=>this.showingMore.setState(!this.showingMore.state),children:this.showingMore.state?(0,mi.i)({height:11,width:11,display:"inline"}):(0,qo.o)({height:11,width:11,display:"inline"})})]}),this.showingMore.state&&(0,H.jsx)("div",{style:{fontSize:14,color:this.theme.mediumTextColor},children:t})]})]})}}Go.displayName="TemplateChecklistStep";const $o=Go,Yo={display:"flex",alignItems:"center",flexDirection:"column"};class Qo extends r.Z{constructor(){super(...arguments),this.completed=Hi.default.createValue(!1),this.handleCancel=()=>{this.props.onCancel()}}renderComponent(){return(0,H.jsx)(Dn.Z,{isVisible:Ro.state.open,enterAnimationStyle:{opacity:1,scale:1},exitAnimationStyle:{opacity:0,scale:.95},render:()=>{return(0,H.jsxs)("div",{style:(e=this.theme,{...Yo,cursor:"default",padding:16,textAlign:"left",justifyContent:"start",background:e.popoverBackground,borderRadius:4,boxShadow:e.lightBoxShadow,position:"absolute",bottom:65+Rn.Z.state,right:16+Rn.Z.state,width:325,height:400,zIndex:oe.hT,clipPath:"inset(-10px -10px -10px -10px)"}),children:[this.renderCancel(),this.renderStep()]});var e}})}renderCancel(){return(0,H.jsx)(Fo.Z,{onClick:this.handleCancel,style:(e=this.theme,{position:"absolute",top:"10px",right:"10px",background:e.buttonHoveredBackground,borderRadius:"100%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center"}),hoveredStyle:{background:this.theme.buttonPressedBackground},children:(0,jo.D)({width:14,fill:this.theme.mediumTextColor})});var e}renderStep(){const e=this.props.templateChecklistStore.state.templateChecklistRecord;if(null==e||!e.isDefined())return;const t=e.getStepsCompleted().length!==e.getSteps().length;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Dn.Z,{isVisible:t,enterAnimationStyle:{opacity:1},exitAnimationStyle:{opacity:0},onAnimationEnd:()=>{this.completed.setState(!0),Xe.gw((()=>{Ro.setState({open:!1}),this.props.onComplete()}),2e3)},render:()=>(0,H.jsx)(Jo,{templateChecklist:e})}),(0,H.jsx)(Dn.Z,{isVisible:!t&&this.completed.state,enterAnimationStyle:{opacity:1},exitAnimationStyle:{opacity:0},render:()=>(0,H.jsx)(ns,{})})]})}}Qo.displayName="TemplateChecklist";const Xo=Qo;function Jo(e){let{templateChecklist:t}=e;window.__c={n:"StepContentComponent"};const n=(0,U.O7)(),i=(0,Z.VK)((()=>null==t?void 0:t.isDefined()),[t]),o=(0,Z.VK)((()=>t.getStepsCompleted()),[t]),s=(0,Z.VK)((()=>t.getSteps()),[t]),r=(0,Z.VK)((()=>t.getCopiedFrom()),[t]);return(0,H.jsxs)("div",{children:[(0,H.jsx)("div",{style:{paddingBottom:8,width:"100%"},children:(0,H.jsx)(Wo,{percentComplete:o.length/s.length,useCase:zo.rz})}),s.map((e=>{if(!i||!r)return null;const{title:s,description:a}=function(e,t){const n=Po[`${e}.${t}.title`],i=Po[`${e}.${t}.description`];if(!n||!i)throw new Error(`No title or description for ${e} at step ${t}`);return{title:n,description:i}}(r,e);return(0,H.jsx)($o,{title:(0,H.jsx)(b.FormattedMessage,{...s}),description:(0,H.jsx)(b.FormattedMessage,{...a}),checked:o.includes(e),onClick:()=>{!function(e){const{environment:t,record:n,step:i}=e;if(!n.isDefined())return;const o=n.getStepsCompleted(),s={steps_completed:o.includes(i)?Xe.hX(o,(e=>e!==i)):Xe.jj([...o,i])};Kt.createAndCommit({userAction:"templateChecklistActions.toggleStep",environment:t,perform:e=>{Wt.sW({store:n,data:s,transaction:e})}})}({environment:n,record:t,step:e})}},e)}))]})}function es(e){return{color:e.regularTextColor,fontWeight:N.Z.fontWeight.semibold,fontSize:14}}function ts(e){return{color:e.mediumTextColor,fontSize:12}}function ns(){window.__c={n:"CompletedComponent"};const e=(0,R.Fg)();return(0,H.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",height:"100%",textAlign:"center"},children:[(0,H.jsx)("img",{style:{width:165,height:80},src:ht.Z.images.feedbackThankYouPng}),(0,H.jsx)("div",{style:es(e),children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"You're done!",id:"templateChecklist.completed.header"})}),(0,H.jsx)("div",{style:ts(e),children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"For more inspirations, go to Notion Guides to sharpen your skills and explore new ways to use Notion.",id:"templateChecklist.completed.description"})})]})}var is=n(31156);class os extends r.Z{constructor(){super(...arguments),this.storeTypes={templateChecklistButtonStore:Vo},this.handleCancel=()=>{const{templateChecklistRecord:e}=this.stores.templateChecklistButtonStore.state;e&&(!function(e){const{environment:t,record:n}=e,i={opt_out:!0};Kt.createAndCommit({userAction:"templateChecklistActions.optOut",environment:t,perform:e=>{Wt.sW({store:n,data:i,transaction:e})}})}({environment:this.environment,record:e}),Ro.setState({...Ro.state,open:!1}))}}renderComponent(){const{mainEditorCurrentBlockStore:e,currentSpaceStore:t}=L.default.state;if(null!=e&&e.isDefined()&&null!=t&&t.isDefined())return(0,H.jsx)(Ao.Z,{throttle:1e3,request:{spaceId:t.id,blockId:e.id},performRequest:async e=>{let{blockId:t,spaceId:n}=e;const i=await Ve.getTemplateChecklistForBlock(this.environment,{blockId:t,spaceId:n});if("success"===i.type){const{templateChecklistId:e}=i.data;if(!e)return;const t=new A.XJ(this.environment,{table:Eo.$,id:e});if(this.stores.templateChecklistButtonStore.setState({...this.stores.templateChecklistButtonStore.state,templateChecklistRecord:t}),t.isDefined()){const e=Lo.Z.get({userId:this.environment.currentUser.id,key:Uo(t.id)});this.stores.templateChecklistButtonStore.setState({...this.stores.templateChecklistButtonStore.state,hide:"boolean"==typeof e&&!e})}}},render:(e,t,n)=>{if(!n)return;const{templateChecklistRecord:i,completed:o}=this.stores.templateChecklistButtonStore.state;if(null==i||!i.isDefined()||i.getStepsCompleted().length===i.getSteps().length||o)return;const s=new Oo;var r;return s.setState({...s.state,templateChecklistRecord:i}),this.stores.templateChecklistButtonStore.setState({...this.stores.templateChecklistButtonStore.state,templateChecklistRecord:i}),i.getOptOut()?void 0:(0,H.jsxs)("div",{children:[(0,H.jsxs)(Fo.Z,{style:(r=this.theme,{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",background:r.buttonBackground,bottom:16+Rn.Z.state,right:60+Rn.Z.state,width:36,height:36,borderRadius:"100%",boxShadow:r.lightBoxShadow,zIndex:oe.hT,opacity:pe.tu.state?0:1,transition:`\n            opacity ${is.nk}ms,\n            color ${is.nk}ms\n        `}),hoveredStyle:{background:this.theme.whiteButtonHoveredBackground},pressedStyle:{background:this.theme.whiteButtonPressedBackground},onClick:()=>{const e=this.stores.templateChecklistButtonStore.state.hide;this.stores.templateChecklistButtonStore.setState({...this.stores.templateChecklistButtonStore.state,hide:!e}),rs(e,i.id,this.environment)},children:[(0,To.L)({height:18}),this.stores.templateChecklistButtonStore.state.hide&&(0,H.jsx)(Fo.Z,{onClick:this.handleCancel,style:as(this.theme),hoveredStyle:{background:this.theme.buttonPressedBackground},children:(0,jo.D)({width:14,fill:this.theme.mediumTextColor})})]}),!this.stores.templateChecklistButtonStore.state.hide&&(0,H.jsx)(Xo,{templateChecklistStore:s,onComplete:()=>this.stores.templateChecklistButtonStore.setState({...this.stores.templateChecklistButtonStore.state,completed:!0}),onCancel:()=>{rs(!1,i.id,this.environment),this.stores.templateChecklistButtonStore.setState({...this.stores.templateChecklistButtonStore.state,hide:!0})}})]})}})}}os.displayName="TemplateChecklistButton";const ss=os;function rs(e,t,n){Lo.Z.set({userId:n.currentUser.id,key:Uo(t),value:e})}function as(e){return{position:"absolute",top:-2,right:-1,background:e.buttonHoveredBackground,borderRadius:"100%"}}var ls=n(90965);function ds(e){let{}=e;window.__c={n:"TransferWorkspaceModalWrapper"};const t=(0,Z.VK)((()=>L.default.state.currentSpaceStore),[]),n=(0,Z.VK)((()=>{var e;if(!t)return;const n=null===(e=t.getSettings())||void 0===e?void 0:e.space_request;return(0,ls.DI)(n)?n:void 0}),[t]);return n?(0,H.jsx)(s.LazyTransferWorkspaceModal,{workspaceTransfer:n}):null}class cs extends r.Z{constructor(){super(...arguments),this.appRenderState=this.createComputedStore((()=>pe.h1(this.environment))),this.handleFrameBlockerClick=()=>{we.close()},this.showHelpButtonStore=this.createComputedStore((()=>{if(!this.environment.currentUser.isLoggedIn())return!1;if(this.environment.device.isMobile)return!1;const{mainEditorCurrentBlockStore:e}=L.default.state;return!!e&&(!(0,ge.IJ)(this.environment,e)&&!this.shouldIncludeAssistantButton.state)})),this.showTemplateChecklistStore=this.createComputedStore((()=>{if(!this.environment.currentUser.isLoggedIn())return!1;if(this.environment.device.isMobile)return!1;const{mainEditorCurrentBlockStore:e}=L.default.state;if(!e)return!1;return!("on"!==E.default.getGroup("template-checklist"))})),this.isAssistantLabelerModeEnabledStore=this.createComputedStore((()=>(0,he.Gw)())),this.isAssistant2EnabledStore=this.createComputedStore((()=>Te.Z.isAssistant2Enabled(void 0))),this.shouldIncludeAssistantButton=this.createComputedStore((()=>{const{device:e}=this.environment,{RouterStore:t}=this.environment,{route:n}=t.state;return"chat"!==n.name&&Te.Z.shouldShowAssistantInCorner(e)})),this.frameBlockerStyle={position:"absolute",top:0,left:(0,Ie.qG)(this.environment),right:0,bottom:0,zIndex:oe.l6}}UNSAFE_willMount(){pe.rq()}didMount(){var e;null!==(e=this.environment.mobileNative)&&void 0!==e&&e.api.appComponentMountState&&this.environment.mobileNative.api.appComponentMountState(!0),E.default.checkGate("use_new_undo_redo_behavior")&&re.mF()}willUnmount(){var e;null!==(e=this.environment.mobileNative)&&void 0!==e&&e.api.appComponentMountState&&this.environment.mobileNative.api.appComponentMountState(!1)}renderComponent(){const{isElectronMac:e,isMobile:t}=this.environment.device,{RouterStore:n}=this.environment,{route:i}=n.state,{mainEditorCurrentBlockStore:o,currentSpaceStore:r,currentUserRootStore:a,currentCollectionViewStore:l,currentUserSettingsStore:d}=L.default.state,{publicPageData:c}=je.Z.state,u=this.environment.currentUser.isLoggedIn(),g=ke.sidebarOpenStore.state,v=(0,Ie.in)(this.environment),{state:{shouldShowSidebar:f,shouldShowFrame:b,shouldShowError:S}}=this.appRenderState,y="page"===i.name&&i.shouldDuplicate&&o&&(0,ge.S4)(o),w="page"===i.name&&o&&ue.Z.state.open&&(0,ge.S4)(ue.Z.state.blockStore),C=!u&&"modal"===i.name&&(i.templateGalleryItem||i.projectManagementLaunch),x="page"===i.name&&i.workspaceId?i.workspaceId:void 0,M=(0,h.wO)(i)&&a||"nativeTab"===i.name&&a||"quickSearch"===i.name&&a||a||o,I="nativeTab"===i.name&&"search"===i.tab||"quickSearch"===i.name,_=this.isAssistant2EnabledStore.state&&"chat"===i.name,j="quickSearch"===i.name,T="nativeTab"===i.name,E=(0,_e.Y)("supportsNativeHome"),A=ie("production",this.environment.device)||!(0,_e.Y)("supportsNativeSearch"),P=(0,be.H)(),U=(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(s.LazySidebarCreateTeamModal,{}),(0,H.jsx)(s.LazySidebarTeamModal,{}),(0,H.jsx)(s.LazyCreateTeamFromPageConfirmModal,{}),(0,H.jsx)(s.LazyConfirmPrivilegedActionModal,{})]});se.wk({environment:this.environment});const Z=Ae.default.state.data;if(C){const{environment:e}=this;return i.projectManagementLaunch?k.setQueryParamRedirect({currentUserId:void 0,params:{tg:"gallery"}}):i.templateGalleryItem&&k.setQueryParamRedirect({currentUserId:void 0,params:{tg:i.templateGalleryItem}}),void k.navigate({environment:e,url:m._j.login})}return j?(0,H.jsxs)(rt.Z,{style:hs(this.environment,this.theme),children:[M&&!S&&A&&(0,H.jsx)(s.LazySearch,{parentStore:M,renderAsPage:!0,renderId:(0,p.ZP)(),quickSearchMode:!0}),"rendered"===L.default.state.renderPhase&&(0,H.jsx)(s.LazyAppComponents,{})]}):(0,H.jsxs)(rt.Z,{style:hs(this.environment,this.theme),children:[f&&!t&&(0,H.jsx)(us,{isElectronMac:e,isExpanded:v}),f&&t&&!E&&(0,H.jsx)(s.LazySidebarMobile,{}),f&&t&&E&&(0,H.jsx)(s.LazyTopLevelMobileComponents,{}),f&&P&&(0,H.jsx)(fe.HX,{}),(0,H.jsx)(st,{}),(0,H.jsx)(ee.R,{}),"workspaceSetup"===i.name&&(0,H.jsx)(s.LazyAppsSetup,{}),o&&b&&(0,H.jsx)(vn.Z,{routerState:this.props.routerState,store:o,collectionViewStore:l}),_&&"chat"===i.name&&(0,H.jsx)(de.PS,{route:i}),y?(0,H.jsx)(mn,{blockId:i.blockId,workspaceId:x,tid:i.tid,from:i.from}):w&&(0,H.jsx)(s.LazyForkPageModal,{}),S&&c&&!y&&!w&&(0,H.jsx)(s.LazyPageError,{route:this.props.routerState.route,publicPageData:c}),f&&!(0,Ie.Jr)(this.environment)&&g&&this.renderMobileSidebarFrameBlocker(),(0,H.jsx)(ct,{}),this.showHelpButtonStore.state&&(0,H.jsx)(fn.Z,{}),this.shouldIncludeAssistantButton.state&&(0,H.jsx)(de.eC,{}),this.shouldIncludeAssistantButton.state&&(0,H.jsx)(de.Q,{}),this.showTemplateChecklistStore.state&&(0,H.jsx)(ss,{}),this.isAssistantLabelerModeEnabledStore.state&&(0,H.jsx)(de.Zl,{}),o&&(0,H.jsx)(Jt,{pageStore:o,environment:this.environment}),(0,he.GD)(void 0)&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(le.u7,{}),(0,H.jsx)(ae.oF,{})]}),(0,me.u)(this.environment)&&(0,H.jsx)(Ot,{}),!t&&"nativeTab"!==this.props.routerState.route.name&&"workspaceSetup"!==this.props.routerState.route.name&&(0,H.jsx)(Io,{}),"rendered"===L.default.state.renderPhase&&(0,H.jsxs)(H.Fragment,{children:[u&&(0,H.jsxs)(H.Fragment,{children:[U,(0,H.jsx)(ve,{}),(0,H.jsx)(s.LazyCustomizePageMenuRenderer,{}),(0,H.jsx)(s.LazyTopbarPageAnalyticsOptOutMenu,{}),(0,H.jsx)(s.LazyImportModal,{}),(0,H.jsx)(s.LazyExportModal,{}),(0,H.jsx)(s.LazyPageTemplateModal,{}),(0,H.jsx)(s.LazyTemplateGalleryModal,{}),(0,H.jsx)(s.LazyIntegrationGalleryModal,{}),(0,H.jsx)(s.LazyGoogleAuthPromptModal,{}),(0,H.jsx)(s.LazyStudentNotEligibleModal,{}),(0,H.jsx)(s.LazyTypedDBMigrationModal,{}),(0,H.jsx)(s.LazyContactModal,{}),(0,H.jsx)(s.LazyPersonaCollectionModal,{}),(0,H.jsx)(s.LazyCookieModal,{}),(0,H.jsx)(s.LazyAutomationModal,{}),Le.Z.state.open&&(0,H.jsx)(s.LazyConfirmOverwriteModal,{...Le.Z.state}),ye.Z.state.open&&(0,H.jsx)(s.LazyTipsInAppModal,{tipCardDisplayInfo:ye.Z.state.tipCardDisplayInfo}),(0,H.jsx)(s.LazyConfigureIntegrationModal,{}),(0,H.jsx)(s.LazyConnectOAuthIntegrationModal,{}),r&&Z&&Ee.Z.state.open&&(0,H.jsx)(s.LazySpaceSubscriptionUpgradeModal,{data:Z,spaceStore:r}),r&&Z&&We.Z.state.open&&(0,H.jsx)(s.LazyClaimAndUpgradeModal,{spaceStore:r,data:Z}),r&&Z&&(0,H.jsx)(s.LazySpaceSubscriptionUpdateModal,{data:Z}),r&&Z&&(0,H.jsx)(s.LazyAddOnUpgradeModal,{data:Z}),r?(0,H.jsx)(s.LazySubscriptionDebugCommands,{}):null,d&&r&&o&&(0,H.jsx)(s.LazyCsatPopup,{userSettingsStore:d,spaceStore:r,blockStore:o}),b&&(0,H.jsx)(s.LazyOpenInDesktopAppPopup,{}),b&&(0,H.jsx)(s.LazyWikiPromoPopup,{}),b&&(0,H.jsx)(s.LazyAddOnDiscountPopup,{}),b&&(0,H.jsx)(s.LazyAiQnaIntroModal,{}),b&&(0,H.jsx)(s.LazyAiQnaWaitlistModal,{}),b&&(0,H.jsx)(s.LazyEnterpriseLaunchModal,{})]}),(0,H.jsx)(s.LazyReportPageModal,{}),M&&!S&&A&&(0,H.jsx)(s.LazySearch,{parentStore:M,renderAsPage:I,renderId:I?(0,p.ZP)():void 0,quickSearchMode:!1}),T&&(0,H.jsx)(s.LazyMobileNativeFullPageComponents,{route:i}),(0,H.jsx)(s.LazyForkPagePopup,{}),void 0,(0,H.jsx)(ds,{}),void 0]}),(0,H.jsx)(Pt,{}),"rendered"===L.default.state.renderPhase&&(0,H.jsx)(pt,{}),"rendered"===L.default.state.renderPhase&&(0,H.jsx)(s.LazyAppComponents,{}),(0,H.jsx)(Zt,{}),f&&!t&&o&&(0,H.jsx)(fe.$H,{currentBlockStore:o,isElectronMac:e}),(0,H.jsx)(s.LazyAdminModeBannerListener,{}),(0,H.jsx)(ze.Z,{}),(0,H.jsx)(De.Z,{}),(0,H.jsx)(_o.Z,{subscriptionDataStore:Ae.default}),(0,H.jsx)(Cn,{}),(0,H.jsx)(Fe,{}),(0,H.jsx)(Ze,{}),(0,H.jsx)(ce.j,{}),(0,H.jsx)(Ye,{}),(0,H.jsx)(xn,{})]})}renderMobileSidebarFrameBlocker(){return(0,H.jsx)("div",{style:this.frameBlockerStyle,onClick:this.handleFrameBlockerClick})}}function us(e){let{isElectronMac:t,isExpanded:n}=e;window.__c={n:"AppLazySidebarComponent"};const o=(0,i.useCallback)((()=>(0,H.jsx)(xe,{})),[]);return(0,H.jsx)(s.LazySidebarComponent,{isElectronMac:t,isExpanded:n,renderLoading:o})}cs.displayName="App";const ps=cs;function hs(e,t){const{mainEditorCurrentBlockStore:n}=L.default.state,i=(0,Se.WE)(n),o=e.device.isPhone;return{width:"100vw",height:"100%",position:"relative",display:"flex",flex:1,background:i?(0,Se.$1)({theme:t,isPhone:o}):t.contentBackground}}var ms=n(3403),gs=n(97880);var vs=n(40754);function fs(e){let{payload:t}=e;window.__c={n:"ConfirmUnsubscribePage"};const n=(0,U.O7)(),[o,s]=(0,i.useState)(t?{type:"unconfirmed"}:{type:"error"}),r=(0,i.useCallback)((async()=>{if(!t)return void s({type:"error"});s({type:"loading"});const e=await async function(e){let{environment:t,payload:n}=e;const i=await Ve.unsubscribeFromEmails(t,{payload:n});return"success"===i.type?{type:"success",spaceName:i.data.spaceName}:{type:"error"}}({environment:n,payload:t});s("error"===e.type?{type:"error"}:{type:"confirmed",spaceName:e.spaceName})}),[n,t]),a=(0,R.yK)((()=>({confirmUnsubscribeDescription:{marginBottom:10}})),[]);switch(o.type){case"loading":return(0,H.jsx)(vs.Z,{children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Loading…",id:"confirmUnsubscribePage.loadingMessage"})});case"unconfirmed":return(0,H.jsxs)(vs.Z,{children:[(0,H.jsx)("div",{style:a.confirmUnsubscribeDescription,children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Are you sure you want to unsubscribe from this list?",id:"unsubscribeFromEmails.workspace.confirmUnsubscribeDescription"})}),(0,H.jsx)(O.Z,{isLarge:!0,onClick:r,children:(0,H.jsx)(b.FormattedMessage,{id:"confirmUnsubscribePage.confirmButton",defaultMessage:"Unsubscribe"})})]});case"confirmed":return(0,H.jsx)(vs.Z,{children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"You have successfully unsubscribed from emails for {workspaceName}",values:{workspaceName:(0,H.jsx)("b",{children:o.spaceName})},id:"unsubscribeFromEmails.workspace.message"})});case"error":return(0,H.jsx)(vs.Z,{children:(0,H.jsx)(b.FormattedMessage,{id:"confirmUnsubscribePage.errorMessage",defaultMessage:"Could not unsubscribe."})});default:(0,gs.t1)(o)}}n(82801);var bs=n(73420);const Ss=(0,b.defineMessages)({pageTitle:{id:"desktopEmailConfirmPage.title",defaultMessage:"Please check your email to confirm"},pageCaption:{id:"desktopEmailConfirmPage.subtitle",defaultMessage:"Almost there!"},pageDescription1:{id:"desktopEmailConfirmPage.description1",defaultMessage:"Please check your email and click the link to confirm."},pageDescription2:{id:"desktopEmailConfirmPage.description2",defaultMessage:"Once confirmed, you'll be able to return to the desktop app to complete signup."},checkYourGmail:{id:"desktopEmailConfirmPage.button.checkYourGmail",defaultMessage:"Check your Gmail inbox"}}),ys=()=>(0,H.jsxs)("svg",{style:{display:"block",height:42},viewBox:"0 0 87 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,H.jsx)("path",{d:"M1.805 1.294l16.6-1.226c2.039-.175 2.563-.057 3.845.875l5.299 3.733c.874.642 1.165.817 1.165 1.516v20.473c0 1.283-.466 2.042-2.097 2.158L7.34 29.99c-1.224.058-1.807-.117-2.448-.934L.99 23.982c-.7-.934-.99-1.633-.99-2.45V3.334c0-1.049.466-1.924 1.805-2.04z",fill:"#fff"}),(0,H.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.405.068l-16.6 1.226C.466 1.41 0 2.285 0 3.334v18.198c0 .817.29 1.516.99 2.45l3.902 5.074c.641.817 1.224.992 2.448.934l19.277-1.167c1.63-.116 2.097-.875 2.097-2.158V6.192c0-.663-.262-.854-1.033-1.42a85.473 85.473 0 01-.133-.096L22.25.943c-1.282-.932-1.806-1.05-3.845-.875zM7.776 5.857c-1.574.106-1.931.13-2.825-.597L2.678 3.452c-.231-.234-.115-.526.467-.584l15.958-1.166c1.34-.117 2.038.35 2.562.758l2.737 1.983c.117.059.408.408.058.408l-16.48.992-.204.014zM5.941 26.49V9.11c0-.759.233-1.109.931-1.168L25.8 6.834c.642-.058.932.35.932 1.108v17.264c0 .759-.117 1.401-1.165 1.459l-18.113 1.05c-1.048.058-1.513-.291-1.513-1.225zm17.88-16.448c.116.525 0 1.05-.525 1.11l-.873.173v12.832c-.758.408-1.456.641-2.039.641-.932 0-1.165-.292-1.863-1.166l-5.709-8.982v8.69l1.806.409s0 1.05-1.457 1.05l-4.017.233c-.117-.234 0-.817.407-.933l1.049-.291v-11.49L9.144 12.2c-.117-.525.174-1.283.99-1.342l4.31-.29 5.94 9.098v-8.049l-1.514-.174c-.117-.643.349-1.11.931-1.167l4.02-.234z",fill:"#000"}),(0,H.jsx)("path",{className:"fill",d:"M41.434 21.251v-7.91h.137l5.704 7.91h1.796V9.627h-1.997v7.902h-.137l-5.704-7.902H39.43V21.25h2.005zM54.715 21.429c2.635 0 4.238-1.724 4.238-4.584 0-2.852-1.611-4.584-4.238-4.584-2.618 0-4.237 1.74-4.237 4.584 0 2.86 1.595 4.584 4.237 4.584zm0-1.676c-1.393 0-2.19-1.063-2.19-2.908 0-1.837.797-2.908 2.19-2.908 1.386 0 2.183 1.071 2.183 2.908 0 1.845-.789 2.908-2.183 2.908zM60.778 10.28v2.215h-1.393v1.595h1.393v4.809c0 1.708.806 2.393 2.828 2.393.386 0 .757-.04 1.047-.097v-1.563c-.242.024-.395.04-.677.04-.837 0-1.208-.386-1.208-1.256V14.09h1.885v-1.595h-1.885v-2.216h-1.99zM65.85 21.251h1.99v-8.813h-1.99v8.813zm.991-10.27c.66 0 1.192-.533 1.192-1.201 0-.669-.531-1.209-1.192-1.209-.652 0-1.192.54-1.192 1.209 0 .668.54 1.2 1.192 1.2zM73.299 21.429c2.634 0 4.237-1.724 4.237-4.584 0-2.852-1.611-4.584-4.237-4.584-2.619 0-4.238 1.74-4.238 4.584 0 2.86 1.595 4.584 4.238 4.584zm0-1.676c-1.394 0-2.192-1.063-2.192-2.908 0-1.837.798-2.908 2.192-2.908 1.385 0 2.183 1.071 2.183 2.908 0 1.845-.79 2.908-2.183 2.908zM78.725 21.251h1.998V16.12c0-1.297.75-2.119 1.941-2.119 1.217 0 1.78.677 1.78 2.022v5.228h1.999v-5.703c0-2.103-1.072-3.287-3.037-3.287-1.314 0-2.2.604-2.619 1.587h-.137v-1.41h-1.925v8.813z",fill:"#000"})]});function ws(){return(0,H.jsx)("div",{style:{padding:24},children:(0,H.jsx)(ys,{})})}function Cs(e){const{experimentVariant:t}=e;return(0,H.jsx)("div",{style:{width:800,height:"80vh",margin:"0 auto"},children:(0,H.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"80vh"},children:[(0,H.jsxs)(bs.sg,{gap:16,padding:16,children:[(0,H.jsx)("div",{style:{fontSize:36,fontWeight:N.Z.fontWeight.bold},children:(0,H.jsx)(b.FormattedMessage,{...Ss.pageTitle})}),(0,H.jsx)("div",{style:{fontWeight:N.Z.fontWeight.bold},children:(0,H.jsx)(b.FormattedMessage,{...Ss.pageCaption})}),(0,H.jsx)("div",{children:(0,H.jsx)(b.FormattedMessage,{...Ss.pageDescription1})}),(0,H.jsx)("div",{children:(0,H.jsx)(b.FormattedMessage,{...Ss.pageDescription2})}),"with_gmail_cta"===t&&(0,H.jsx)(O.Z,{style:{width:"fit-content"},isLarge:!0,onClick:()=>{window.location.href="https://mail.google.com/mail/u/0/#search/Your+Notion+signup+code+is"},children:(0,H.jsx)(b.FormattedMessage,{...Ss.checkYourGmail})})]}),(0,H.jsx)(bs.sg,{children:(0,H.jsx)("img",{style:{width:350},src:ht.Z.images.onboarding.couch2Png})})]})})}function ks(){window.__c={n:"DesktopEmailConfirmPage"};const e=(0,U.O7)(),[t,n]=(0,i.useState)(null);return(0,i.useEffect)((()=>{try{const t=new URLSearchParams(window.location.search).get("state");if(!t)return;const i=JSON.parse(atob(t));i.experimentVariant&&n(i.experimentVariant),i.email&&i.deviceId&&S.$kb(e,{desktopAppRerouteEmail:i.email,desktopAppDeviceId:i.deviceId})}catch(t){}}),[e,n]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(ws,{}),(0,H.jsx)(Cs,{experimentVariant:t})]})}n(84456),n(53238);var xs=n(13559),Ms=n(44819);function Is(e){window.__c={n:"FrontFallbackPage"};const{preventFrontRedirect:t}=e,n=(0,U.O7)(),{pathname:i,search:o,hash:r}=window.location;if(!t&&(0,Ms.XR)(n,i)){const e=o.length>0?`${o}&${xs.AM}=1`:`?${xs.AM}=1`;return window.location.href=i+e+r,null}return(0,H.jsx)(s.LazyFrontLoginPage,{isSignup:!n.currentUser.isLoggedIn()})}var _s=n(26198);class js extends r.Z{constructor(){super(...arguments),this.intersectionObserver=void 0,this.registry=new Map,this.handleIntersectionObserverEntries=(e,t)=>{for(const n of e){if(!(n.target instanceof HTMLElement))continue;const e=this.registry.get(n.target);e&&(e.isVisible=n.isIntersecting,e.latestTimestamp=n.time,e.isVisible&&!e.isSpawned&&(e.isSpawned=!0,e.onVisibilityChange(!0)))}this.despawnOldFrames()}}UNSAFE_willMount(){void 0!==window.IntersectionObserver&&(this.intersectionObserver=new IntersectionObserver(this.handleIntersectionObserverEntries))}willUnmount(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}didUpdate(e){this.props.maxPreferredIFrames<e.maxPreferredIFrames&&this.despawnOldFrames()}despawnOldFrames(){const e=Array.from(this.registry.values()).filter((e=>e.isSpawned)),t=e.length-this.props.maxPreferredIFrames;if(t<=0)return;const n=e.filter((e=>!e.isVisible));n.sort(((e,t)=>e.latestTimestamp-t.latestTimestamp));for(const i of n.slice(0,t))i.isSpawned=!1,i.onVisibilityChange(!1)}track(e,t){this.intersectionObserver?(this.registry.set(e,{isVisible:!1,isSpawned:!1,latestTimestamp:0,onVisibilityChange:Xe.Ds(t,50)}),this.intersectionObserver.observe(e)):_s.uf.track(e,t)}untrack(e){this.intersectionObserver?(this.intersectionObserver.unobserve(e),this.registry.delete(e)):_s.uf.untrack(e)}renderComponent(){return(0,H.jsx)(_s.Lr.Provider,{value:this,children:this.props.children})}}function Ts(e){let t=e.isMobile?10:50;return e.ramSizeInGB&&(t=Math.floor(2*e.ramSizeInGB)),{maxPreferredIFrames:t}}js.displayName="IFrameManager";var Ls=n(25777);const Es=function(e){window.__c={n:"Index"};const t=(0,U.O7)(),n={position:"absolute",top:0,left:0,bottom:0,right:0},{device:i}=t;return t.currentUser.isLoggedIn()?(0,H.jsx)("div",{style:n,children:(0,H.jsx)(Ls.Z,{style:{width:"100%",height:"100%"},spinnerSize:vn.T,showSpinnerTimeout:500})}):i.isElectron?(0,H.jsx)(s.LazyLoginDesktop,{}):i.isMobileNative?(0,H.jsx)(s.LazyLoginMobileNative,{}):(0,H.jsx)(Is,{preventFrontRedirect:!0})};var As=n(42402),Ps=n(83785),Us=n(84076);class Zs extends r.Z{constructor(){super(...arguments),this.handleOpenInNativeApp=()=>{k.openInNativeApp({url:this.props.redirect,environment:this.environment})}}didMount(){this.handleOpenInNativeApp()}renderComponent(){return(0,H.jsxs)(vs.Z,{children:[(0,H.jsx)("div",{style:{color:this.theme.regularTextColor},children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Redirecting to your Notion app…",id:"webApp.redirectingToDesktop.message"})}),(0,H.jsx)(Us.Z,{onClick:this.handleOpenInNativeApp,style:{maxWidth:300,textAlign:"center",textDecoration:"underline",color:this.theme.lightTextColor},children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"If you weren't redirected, click here.",id:"webApp.redirectingToDesktop.directLink.message"})}),(0,H.jsx)(Us.Z,{href:this.props.redirect,style:{maxWidth:300,textAlign:"center",textDecoration:"underline",color:c.ZP.uiGray},children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Or, continue in your browser",id:"webApp.redirectingToDesktop.continueInBrowser.message"})})]})}}Zs.displayName="NativeRedirect";const Rs=Zs;var Bs=n(93214),Vs=n(24211),Ns=n(90287),Os=n(47307),Fs=n(57400),zs=n(54064),Ds=n(88632),Ws=n(29755),Hs=n(17963);const qs=new zs.Z;const Ks=function(){return window.__c={n:"ApiListener"},function(){const e=(0,i.useRef)(!1),t=(0,U.O7)(),n=(0,i.useCallback)((async e=>{if(e.currentUser.id&&Ve.pendingTaskIds.size>0){const t=await Ve.getTasks(e,{taskIds:Array.from(Ve.pendingTaskIds.values())});if("success"===t.type){const{results:n}=t.data,i=new Set(Ve.pendingTaskIds);for(const t of n)i.delete(t.id),t.status&&Ve.handleRecordMapForResponse({environment:e,eventName:t.eventName,response:t.status,userId:e.currentUser.id}),Ve.pendingTaskEventsById.emit(t.id,t),qs.emit(t.eventName,t),"failure"!==t.state&&"success"!==t.state||Ve.pendingTaskIds.delete(t.id);if(i.size>0)for(const e of i.values())Ve.pendingTaskIds.delete(e)}}}),[]),o=(0,i.useCallback)((async e=>{if(e.currentUser.id){const t=await Ve.getUserTasks(e,{});if("success"===t.type){for(const e of t.data.taskIds)Ve.pendingTaskIds.add(e);t.data.taskIds.length>0&&n(e)}}}),[n]),s=(0,i.useCallback)((()=>{const n=Ds.Z.state.online;n&&!e.current&&o(t),e.current=n}),[t,o]);function r(e){"success"===e.state?Ws.Z.setStatus(e.request.blockId,void 0):"in_progress"===e.state||"not_started"===e.state?Ws.Z.setStatus(e.request.blockId,e.status):Ws.Z.setStatus(e.request.blockId,void 0)}function a(e){"success"===e.state?Hs.Z.setStatus(e.request.blockId,!1):"in_progress"===e.state||"not_started"===e.state?Hs.Z.setStatus(e.request.blockId,!0):Hs.Z.setStatus(e.request.blockId,!1)}(0,i.useEffect)((()=>{e.current=Ds.Z.state.online;const i=setInterval((()=>n(t)),1e3);return o(t),Ds.Z.addListener(s),qs.addListener("importEvernote",r),qs.addListener("extractWebClipperContent",a),()=>{clearInterval(i),Ds.Z.removeListener(s),qs.removeListener("importEvernote",r),qs.removeListener("extractWebClipperContent",a)}}),[t,n,s,o])}(),null};var Gs=n(24215),$s=n(24042);function Ys(){return window.__c={n:"ElectronListener"},function(){const e=(0,U.O7)(),t=(0,Z.VK)((()=>({observedWidth:ke.sidebarSizeObserver.rect.state.width,targetWidth:ke.sidebarWidthStore.state,isExpanded:ke.sidebarExpandedStore.state,resizing:ke.sidebarResizingStore.state})),[]),n=e.currentUser.isLoggedIn(),[o,s]=(0,i.useState)(!1),{isTabsFeatureEnabled:r}=(0,Z.Kw)($s.Z);(0,i.useEffect)((()=>{o&&r&&y.windowSidebarState.set({isLoggedIn:n,...t})}),[t,n,o,r]),(0,i.useEffect)((()=>{let e;e=n?t.isExpanded?"expanded":"collapsed":"disabled",y.sidebarState.set(e)}),[t.isExpanded,n]);const a=(0,i.useCallback)(((t,n,i)=>{Gs.j(e,n,i)}),[e]);(0,i.useEffect)((()=>(y.track.addListener(a),()=>{y.track.removeListener(a)})),[a]);const l=(0,i.useCallback)(((e,t)=>{s(t)}),[]);(0,i.useEffect)((()=>(y.isActiveTab.get().then((e=>{s(e)})),y.isActiveTab.addListener(l),()=>{y.isActiveTab.removeListener(l)})),[l]);const d=(0,i.useCallback)(((e,t)=>{void 0===t.isShowingTabBar&&(t.isShowingTabBar=t.isTabsFeatureEnabled),$s.Z.setState(t)}),[]);(0,i.useEffect)((()=>{var e;return null===(e=y.electronAppFeatures.get())||void 0===e||e.then((e=>{$s.Z.setState(e)})),y.electronAppFeatures.addListener(d),()=>{y.electronAppFeatures.removeListener(d)}}),[d]);const c=(0,i.useCallback)((n=>{we.setExpand({environment:e,isExpanded:!t.isExpanded,from:"electron_listener"})}),[e,t.isExpanded]);(0,i.useEffect)((()=>(y.sidebarState.addToggleListener(c),()=>{y.sidebarState.removeToggleListener(c)})),[c]);const u=(0,i.useCallback)(((e,t)=>{ke.sidebarExpandedStore.setState(t.isExpanded),ke.sidebarWidthStore.setState(t.targetWidth)}),[]);(0,i.useEffect)((()=>(y.windowSidebarState.addListener(u),()=>{y.windowSidebarState.removeListener(u)})),[u])}(),null}var Qs=n(84747),Xs=n(64496);function Js(e){(0,Xs._3)(e)?Fs.Tm(e):Fs.Th({environment:e,force:!1})}function er(){return window.__c={n:"ExperimentListener"},function(){const e=(0,U.O7)();(0,Qs.Z)((()=>{Js(e)})),(0,i.useEffect)((()=>{const t=window.setInterval((()=>Js(e)),6e5);return()=>{window.clearInterval(t)}}),[e])}(),null}var tr=n(24461);function nr(){return window.__c={n:"InjectMouseListener"},(0,tr.ZP)(),null}var ir=n(64964);function or(){return window.__c={n:"WebpackHotReloadIndicator"},function(){const e=j.default.isLocalhost||!1;(0,i.useEffect)((()=>{function t(t){if(!e)return;if(!t.data||"string"!=typeof t.data.type)return;const n=t.data.type;"webpackInvalid"===n?ir.oV({label:(0,H.jsxs)("div",{children:[(0,H.jsx)("span",{style:{paddingRight:10},children:"Webpack Compiling"}),(0,H.jsx)("img",{src:"/images/favicon-local.ico",className:"loading-spinner",style:{display:"inline-block"}})]}),position:"top",durationMs:"keep"}):"webpackOk"!==n&&"webpackWarnings"!==n||ir.rN()}return window.addEventListener("message",t),()=>{window.removeEventListener("message",t)}}),[e])}(),null}var sr=n(22974),rr=n(30021);function ar(){return window.__c={n:"AppearanceSettingListener"},function(){const e=(0,U.O7)(),t=(0,i.useCallback)((()=>{sr.LH(e)}),[e]);(0,i.useEffect)((()=>(t(),rr.Z.addListener(t),()=>{rr.Z.removeListener(t)})),[t])}(),null}var lr=n(81236);function dr(){return window.__c={n:"IdentifyCurrentUser"},function(){const e=(0,U.O7)(),t=(0,U.Fy)(),n=(0,Z.VK)((()=>{const{currentUserStore:n,currentUserSettingsStore:i,currentUserRootStore:o}=L.default.state;if(!(e.currentUser.id&&n&&i&&o))return e.publicDomainUserId?{user_id:e.publicDomainUserId}:void 0;const s=o.getSpaceViewStores(),r=s.length>0&&s.every((e=>e.isReady()));if(!n.isDefined()||!i.isDefined()||!r)return;const a=Xe.oA(s.map((e=>e.getSpaceId()))).map((t=>lr.Z.getPublicSpaceData(e,t)));if(!a.every((e=>Boolean(e)||null===e)))return;const l=(0,Gs.ls)(a),d=i.getSettings();if(!d)return;if(void 0===Ae.default.state.data)return;const c={user_id:n.id,email:n.getEmail(),user_persona:d.persona,user_team_role:d.team_role,user_use_cases:d.use_cases,user_company_size:d.company_size,user_source:d.source,user_plan_type:l,user_subscription_tier:Ae.default.state.data.subscriptionTier,user_has_at_least_one_free_tier_space:(0,Gs.nZ)(a),time_zone:d.time_zone,locale:d.locale,preferred_locale:d.preferred_locale,signup_time:d.signup_time,app_version:t.version};return d.signup_time&&(c.created_at=Math.floor(d.signup_time/1e3)),t.desktopAppVersion&&(c.desktop_app_version=t.desktopAppVersion),t.mobileAppVersion&&(c.mobile_app_version=t.mobileAppVersion),d.used_desktop_web_app&&(c.used_desktop_web_app=d.used_desktop_web_app),d.used_mobile_web_app&&(c.used_mobile_web_app=d.used_mobile_web_app),d.used_mac_app&&(c.used_mac_app=d.used_mac_app),d.used_windows_app&&(c.used_windows_app=d.used_windows_app),d.used_ios_app&&(c.used_ios_app=d.used_ios_app),d.used_android_app&&(c.used_android_app=d.used_android_app),c}),[e,t],{useDeepEqual:!0});(0,i.useEffect)((()=>{n&&"none"!==n.user_plan_type&&cr(e,n)}),[e,n]);const o=void 0!==n;(0,i.useEffect)((()=>{const t=window.setTimeout((()=>{!o&&e.currentUser.id&&cr(e,{user_id:e.currentUser.id})}),5e3);return()=>{window.clearTimeout(t)}}),[e,o])}(),null}const cr=Xe.P2(S.XWf,5e3);var ur=n(55632),pr=n(58455);function hr(){return window.__c={n:"InitializeEventTrailApi"},function(){const e=(0,U.O7)(),t=(0,Z.VK)((()=>pr.default.state.isLoaded),[]),n=(0,Z.VK)((()=>pr.default.state.isLoggingEnabled),[]);(0,i.useEffect)((()=>{t&&async function(){const t=await(0,Gs.cG)(e);await ur.j2({config:j.default,isEnabled:n,deviceId:t,cookieService:e.cookieService})}()}),[e,t,n])}(),null}var mr=n(2991);function gr(){return window.__c={n:"RegisterDesktopApp"},function(){const{deviceType:e}=(0,U.Fy)(),t=(0,U.O7)(),n=t.currentUser.isLoggedIn();(0,i.useEffect)((()=>{if(!n)return;if("windows-desktop"!==e&&"mac-desktop"!==e)return;const i=async()=>{await y.isMainTabOrWindow()&&Ve.registerDesktopApp(t,{deviceType:e})};i();const o=window.setInterval((()=>{i()}),5*qe.hM);return()=>{window.clearInterval(o)}}),[n,e,t])}(),null}function vr(){return window.__c={n:"TrackLoadCachedPageChunkMetrics"},function(){const e=(0,U.O7)(),t=(0,i.useCallback)((t=>{const n={compressed:t.decodedBodySize!==t.encodedBodySize,local_cache_hit:0===t.transferSize,next_hop_protocol:t.nextHopProtocol,did_prefetch:e.prefetchCache.isEnabled},i={dns_lookup:{startTime:t.domainLookupStart,endTime:t.domainLookupEnd},connection_establish:{startTime:t.connectStart,endTime:t.connectEnd},request_queued:{startTime:t.connectEnd,endTime:t.requestStart},response_wait:{startTime:t.requestStart,endTime:t.responseStart},response_download:{startTime:t.responseStart,endTime:t.responseEnd}};Un.default.measure({metricName:"load_cached_page_chunk.fetch",startTime:t.fetchStart,endTime:t.responseEnd},{environment:e,data:{...n,sub_metrics:{dns_lookup:i.dns_lookup.endTime-i.dns_lookup.startTime,connection_establish:i.connection_establish.endTime-i.connection_establish.startTime,request_queued:i.request_queued.endTime-i.request_queued.startTime,response_wait:i.response_wait.endTime-i.response_wait.startTime,response_download:i.response_download.endTime-i.response_download.startTime}}});for(const[o,{startTime:s,endTime:r}]of Object.entries(i))Un.default.measure({metricName:`load_cached_page_chunk.fetch.${o}`,startTime:s,endTime:r},{environment:e,data:n})}),[e]);(0,i.useEffect)((()=>{const e=new PerformanceObserver((n=>{const i=n.getEntries().find((e=>e.name.includes(`${j.default.api.http}/loadCachedPageChunk`)&&!e.name.endsWith("s")));i&&("resource"===i.entryType&&t(i),null==e||e.disconnect())}));return e.observe({type:"resource",buffered:!0}),()=>{e.disconnect()}}),[t])}(),null}var fr=n(98794),br=n(27534);class Sr extends r.Z{constructor(){super(...arguments),this.multiSelectionStartStore=void 0,this.multiSelectionEndStore=void 0,this.handleTextSelectionChange=()=>{const e=Yt.default.state,t="empty"===e.mode?void 0:e.multiSelection.start.store,n="empty"===e.mode?void 0:e.multiSelection.end.store;if(this.multiSelectionStartStore===t&&this.multiSelectionEndStore===n)return;if(this.multiSelectionStartStore=t,this.multiSelectionEndStore=n,this.multiSelectionStartStore!==this.multiSelectionEndStore)return;const i=br.getSimpleTableCellFromTextSelection();if(!i)return;const{rowIndex:o,columnIndex:s,simpleTableStore:r}=i.props;fr.selectCell({environment:this.environment,rowIndex:o,columnIndex:s,simpleTableStore:r})}}UNSAFE_willMount(){Yt.default.addListener(this.handleTextSelectionChange)}willUnmount(){Yt.default.removeListener(this.handleTextSelectionChange),this.multiSelectionStartStore=void 0,this.multiSelectionEndStore=void 0}}Sr.displayName="TextAndSimpleTableSelectionSyncer";const yr=Sr;var wr=n(82246),Cr=n(81212),kr=n(4615);async function xr(e){var t,n;void 0!==L.default.state.currentUserStore&&void 0!==L.default.state.currentSpaceStore||await L.default.waitUntil((()=>void 0!==L.default.state.currentUserStore&&void 0!==L.default.state.currentSpaceStore));const i=null===(t=L.default.state.currentUserStore)||void 0===t?void 0:t.id,o=null===(n=L.default.state.currentSpaceStore)||void 0===n?void 0:n.id;if(!document.hasFocus())return;if(!i||!o)return;const s=Gs.Cd({userId:i,spaceId:o}),r=Date.now();s?Gs.ci({userId:i,spaceId:o,session:{...s,lastFocusedTime:r}}):Gs.ci({userId:i,spaceId:o,session:{id:(0,kr.ZP)(),sessionStartTime:r,lastFocusedTime:r}})}function Mr(){return window.__c={n:"AnalyticsSessionListener"},function(){const e=(0,U.O7)();(0,i.useEffect)((()=>{let e;document.hasFocus()&&(e=setInterval((()=>{xr()}),6e4),xr());const t=()=>{e&&clearInterval(e),e=setInterval((()=>{xr()}),6e4),xr()},n=()=>{e&&clearInterval(e),e=void 0};return window.addEventListener("focus",t),window.addEventListener("blur",n),()=>{e&&clearInterval(e),window.removeEventListener("focus",t),window.removeEventListener("blur",n)}}),[e])}(),null}var Ir=n(12321);class _r extends r.Z{async UNSAFE_willMountOrUpdate(){const{currentUserRootStore:e}=L.default.state;if(!e)return;await Ir.w();const t=e.getSpaceViewStores();for(const n of t){const e=n.getBookmarkedPageStores();for(const n of e)Tr(n);const t=n.getSharedPageStores();for(const n of t)Tr(n);const i=n.getTeamsStores();for(const n of i){const e=n.getTeamPagesStores();for(const t of e)Tr(t)}const o=n.getSpaceStore();if(o){lr.Z.getPublicSpaceData(this.environment,o.id);const e=(0,fi.XD)(this.environment,o);for(const t of e)Tr(t)}}}}_r.displayName="AppRecordStoreListener";const jr=_r;function Tr(e){e.load();const t=e.getCollectionViewSourceOrLinkCollectionStores();for(const n of t)n.load()}var Lr=n(54153),Er=n(2449),Ar=n(10854),Pr=n(73329),Ur=n(85844);class Zr extends r.Z{constructor(){super(...arguments),this.handleElectronUpdateChecking=()=>{const{AppUpdateStore:e}=this.environment;e.setState({appUpdate:e.state.appUpdate,electronUpdate:{state:"checking"}})},this.handleElectronUpdateError=(e,t)=>{const{AppUpdateStore:n}=this.environment;n.setState({appUpdate:n.state.appUpdate,electronUpdate:{state:"error",error:t}})},this.handleElectronUpdateNotAvailable=()=>{const{AppUpdateStore:e}=this.environment;e.setState({appUpdate:e.state.appUpdate,electronUpdate:{state:"no-update",timestamp:Date.now()}})},this.handleElectronUpdateAvailable=(e,t)=>{const{AppUpdateStore:n}=this.environment,i=(0,ne.parseVersion)(t.version),o=y.getDesktopVersion(),s=(0,ne.getUpdateType)({currentVersion:o,nextVersion:i,app:"desktop"});n.setState({appUpdate:n.state.appUpdate,electronUpdate:{state:"downloading",type:s,version:i,timestamp:Date.now(),progress:0}})},this.handleElectronUpdateProgress=(e,t)=>{const{AppUpdateStore:n}=this.environment,i=n.state;i.electronUpdate&&"downloading"===i.electronUpdate.state&&n.setState({appUpdate:i.appUpdate,electronUpdate:{...i.electronUpdate,progress:t.transferred/t.total}})},this.handleElectronUpdateReady=(e,t)=>{const{device:n}=this.environment,{AppUpdateStore:i}=this.environment,o=Lr.Z.get(Ar.Tm),s=t.version;if(o===s){if(n.isMac)return i.setState({appUpdate:i.state.appUpdate,electronUpdate:{state:"ready",type:ne.UpdateType.Major,version:void 0}}),void Os.showDialog({message:(0,H.jsx)(b.FormattedMessage,{id:"desktopAppUpdater.moveNotionToApplicationsFolderDialog.prompt",defaultMessage:"Please move the Notion app into the Applications folder for the auto-updater to work."}),showCancel:!1,keepFocus:!1,handleCancel:()=>(0,Ar.mK)(this.environment),items:[{label:(0,H.jsx)(b.FormattedMessage,{id:"desktopAppUpdater.moveNotionToApplicationsFolderDialog.dismissButton.label",defaultMessage:"Okay"}),onAccept:()=>(0,Ar.mK)(this.environment)}]});Ui.log({level:"error",from:"AppUpdateListener",type:"electronUpdateFailed",data:{miscDataToConvertToString:{previousUpdateReady:o,nextUpdateReady:s}}})}const r=y.getDesktopVersion(),a=(0,ne.parseVersion)(t.version),l=(0,ne.getUpdateType)({currentVersion:r,nextVersion:a,app:"desktop"});i.setState({appUpdate:i.state.appUpdate,electronUpdate:{state:"ready",type:l,version:a}})},this.handleAppUpdateChecking=()=>{const{AppUpdateStore:e}=this.environment;e.state.appUpdate&&"ready"===e.state.appUpdate.state||e.setState({electronUpdate:e.state.electronUpdate,appUpdate:{state:"checking"}})},this.handleElectronAppUpdateError=(e,t)=>{this.handleAppUpdateError(t)},this.handleAppUpdateError=e=>{const{AppUpdateStore:t}=this.environment;t.state.appUpdate&&"ready"===t.state.appUpdate.state||t.setState({electronUpdate:t.state.electronUpdate,appUpdate:{state:"error",error:e}})},this.handleAppUpdateNotAvailable=()=>{const{AppUpdateStore:e}=this.environment;e.state.appUpdate&&"ready"===e.state.appUpdate.state||e.setState({electronUpdate:e.state.electronUpdate,appUpdate:{state:"no-update",timestamp:Date.now()}})},this.handleElectronAppUpdateAvailable=(e,t)=>{this.handleAppUpdateAvailable(t)},this.handleAppUpdateAvailable=e=>{const{AppUpdateStore:t}=this.environment;if(t.state.appUpdate&&"ready"===t.state.appUpdate.state)return;const n=(0,ne.parseVersion)(e.version),i=Er.ac(),o=(0,ne.getUpdateType)({currentVersion:i,nextVersion:n,app:"client"});t.setState({electronUpdate:t.state.electronUpdate,appUpdate:{state:"downloading",type:o,version:n,timestamp:Date.now(),progress:0}})},this.handleElectronAppUpdateProgress=(e,t)=>{this.handleAppUpdateProgress(t)},this.handleAppUpdateProgress=e=>{const{AppUpdateStore:t}=this.environment,n=t.state;n.appUpdate&&"downloading"===n.appUpdate.state&&t.setState({electronUpdate:n.electronUpdate,appUpdate:{...n.appUpdate,progress:e.downloaded/e.total}})},this.handleElectronAppUpdateReady=(e,t)=>{this.handleAppUpdateReady(t)},this.handleAppUpdateReady=e=>{const{AppUpdateStore:t}=this.environment,n=(0,ne.parseVersion)(e.version),i=Er.ac(),o=(0,ne.getUpdateType)({currentVersion:i,nextVersion:n,app:"client"});if(!Er.M0(n)){const e={state:"ready",type:o,version:n};t.setState({electronUpdate:t.state.electronUpdate,appUpdate:e})}Vr(o,n,this.environment)},this.handleAppUpdateReload=e=>{bn.Js({bannerStore:Pr.Z}),Er.hC({environment:this.environment,url:window.location.href,version:e})},this.handleElectronAppUpdateInstall=()=>{const e=this.environment.AppUpdateStore;if(Ds.Z.getState().online&&e.isSilentUpdate()){const t=e.state.appUpdate;Er.hC({environment:this.environment,url:window.location.href,version:t.version})}},this.pollForAppJsUpdates=async()=>{let e="";for(await new Promise((e=>setTimeout(e,5e3)));this.componentIsMounted;){if(void 0===Ur.Z.state.isVisible||!0===Ur.Z.state.isVisible)try{const t=Er.ac(),n=await Ve.getAssetsJsonV2(this.environment,{hash:e});if("success"===n.type){const i=n.data;if("version"in i){const e=(0,ne.parseVersion)(i.version);e&&((0,ne.isEqualVersion)(e,t)||this.handleAppUpdateReady(i))}"hash"in i&&(e=i.hash||"")}}catch(t){}await new Promise((e=>setTimeout(e,6e4)))}}}didMount(){const{device:e,mobileNative:t}=this.environment;if(e.isElectron?(y.electronUpdateReady.addListener(this.handleElectronUpdateReady),y.electronUpdateError.addListener(this.handleElectronUpdateError),y.electronUpdateChecking.addListener(this.handleElectronUpdateChecking),y.electronUpdateAvailable.addListener(this.handleElectronUpdateAvailable),y.electronUpdateProgress.addListener(this.handleElectronUpdateProgress),y.electronUpdateNotAvailable.addListener(this.handleElectronUpdateNotAvailable),y.appUpdateReady.addListener(this.handleElectronAppUpdateReady),y.appUpdateError.addListener(this.handleElectronAppUpdateError),y.appUpdateChecking.addListener(this.handleAppUpdateChecking),y.appUpdateAvailable.addListener(this.handleElectronAppUpdateAvailable),y.appUpdateInstall.addListener(this.handleElectronAppUpdateInstall),y.appUpdateProgress.addListener(this.handleElectronAppUpdateProgress),y.appUpdateNotAvailable.addListener(this.handleAppUpdateNotAvailable),y.appUpdateReload.addListener(this.handleAppUpdateReload)):t?t.updateReceiveApiHandlers({appUpdateReady:this.handleAppUpdateReady,appUpdateError:this.handleAppUpdateError,appUpdateChecking:this.handleAppUpdateChecking,appUpdateAvailable:this.handleAppUpdateAvailable,appUpdateProgress:this.handleAppUpdateProgress,appUpdateNotAvailable:this.handleAppUpdateNotAvailable}):j.default.isAdminMode||j.default.isLocalhost&&!j.default.offline||this.pollForAppJsUpdates(),function(e){const t=Er.ac(),n=Er.uG();if(!(0,ne.isEqualVersion)(t,n)){0,Vr((0,ne.getUpdateType)({currentVersion:t,nextVersion:n,app:"client"}),n,e)}}(this.environment),e.isMobileNative&&t&&t.api.openUpdateSettings){const t=e.osVersion,n=e.isAndroid&&(0,ne.isLessThanVersion)(t,[7,0]),i=e.isIOS&&(0,ne.isLessThanVersion)(t,[15,0]);(n||i)&&function(e){const{mobileNative:t}=e;if(!t)return;bn.Bw({bannerStore:Pr.Z,id:"PlatformUpdateWarning",contentKey:"mobile_platform_unsupported",styleKey:wn.v.Red})}(this.environment)}}willUnmount(){const{device:e}=this.environment;e.isElectron&&(y.electronUpdateReady.removeListener(this.handleElectronUpdateReady),y.electronUpdateError.removeListener(this.handleElectronUpdateError),y.electronUpdateChecking.removeListener(this.handleElectronUpdateChecking),y.electronUpdateAvailable.removeListener(this.handleElectronUpdateAvailable),y.electronUpdateProgress.removeListener(this.handleElectronUpdateProgress),y.electronUpdateNotAvailable.removeListener(this.handleElectronUpdateNotAvailable),y.appUpdateReady.removeListener(this.handleElectronAppUpdateReady),y.appUpdateError.removeListener(this.handleElectronAppUpdateError),y.appUpdateChecking.removeListener(this.handleAppUpdateChecking),y.appUpdateAvailable.removeListener(this.handleElectronAppUpdateAvailable),y.appUpdateProgress.removeListener(this.handleElectronAppUpdateProgress),y.appUpdateNotAvailable.removeListener(this.handleAppUpdateNotAvailable),y.appUpdateReload.removeListener(this.handleAppUpdateReload))}}Zr.displayName="AppUpdateListener";const Rr=(0,b.injectIntl)(Zr);async function Br(e){await async function(e){await L.default.waitUntilRendered();const{mainEditorCurrentBlockStore:t,currentUserStore:n}=L.default.state;return!(!n||!t||(0,ge.IJ)(e,t))}(e)&&bn.Bw({bannerStore:Pr.Z,id:"AppUpdate",contentKey:"minor_app_update",styleKey:wn.v.Blue})}function Vr(e,t,n){e===ne.UpdateType.Major?t&&Er.M0(t)?(Er.D$(t),Br(n)):function(e){Os.showDialog({message:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"We just launched new features!",id:"breakingUpdateDialog.title"}),showCancel:!1,keepFocus:!1,handleCancel:()=>(0,Ar.mK)(e),items:[{label:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Update and see what's new",id:"breakingUpdateDialog.updateButtonTitle"}),color:"blue",onAccept:()=>(0,Ar.mK)(e)}],innerStyle:{width:380}})}(n):e===ne.UpdateType.Minor?(t&&Er.M0(t)&&Er.D$(t),Br(n)):t&&Er.M0(t)&&Er.D$(t)}var Nr=n(32223);function Or(e){Ds.Z.setState({...Ds.Z.state,online:e,lastOfflineTimestamp:e?Ds.Z.state.lastOfflineTimestamp:Date.now()})}class Fr extends r.Z{constructor(){super(...arguments),this.connectionIntervalUpdateRequest=void 0}UNSAFE_willMount(){this.connectionIntervalUpdateRequest||(this.connectionIntervalUpdateRequest=window.setInterval((()=>async function(e){if((e.device.isBrowser||e.device.isElectron)&&document.hidden)return;if(Nr.isConnected())return void Or(!0);if(!1===navigator.onLine&&!j.default.isLocalhost)return void Or(!1);"success"===(await Ve.ping(e,{})).type?Or(!0):Or(!1)}(this.environment)),5e3))}willUnmount(){window.clearInterval(this.connectionIntervalUpdateRequest),this.connectionIntervalUpdateRequest=void 0}}Fr.displayName="ConnectionListener";const zr=Fr;var Dr=n(51204),Wr=n(77788),Hr=n(24608);class qr extends r.Z{constructor(){super(...arguments),this.refreshFileTokenRequest=void 0}UNSAFE_willMount(){Gr(this.environment),this.refreshFileTokenRequest||(this.refreshFileTokenRequest=window.setInterval((()=>Gr(this.environment)),36e5))}willUnmount(){window.clearInterval(this.refreshFileTokenRequest),this.refreshFileTokenRequest=void 0}}qr.displayName="FileTokenRefresh";const Kr=qr;function Gr(e){(0,Hr.ZP)({url:`${j.default.secureFileConfig.rootPath}/refresh`,environment:e,method:"GET",format:"text"})}var $r=n(45483);function Yr(e){window.__c={n:"InertWhenModalsAreOpen"};const t=(0,Z.VK)((()=>E.default.checkGate("inert_html_attribute")),[]),n=(0,Z.VK)((()=>$r.Z.state.openModals.size>0),[]),i={inert:t&&n?"true":null};return(0,H.jsx)("div",{style:e.style,...i,children:e.children})}var Qr=n(62134),Xr=n(45023);function Jr(){return window.__c={n:"KeyboardShortcutStackListener"},function(){const e=(0,U.O7)();(0,i.useEffect)((()=>{const t=t=>{Qr.Zm(e,t)},n=t=>{const{shortcutMap:n}=e.KeyboardShortcutStackStore,i=Xe.w_(n,((n,i)=>(0,Xr.Z)(e,t,n)));i&&!{cut:!0,copy:!0,paste:!0}[i]&&Qr.dJ(e,t,i)};return window.addEventListener("keydown",n),window.addEventListener("cut",t),window.addEventListener("copy",t),window.addEventListener("paste",t),window.addEventListener("keypress",t),()=>{window.removeEventListener("keydown",n),window.removeEventListener("cut",t),window.removeEventListener("copy",t),window.removeEventListener("paste",t),window.removeEventListener("keypress",t)}}))}(),null}var ea=n(91948),ta=n(31104),na=n(17294);const ia=function(){window.__c={n:"LoadingStateRenderer"};const e=(0,Z.VK)((()=>ta.Z.state),[]);return(0,H.jsx)(cn.Z,{open:e.open,render:()=>(0,H.jsx)(aa,{}),overlayZIndex:oe._})};function oa(e){return void 0!==e&&Boolean(na.Z.state[e])}function sa(e){return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minWidth:180,padding:"18px 24px 20px",textAlign:"center",maxWidth:e.device.isMobile?"300px":"100%"}}function ra(e){return{display:"flex",alignItems:"center",fontSize:14,color:e.mediumTextColor}}function aa(){window.__c={n:"ModalComponent"};const e=(0,R.Fg)(),t=(0,U.O7)(),n=(0,Z.VK)((()=>ta.Z.state),[]);if(!n.open)return null;const{targetRecordId:i}=n;return(0,H.jsxs)("div",{style:sa(t),children:[(0,H.jsxs)("div",{style:ra(e),children:[n.message,(0,H.jsx)(an.Z,{style:{marginLeft:6}})]}),oa(i)&&(0,H.jsx)(ea.Z,{targetRecordId:i,style:{marginTop:10}})]})}class la extends r.Z{UNSAFE_willMountOrUpdate(){const{device:e,mobileNative:t}=this.environment;e.isElectron&&y.setLogglyData(Ui.clientLogglyEnvironmentData),t&&t.setLogglyData(Ui.clientLogglyEnvironmentData)}}la.displayName="LogglyDataListener";const da=la;var ca=n(1302),ua=n(69454);class pa extends r.Z{constructor(){super(...arguments),this.handleEstimatedKeyboardWebViewOverlapStoreChange=()=>{ca.default.afterNextFlush((()=>{jn.hQ(this.environment)}))},this.estimatedKeyboardWebViewOverlapStore=this.createComputedStore((()=>{const e=ua.Z.state;return e.phase===ua.i.willShow?0:e.estimatedKeyboardWebViewOverlap}))}UNSAFE_willMount(){this.environment.device.isMobile&&(Yt.default.addListener(this.handleEstimatedKeyboardWebViewOverlapStoreChange),this.estimatedKeyboardWebViewOverlapStore.addListener(this.handleEstimatedKeyboardWebViewOverlapStoreChange))}willUnmount(){this.environment.device.isMobile&&(Yt.default.removeListener(this.handleEstimatedKeyboardWebViewOverlapStoreChange),this.estimatedKeyboardWebViewOverlapStore.removeListener(this.handleEstimatedKeyboardWebViewOverlapStoreChange))}}pa.displayName="MobileListener";const ha=pa;var ma=n(27328);const ga=["compact","regular","unknown"];var va=n(92338),fa=n(36054),ba=n(74487),Sa=n(97977),ya=n(98958),wa=n(87531),Ca=n(24677),ka=n(29974),xa=n(98104),Ma=n(12955),Ia=n(51783),_a=n(44499),ja=n(45162),Ta=n(18514),La=n(97638);function Ea(e){const t=(0,ma.w_)(e);switch(t.type){case"native":return;case"web":const e=t.route;switch(e.name){case"page":return e.collectionViewId?"collection":"page";case"nativeTab":switch(e.tab){case"search":return"search";case"updates":return"updates"}break;default:return}}}var Aa=n(19361),Pa=n(55081),Ua=n(75538),Za=n(49038),Ra=n(97799),Ba=n(91190),Va=n(36896),Na=n(44604),Oa=n(12252),Fa=n(64233),za=n(69327),Da=n(475),Wa=n(65686),Ha=n(53610),qa=n(66881),Ka=n(62820),Ga=n(34583);const $a=(0,b.defineMessages)({failedToMovePageGeneric:{id:"MobileNativeListener.failedToMovePage",defaultMessage:"Failed to move page"}});let Ya;class Qa extends r.Z{constructor(){super(...arguments),this.bottomBarVisibility=this.createComputedStore((()=>{const{currentUserStore:e,renderPhase:t}=L.default.state,n=Boolean(null==e?void 0:e.id),{shouldShowError:i}=pe.h1(this.environment),o="rendered"===t&&i,s=Ua.default.state.isOnboarding,r=(0,_e.Y)("supportsNativeBottomBarOverlappingWebView")?Ki.Z.hasOpenMobileSlideUps():Ki.Z.hasOpenPopups();return!o&&n&&!s&&!r})),this.customAddCommentMenuItemEnabled=this.createComputedStore((()=>{var e;if(!(0,_e.Y)("supportsCustomAddCommentMenuItem"))return!1;const{currentUserStore:t}=L.default.state;if(!Boolean(null==t?void 0:t.id))return!1;if((0,_e.Y)("supportsNativeBottomBarOverlappingWebView")?Ki.Z.hasOpenMobileSlideUps():Ki.Z.hasOpenPopups())return!1;const{TabbedRouterStore:n}=this.environment,i=(0,ma.w_)(n.state),o="web"===i.type&&((null===(e=i.redirectedTo)||void 0===e?void 0:e.route)||i.route);if(!o||"page"!==o.name)return!1;const s=Yt.default.state;if("empty"===s.mode)return!1;const r=(0,ja.tp)({multiSelection:s.multiSelection,filterCommonAncestors:!0,focus:void 0});if(!r||0===r.stores.length)return!1;let a=!0;return r.stores.forEach((e=>{a&&(a=a&&e.canComment())})),a})),this.isOnUpdatesPage=this.createComputedStore((()=>{const e=this.environment.TabbedRouterStore.state;return"updates"===e.activeTab&&0===e.tabs.updates.pages.length})),this.aiAssistantEnabledState=this.createComputedStore((()=>{const{currentUserStore:e,currentSpaceStore:t}=L.default.state;if(!e||!t)return;const n=Te.Z.isShowingQNAOnMobile();return{userId:e.id,spaceId:t.id,enabled:n}})),this.sideBarExpandedStateChangeHandler=()=>{var e;null===(e=this.environment.mobileNative)||void 0===e||e.sidebarVisibility(ke.sidebarExpandedStore.state&&!(0,Ie.YR)(this.environment),(0,Ie.qG)(this.environment))},this.bottomBarVisibilityChange=()=>{var e;const t=this.bottomBarVisibility.state;null===(e=this.environment.mobileNative)||void 0===e||e.toggleBottomBar(t),t||Aa.Z.update((e=>({...e,active:!1})))},this.aiAssistantEnabledStateChange=()=>{var e;const t=this.aiAssistantEnabledState.state;t&&(null===(e=this.environment.mobileNative)||void 0===e||e.updateAiAssistantEnabledState(t))},this.handleStatusBarTap=()=>{this.scrollToTop()},this.scrollToTop=()=>{Wa.Z.getPreventScrollType()===Zn.Z.None&&(ke.sidebarOpenStore.state?Pn.Z.SidebarMobileScroller&&Pn.Z.SidebarMobileScroller.scrollToTop({animate:!0,animationCallback:Xe.yR}):Pn.Z.MenuScroller?Pn.Z.MenuScroller.scrollToTop({animate:!0,animationCallback:Xe.yR}):Pn.Z.MenuPageScroller?Pn.Z.MenuPageScroller.scrollToTop({animate:!0,animationCallback:Xe.yR}):Pn.Z.PageScroller&&Pn.Z.PageScroller.scrollToTop({animate:!0,animationCallback:Xe.yR}))},this.handleSwipeNavigation=()=>{const{mobileNative:e,RouterStore:t}=this.environment;if(e&&e.setWebViewAllowsNavigationGestures){const{route:n}=t.state;"onboarding"===n.name||ke.sidebarOpenStore.state||Wa.Z.getPreventScrollType()!==Zn.Z.None?!1!==Ya&&(Ya=!1,e.setWebViewAllowsNavigationGestures(!1)):!0!==Ya&&(Ya=!0,e.setWebViewAllowsNavigationGestures(!0))}},this.spaceViewId=void 0,this.userId=void 0,this.handleAppChange=()=>{const{currentUserStore:e,currentSpaceStore:t}=L.default.state;null!=e&&e.id&&null!=t&&t.id&&za.Z.reinitializeState(this.environment,e.id,t.id);(void 0===(null==e?void 0:e.id)||this.userId!==(null==e?void 0:e.id))&&this.handleUserChange(e);const n=L.default.state.currentSpaceViewStore;this.spaceViewId!==(null==n?void 0:n.id)&&this.handleSpaceViewChange(n)},this.handleSpaceViewChange=e=>{var t;this.spaceViewId=null==e?void 0:e.id;const{mobileNative:n,TabbedRouterStore:i,currentUser:o}=this.environment,s=L.default.state.currentSpaceStore,r=null==s?void 0:s.id;if(null!=n&&null!==(t=n.api)&&void 0!==t&&t.setCurrentSpaceInfo&&(Ui.log({level:"info",from:"appActions",type:"SpaceSwitchingDebug",data:{message:"Web calling nativeAPI setCurrentSpaceInfo",spaceId:r}}),n.api.setCurrentSpaceInfo({spaceId:r,spaceViewId:null==e?void 0:e.id,userId:o.id,editable:(null==s?void 0:s.canEdit())??!0})),(0,Ta.__)(this.environment)){const e=e=>{if("web"!==e.type)return;const t={...e.queryParams},n=r&&(0,kr.cj)(r);t.spaceId=n,e.queryParams=t,e.route.spaceId=n},t=Xe.Xh(i.state);e(t.tabs.search.rootPage),e(t.tabs.updates.rootPage),e(t.tabs.addPage.rootPage),this.clearTabbedRouterStoreState(t),i.setState(t)}this.getLocalSearchCache(this.environment,void 0)},this.handleUserChange=e=>{var t;this.userId=null==e?void 0:e.id,null!==(t=this.environment.mobileNative)&&void 0!==t&&null!==(t=t.api)&&void 0!==t&&t.setCurrentUserInfo&&this.environment.mobileNative.api.setCurrentUserInfo({userId:null==e?void 0:e.id,loggedInUserIds:this.environment.currentUser.loggedInUserIds});const n=!(0,Ta.__)(this.environment)||void 0===this.environment.currentUser.id,{TabbedRouterStore:i}=this.environment,o=Xe.Xh(i.state);this.clearTabbedRouterStoreState(o,n),i.setState(o)},this.handleKeyboardAutoScroll=()=>{ua.Z.state.phase===ua.i.willShow&&ca.default.afterNextFlush((()=>jn.hQ(this.environment)))},this.handleMobileNativeKeyboardStore=()=>{if(ua.Z.state.phase===ua.i.hidden){if(Fa.Z.state.open)return;const{NativeMobileActionBarStore:e,device:t}=this.environment;if(e&&null!==e.state.menuType&&t.isAndroid)return;xa.ZH(this.environment)}},this.setCurrentUserId=async e=>{this.environment.currentUser.id!==e&&await M.x({environment:this.environment,newCurrentUserId:e})},this.setCurrentSpace=async(e,t)=>{const n=await M.x({environment:this.environment,newCurrentUserId:e}),{currentUserRootStore:i,currentUserSettingsStore:o}=L.default.state;if(!i)return;await i.load();const s=(0,fi.w3)(t);s&&await ka.y3({environment:n,spaceViewStore:s,userSettingsStore:o,userRootStore:i,pageVisitSource:In.tY.SwitchSpace})},this.openSearch=()=>{(0,_e.Y)("supportsNativeHome")&&this.environment.device.isPhone?(k.clearHistoryState({RouterStore:this.environment.RouterStore,currentUserId:this.environment.currentUser.id}),wa.UT({environment:this.environment,analyticsFrom:"mobile-bottom-bar",renderAsPage:!0})):wa.UT({environment:this.environment,analyticsFrom:"mobile-bottom-bar"}),S.nBz(this.environment,{itemName:"search",logging_source:"mobile_native"})},this.openAllUpdates=()=>{(0,_e.Y)("supportsNativeHome")&&this.environment.device.isPhone?(k.clearHistoryState({RouterStore:this.environment.RouterStore,currentUserId:this.environment.currentUser.id}),k.navigate({environment:this.environment,url:`${m.VP.nativeTab}/updates`,redirect:!0})):Ka.Z.setState({...Ka.Z.state,open:!0})},this.openMembersSettings=()=>{Ha.Z.setState({...Ha.Z.state,open:!0})},this.openHelp=()=>{Da.Z.setState({...Da.Z.state,open:!0})},this.openSupportMessages=()=>{I.j({environment:this.environment,from:"help_button"})},this.openMoveTo=e=>{const t=new A.G(this.environment,{table:nn.iU,id:e});gi.bA({environment:this.environment,blocks:[t],moveToContext:"home_tab",onAccept:e=>{k.navigateToPage({store:t,environment:this.environment,pageVisitSource:In.tY.Move})}})},this.createOrJoinWorkspace=async()=>{await Pa.xN(this.environment)},this.openSettings=()=>{Ra.Z.setState({open:!0,source:Ra.Y.Home})},this.openTrash=e=>{Va.Z.setState({open:!0});const{query:t}=e;t&&Na.Z.setState({...Na.Z.state,currentTab:"all_pages",filter:t,limit:Na.Z.startLimit})},this.openAIAssistant=e=>{qa.g.update((t=>({query:e.query,searchSessionId:e.searchSessionId,from:e.from??"search",shouldReset:Boolean(e.query&&e.query.trim().length>0)}))),k.navigate({environment:this.environment,url:`${m.VP.nativeTab}/assistant`,redirect:!0})},this.openAddAccount=()=>{Ba.C.setState({...Ba.C.state,open:!0})},this.openAddPage=()=>{(0,_e.Y)("supportsNativeHome")&&this.environment.device.isPhone?(k.clearHistoryState({RouterStore:this.environment.RouterStore,currentUserId:this.environment.currentUser.id}),we.quickAddPage({environment:this.environment,from:"mobile_bottom_bar",redirect:!0,quickAddParentOverride:{type:"space-private-pages"}})):we.quickAddPage({environment:this.environment,from:"mobile_bottom_bar"}),S.nBz(this.environment,{itemName:"add_page"})},this.handleTabbedRouterStoreChange=()=>{var e;const{mobileNative:t,TabbedRouterStore:n}=this.environment,i=null==t||null===(e=t.api)||void 0===e?void 0:e.handleTabbedRouterStateUpdate;if(i){const e=n.state;i({state:e,topPage:(0,ma.w_)(e),webTransitionType:Ea(e),updateId:(0,kr.ZP)()});const t=n.getPreviousState();if(!t)return;const o=(0,ma.F9)(t),s=(0,ma.F9)(e);Xe.Xy(o,s)||S.w3M(this.environment,{origin:o,destination:s,from:e.navigationSource,action:e.navigationAction,logging_source:"mobile_native"})}},this.handleCustomAddMenuItemEnabledChanged=()=>{if(!(0,_e.Y)("supportsCustomAddCommentMenuItem"))return;const e=this.customAddCommentMenuItemEnabled.state,{mobileNative:t}=this.environment;null==t||t.updateCustomAddCommentMenuItemEnabled(e)},this.getLocalSearchCache=Xe.HP((async(e,t)=>(await s.deps.searchActions.loader()).getLocalCacheFromAppState(e)),((e,t)=>{var n;return`${e.currentUser.id}-${(null===(n=L.default.state.currentSpaceViewStore)||void 0===n?void 0:n.id)??"none"}-${t??"none"}`})),this.clearTabbedRouterStoreState=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.keys(e.tabs).forEach((n=>{const i=n;t&&(e.tabs[i].nativeRootPageOverrideEnabled=void 0),e.tabs[i].pages="home"!==i?[]:e.tabs[i].pages.splice(0,1)}))}}UNSAFE_willMount(){const{mobileNative:e,RouterStore:t,TabbedRouterStore:n,device:i}=this.environment;var o;i.isMobileNative&&e&&(this.handleAppChange(),L.default.addListener(this.handleAppChange),ke.sidebarOpenStore.addListener(this.handleSwipeNavigation),ke.sidebarExpandedStore.addListener(this.sideBarExpandedStateChangeHandler),wr.Z.addListener(this.handleSwipeNavigation),t.addListener(this.handleSwipeNavigation),ua.Z.addListener(this.handleKeyboardAutoScroll),this.bottomBarVisibility.addListener(this.bottomBarVisibilityChange),this.aiAssistantEnabledState.addListener(this.aiAssistantEnabledStateChange),this.environment.WindowSizeStore.addListener(this.sideBarExpandedStateChangeHandler),n.addListener(this.handleTabbedRouterStoreChange),this.customAddCommentMenuItemEnabled.addListener(this.handleCustomAddMenuItemEnabledChanged),e.updateReceiveApiHandlers({statusBarTap:this.handleStatusBarTap,backButtonPress:()=>Qr.Zm(this.environment,{type:"backbutton"}),keyboardWillShow:e=>{ua.Z.updateKeyboardPhase(this.environment,ua.i.willShow,e??0)},keyboardDidShow:e=>ua.Z.updateKeyboardPhase(this.environment,ua.i.shown,e??0),keyboardWillHide:()=>{var e;(ua.Z.updateKeyboardPhase(this.environment,ua.i.willHide,0),(0,_e.Y)("supportsIpadOS16Keyboard"))||i.isIpad&&(Ca.ZH(this.environment),null===(e=this.environment.NativeMobileActionBarStore)||void 0===e||e.clear(!0))},keyboardDidHide:()=>{var e;(ua.Z.updateKeyboardPhase(this.environment,ua.i.hidden,0),(0,_e.Y)("supportsIpadOS16Keyboard"))&&(i.isIpad&&(Ca.ZH(this.environment),null===(e=this.environment.NativeMobileActionBarStore)||void 0===e||e.clear(!0)))},keyboardShortcut:e=>Qr.Zm(this.environment,e),pushNotificationTokenRefresh:e=>ya.handleTokenRefresh(this.environment,e,"refresh"),resume:Oa.Z.resume,pause:Oa.Z.pause,refreshSubscriptionData:async e=>{await Ve.invalidateSubscriptionData(this.environment,{spaceId:e,provider:"revenue_cat"}),await Ga.bi(this.environment)},refreshSubscriptionDataV2:async()=>{await Ga.bi(this.environment)},processMobileActionBarAction:t=>{const{componentId:n,action:i}=t;e.componentEvents.dispatch("MobileActionBar",n,"onAction",{action:i})},updateExperimentData:async e=>{if((0,Xs._3)(this.environment)){const t=await(0,Ma.getExperimentDeviceId)(this.environment),n=this.environment.currentUser.id,i=(0,Xs.fP)(t,n,e);i&&E.default.updateState(i,this.environment)}},trackExperimentExposure:async e=>{await S.Bb7({environment:this.environment,experiment_id:e.experimentId,experiment_version:e.experimentVersion,experiment_group:e.group||"ineligible",logging_source:"mobile_native"})},receiveRawMessageStoreMessage:e=>{Nr.onMobileNativeReceiveRawMessageStoreMessage(e,this.environment)},updateMessageStoreState:e=>{Nr.onMobileNativeUpdateMessageStoreState(e,this.environment)},logout:e=>{Sa.logoutSingleAccount({environment:this.environment,userId:e})},logoutAll:()=>{Sa.logout(this.environment)},openDestinationV2:e=>{switch(Ki.Z.closeAll(),(0,Ta.__)(this.environment)&&k.navigateToTab({environment:this.environment,tab:n.state.activeTab,nativeRootPageOverrideEnabled:!1}),e.type){case"moveTo":this.openMoveTo(e.blockId);break;case"trash":this.openTrash({query:e.query});break;case"AIAssistant":this.openAIAssistant({query:e.query,searchSessionId:e.searchSessionId,from:e.from})}},openDestination:e=>{Ki.Z.closeAll();switch("closePopup"!==e&&(0,Ta.__)(this.environment)&&k.navigateToTab({environment:this.environment,tab:n.state.activeTab,nativeRootPageOverrideEnabled:!1}),e){case"search":this.openSearch();break;case"addPage":this.openAddPage();break;case"allUpdates":this.openAllUpdates();break;case"addAccount":this.openAddAccount();break;case"createOrJoinWorkspace":return this.createOrJoinWorkspace();case"notificationAndSettings":this.openSettings();break;case"trash":this.openTrash({});break;case"memberSettings":this.openMembersSettings();break;case"help":this.openHelp();break;case"intercom_messages":this.openSupportMessages()}},setCurrentUserId:async e=>{await this.setCurrentUserId(e)},setCurrentSpace:async e=>{await this.setCurrentSpace(e.userId,e.spaceId)},updateHorizontalSizeClass:t=>{const n=(0,fa.Gu)(ba.literals(...ga),t)?"unknown":t;n!==e.horizontalSizeClass.state&&e.horizontalSizeClass.setState(n)},updateTabbedRouterState:e=>{var t;const{TabbedRouterStore:n}=this.environment,i=n.state;e.tab!==i.activeTab||null!==(t=e.pages)&&void 0!==t&&t.length||i.tabs[i.activeTab].pages.length?k.navigateToTab({environment:this.environment,tab:e.tab,queryParams:e.queryParams,pages:e.pages,nativeRootPageOverrideEnabled:e.nativeRootPageOverrideEnabled,navigationAction:e.navigationAction,navigationSource:e.navigationSource}):this.scrollToTop();const o=n.state;return[{state:o,topPage:(0,ma.w_)(o),webTransitionType:Ea(o),updateId:e.updateId??(0,kr.ZP)()}]},getLocalSearchResults:async e=>{const t=await this.getLocalSearchCache(this.environment,e.searchSessionId);if(!t)return[{error:"Local cache does not exist"}];const n=(0,fa.Gu)(va.GA,e.sort);if(n)return[{error:`old sort type is unsupported! ${n}`}];const i=e.sort,o=(0,Za.f)({query:{query:{text:e.query??"",filters:e.filters,sort:i},limit:e.limit},localCachedPages:t,includeRecordMap:!1,userId:this.environment.currentUser.id,environment:this.environment,applyRecallScoreThreshold:!1,canUseLtr:!1}),s=[{value:{total:0,results:[],recordMap:{},trackEventProperties:{}}}];if(!o||0===o.results.length)return s;const r=Ds.Z.state.online?La.g8(this.environment,o.results):o.results;return[{value:{results:r,total:r.length,recordMap:{},trackEventProperties:{}}}]},customAddCommentMenuItemTapped:()=>{(0,Ia.ol)(this.environment,!0,"custom_add_comment_menu_item")},filterValidMoveToBlocks:e=>{const t=e.targets.map((e=>new A.G(this.environment,{table:nn.iU,id:e}))),n=e.blocks.filter((e=>{const n=new A.G(this.environment,{table:nn.iU,id:e});return n.canEdit()&&(0,_a.Xk)(n,t)}));return[{value:{targets:e.targets,blocks:n}}]},completeMoveToTransaction:async e=>{const{targets:t,destination:n,moveToContext:i,timeToSelectMs:o,isSearchResult:s,flowId:r}=e,a=this.environment,l=t.map((e=>new A.G(this.environment,{table:nn.iU,id:e}))),d=gi.QF(a,t,n);if(l&&l.length>0&&!d)try{return await Kt.createAndCommitAsync({userAction:"MobileNativeListener.completeMoveTo",environment:a,waitForServerCommit:!1,perform:async e=>{await gi.RL({targets:l,value:n,transaction:e,environment:a,moveToContext:i,renderType:"native",timeToSelectMs:o,disableSuccessToast:!0,isSearchResult:s,flowId:r})}}),[{value:e}]}catch(c){}return S.fW6(a,{type:"moved_to_subpage"}),[{error:jt.default.formatMessage($a.failedToMovePageGeneric)}]},undoRevision:()=>{re.Yw(this.environment,!0)},searchTeams:async e=>{const{query:t}=e,n=L.default.state.currentSpaceStore,i=L.default.state.currentSpaceViewStore;if(!n||!i)return[{error:"SpaceStore or SpaceViewStore was undefined"}];const o=await s.deps.searchActions.loader();return[{value:{ids:(await o.searchTeams({spaceViewStore:i,query:t,teamStores:i.getTeamsStores()})).map((e=>e.id))}}]}}),i.isAndroid&&ua.Z.addListener(this.handleMobileNativeKeyboardStore),null!==(o=this.environment.mobileNative)&&void 0!==o&&o.api.ready&&this.environment.mobileNative.api.ready(),this.sideBarExpandedStateChangeHandler(),this.handleCustomAddMenuItemEnabledChanged())}willUnmount(){const{mobileNative:e,RouterStore:t,TabbedRouterStore:n,device:i}=this.environment;i.isMobileNative&&e&&(L.default.removeListener(this.handleAppChange),ke.sidebarOpenStore.removeListener(this.handleSwipeNavigation),ke.sidebarExpandedStore.removeListener(this.sideBarExpandedStateChangeHandler),wr.Z.removeListener(this.handleSwipeNavigation),t.removeListener(this.handleSwipeNavigation),ua.Z.removeListener(this.handleKeyboardAutoScroll),this.bottomBarVisibility.removeListener(this.bottomBarVisibilityChange),this.aiAssistantEnabledState.removeListener(this.aiAssistantEnabledStateChange),n.removeListener(this.handleTabbedRouterStoreChange),this.customAddCommentMenuItemEnabled.removeListener(this.handleCustomAddMenuItemEnabledChanged),i.isAndroid&&ua.Z.removeListener(this.handleMobileNativeKeyboardStore))}}Qa.displayName="MobileNativeListener";const Xa=Qa;var Ja=n(71474);const el=()=>{window.__c={n:"NativeMetricsLoader"};const e=(0,U.O7)();return(0,i.useEffect)((()=>{const{mobileNative:t}=e;t&&t.enableBridgeMetricsCollection(e,Un.default,E.default)}),[e]),null};function tl(){return window.__c={n:"PageVisibilityListener"},function(){const e=(0,U.O7)();(0,i.useEffect)((()=>{function t(){Ur.Z.setState({...Ur.Z.state,isVisible:!document.hidden});const t=Er.W$(),n=t&&(Date.now()-t)/qe.A0>=7;if(e.device.isBrowser&&!document.hidden&&(!t||n)&&Ds.Z.getState().online){const t=e.AppUpdateStore;if(t.isSilentUpdate()){const n=t.state.appUpdate;Er.hC({environment:e,url:window.location.href,version:n.version})}}}return document.addEventListener("visibilitychange",t),t(),()=>{document.removeEventListener("visibilitychange",t)}}),[e])}(),null}var nl=n(18466);new Set(["destinations","emergencyThrottlePercentage","amplitudeOptions","datadogOptions","snowflakeOptions","statsigOptions"]),ba.literals("connected_apps_settings","compliance_connected_apps_settings","external_object_instance_block","external_object_instance_inline_popup","external_object_instance_block_error_dropdown","placeholder_root_external_collection_view_block","connected_relation_property_menu","source_picker_connect_another_account","integration_gallery","collection_settings_property_type","integration_file_picker","send_to_notion","unfurl","messages_tab","install_redirect","all_updates","notifications_and_settings","collection_view_settings","share_menu","space_settings","workspace_connections_redirect");var il=n(77897);function ol(){return 1}function sl(e){let{id:t,targetRenderPhase:n="all",samplePercent:o=ol(),children:s}=e;window.__c={n:"PerformanceProfiler"};const r=(0,U.O7)(),a=(0,i.useCallback)(((e,t,i,s,a,l)=>{(0,il.lB)(o)&&("all"!==n&&t!==n||Gs.j(r,`render_duration.${e}`,{time:i,render_phase:t}))}),[r,n,o]),[l]=(0,i.useState)(nl.Z.withListenerIgnored((()=>E.default.checkGate("client-performance-profiler"))));return l?(0,H.jsx)(i.Profiler,{id:t,onRender:a,children:s}):(0,H.jsx)(H.Fragment,{children:s})}var rl=n(89224),al=n(59238);const ll=()=>{window.__c={n:"TouchSelectionGestureListener"};const e=(0,U.O7)(),t=(0,i.useRef)("none"),n=(0,i.useCallback)((e=>{const n=t.current;e!==n&&(t.current=e,"dragging"===e?al.Z.setState({isDragging:!0}):"dragging"===n&&al.Z.setState({isDragging:!1}))}),[]),o=(0,i.useCallback)((()=>{"none"===t.current&&n("touching")}),[n]),s=(0,i.useCallback)((()=>{n("none")}),[n]),r=(0,i.useCallback)((()=>{"touching"===t.current&&rl.isExpanded(rl.get())&&n("dragging")}),[n]);return(0,i.useEffect)((()=>{if(e.device.isIOS)return window.addEventListener("touchstart",o),window.addEventListener("touchend",s),window.addEventListener("touchcancel",s),document.addEventListener("selectionchange",r),()=>{window.removeEventListener("touchstart",o),window.removeEventListener("touchend",s),window.removeEventListener("touchcancel",s),document.removeEventListener("selectionchange",r)}}),[e.device.isIOS,o,s,r]),null},dl=()=>{window.__c={n:"SelectionListener"};const e=(0,U.O7)(),t=(0,i.useCallback)((()=>{ca.default.afterNextFlush((()=>{xa.ls()}))}),[]),n=(0,i.useCallback)((()=>{setTimeout((()=>{rl.get()||xa.ZH(e)}),0)}),[e]);return(0,i.useEffect)((()=>(window.addEventListener("mousedown",t),e.device.isMobileBrowser&&document.addEventListener("focusout",n),()=>{window.removeEventListener("mousedown",t),document.removeEventListener("focusout",n)})),[e,t,n]),(0,H.jsx)(ll,{})};class cl extends r.Z{constructor(e){super(e),this.mediaQueryList=window.matchMedia("(prefers-color-scheme: dark)"),this.initialSet=Hi.default.createValue(!1),this.handleThemeChange=this.handleThemeChange.bind(this)}UNSAFE_willMount(){this.setTheme();const{mobileNative:e,device:t}=this.environment;t.isAndroid&&e?e.updateReceiveApiHandlers({themeChanged:e=>this.setTheme()}):this.mediaQueryList.addEventListener?this.mediaQueryList.addEventListener("change",this.handleThemeChange):this.mediaQueryList.addListener&&this.mediaQueryList.addListener(this.handleThemeChange)}willUnmount(){this.mediaQueryList.removeEventListener?this.mediaQueryList.removeEventListener("change",this.handleThemeChange):this.mediaQueryList.removeListener&&this.mediaQueryList.removeListener(this.handleThemeChange)}UNSAFE_willUpdate(){var e;!this.initialSet.state&&null!==(e=L.default.state.mainEditorCurrentBlockStore)&&void 0!==e&&e.isReady()&&(this.setTheme(),this.initialSet.setState(!0))}handleThemeChange(e){this.setTheme()}setTheme(){"system"===sr.MH(this.environment)&&rr.Z.emit()}}cl.displayName="SystemThemeListener";const ul=cl;class pl extends r.Z{constructor(){super(...arguments),this.updateConnectionStateWithEnvironment=()=>Kt.updateConnectionState(this.environment)}UNSAFE_willMount(){Ds.Z.addListener(this.updateConnectionStateWithEnvironment),Kt.updateConnectionState(this.environment)}willUnmount(){Ds.Z.removeListener(this.updateConnectionStateWithEnvironment)}}pl.displayName="TransactionListener";const hl=pl;class ml extends r.Z{UNSAFE_willMount(){const{device:e,mobileNative:t}=this.environment;if(Ns.mc(this.environment),Fs.Yh(this.environment),t&&t.hideSplashscreen(),e.isMobile){const e=document.body.parentElement;e&&e.classList.add(Tn.aiP)}Gs.pH(this.environment),l.rQ({device:e,config:j.default,cookieService:this.environment.cookieService}),e.isElectronMac&&y.getAppPath().then((e=>{e&&(e.startsWith("/Volumes/Notion Installer")||e.startsWith("/Volumes/Notion Dev Installer")||e.startsWith("/Volumes/Notion Stg Installer"))&&Os.showMessage({message:this.props.intl.formatMessage({defaultMessage:"Please move the Notion.app into the /Applications folder for the auto-updater to work.",id:"notionAppContainer.dialog.notionAppNotInApplications.message"})})})),Vs.DM(a.SP),(0,Bs.np)(window.location.href)}didMount(){const{device:e,mobileNative:t}=this.environment;"external"===(0,h.Wj)({url:window.location.href,isMobile:e.isMobile,baseUrl:j.default.domainBaseUrl,publicDomainName:j.default.publicDomainName,protocol:j.default.protocol,currentUrl:window.location.href}).name&&Os.showDialog({message:"Mismatch between origin and baseUrl (dev).",showCancel:!1,keepFocus:!1,items:[{label:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Okay",id:"notionAppContainer.dialog.mismatchedOriginURL.okayButton.label"}),onAccept:()=>{const e=wt.O_({relativeUrl:wt.T1(window.location.href),baseUrl:j.default.domainBaseUrl}),t=wt.Qc(e);t.protocol=wt.Qc(window.location.href).protocol,window.location.href=wt.WU(t)}}]}),null==t||t.markTransitionReady({type:"mount"})}renderComponent(){const e="light"===this.theme.mode?Tn.MsS:Tn.Xj_;return(0,H.jsx)(sl,{id:"app",targetRenderPhase:"mount",children:(0,H.jsxs)("div",{style:vl(this.theme),className:["notion-app-inner",e].join(" "),children:[(0,H.jsx)(or,{}),(0,H.jsx)(Rr,{},"AppUpdateListener"),(0,H.jsx)(da,{},"ElectronLogglyDataListener"),(0,H.jsx)(Yr,{style:{height:"100%"},children:this.props.children}),(0,H.jsx)(Wr.Z,{store:wr.Z,zIndex:oe.mJ,isDefault:!0}),(0,H.jsx)(Wr.Z,{store:Cr.Z,zIndex:oe.O7,isDefault:!1}),(0,H.jsx)(Dr.Z,{}),(0,H.jsx)(ia,{}),(0,H.jsx)(jr,{}),(0,H.jsx)(dr,{}),!this.environment.device.isMobileNative&&(0,H.jsx)(Mr,{}),(0,H.jsx)(hl,{}),(0,H.jsx)(dl,{}),(0,H.jsx)(Jr,{}),(0,H.jsx)(Xa,{}),(0,H.jsx)(el,{}),this.environment.device.isMobileNative&&(0,H.jsx)(s.LazyNativeVoiceInput,{}),this.environment.device.isElectron&&(0,H.jsx)(Ys,{}),(0,H.jsx)(gr,{}),(0,H.jsx)(ha,{}),(0,H.jsx)(nr,{}),(0,H.jsx)(ar,{}),(0,H.jsx)(ul,{}),(0,H.jsx)(Ja.Z,{}),(0,H.jsx)(Ks,{}),(0,H.jsx)(Kr,{}),(0,H.jsx)(er,{}),(0,H.jsx)(zr,{}),(0,H.jsx)(tl,{}),(0,H.jsx)(yr,{}),(0,H.jsx)(hr,{}),(0,H.jsx)(s.LazyInjectThirdPartyScripts,{}),(0,H.jsx)(mr.Kd,{}),(0,H.jsx)(vr,{})]})})}}ml.displayName="Notion";const gl=(0,b.injectIntl)(ml);function vl(e){return{...(0,d.N7)(a.SP),color:e.regularTextColor,WebkitFontSmoothing:"auto",backgroundColor:e.contentBackground}}var fl=n(94273);class bl extends r.Z{UNSAFE_willMount(){const e=v.u5({schemeUrl:window.location.href,baseUrl:j.default.domainBaseUrl});k.navigateToExternalURL({environment:this.environment,url:e}),fl.vq(),k.navigate({environment:this.environment,url:m._j.root,redirect:!0})}}bl.displayName="OpenExternal";const Sl=bl;class yl extends r.Z{constructor(){super(...arguments),this.didCatchError=!1,this.caughtErrorId=void 0,this.openSupportMessages=()=>{I.j({environment:this.environment,from:"page_error"})},this.handleOpenNativeLink=e=>{"string"==typeof e?this.handleOpenNativeLinkV2(e,!1,!1):this.handleOpenNativeLinkV2(e.url,!1,!1)},this.handleOpenNativeLinkV2=(e,t,n)=>{const{RouterStore:i}=this.environment,o=v.RD({url:e,protocol:j.default.protocol,baseUrl:j.default.domainBaseUrl}),s=v.u5({schemeUrl:o,baseUrl:j.default.domainBaseUrl}),r=h.Wj({url:s,baseUrl:j.default.domainBaseUrl,publicDomainName:j.default.publicDomainName,isMobile:this.environment.device.isMobile,protocol:j.default.protocol,currentUrl:window.location.href});(this.environment.device.isAndroid||t)&&k.clearHistoryState({RouterStore:i,currentUserId:this.environment.currentUser.id}),this.environment.mobileNative&&this.environment.mobileNative.closeInAppBrowser(),"googleAuthCallback"!==r.name&&"samlAuthCallback"!==r.name?k.navigate({environment:this.environment,url:s,redirect:t,updateMobileTabbedRouterArgs:{clearNativeRootPageOverride:n},queryId:"page"===r.name?r.queryId:void 0}):k.navigate({environment:this.environment,url:s})}}didMount(){this.environment.currentUser.isLoggedIn()&&L.default.waitUntil((()=>{const e=L.default.state.currentUserSettingsStore,t=(null==e?void 0:e.isDefined())??!1;if(e&&t){const t=e.getSettings(),n=null==t?void 0:t.disable_auto_set_timezone;t&&!n&&x.wk({environment:this.environment,userSettingsStore:e})}return t}))}UNSAFE_willMount(){const{RouterStore:e,currentUser:t}=this.environment,n=t.id;window.addEventListener("beforeunload",(()=>{k.updateHistoryState({historyId:e.state.id,currentUserId:n})})),window.onpopstate=async t=>{const n=window.location.href,i=t.state?t.state.currentUserId:void 0;let o=this.environment;i&&i!==this.environment.currentUser.id&&(o=await M.x({environment:o,newCurrentUserId:i}));const s=e.state.route,r=h.Wj({url:n,isMobile:o.device.isMobile,baseUrl:j.default.domainBaseUrl,publicDomainName:j.default.publicDomainName,protocol:j.default.protocol,currentUrl:window.location.href}),a="page"===s.name&&"page"===r.name&&s.blockId===r.blockId,l="onboarding"!==s.name&&"onboarding"===r.name;k.updateHistoryState({historyId:e.state.id,currentUserId:i}),await k.updateRouterState({environment:o,id:t.state&&t.state.id||(0,p.ZP)(),action:"pop",href:n}),l&&!this.environment.device.isMobileNative&&k.navigate({environment:o,url:m._j.root}),a&&k.handleNavigateWithinSamePage(o)},this.environment.mobileNative&&this.environment.mobileNative.subscribeToOpenLink(this.handleOpenNativeLinkV2),y.subscribeToProtocolUrl(this.handleOpenNativeLink),y.subscribeToSettingsMenuItem(Cl),y.ready(),y.onNewWindow(((e,t)=>{e.preventDefault(),k.navigate({environment:this.environment,url:t,openInNew:"tab"})}))}componentDidCatch(e,t){console.error("Client crash during React render:",e),this.caughtErrorId=f.rn(e,{from:"Router",type:"ClientCrash",data:{miscDataToConvertToString:t}}),this.didCatchError=!0,this.forceUpdate()}renderComponent(){return(0,H.jsx)(b.IntlProvider,{defaultLocale:"en-US",locale:a.SP,messages:a.sY,children:(0,H.jsx)(js,{...Ts(this.environment.device),children:this.renderRouteOrError()})})}renderRouteOrError(){return this.didCatchError?(0,H.jsxs)("div",{style:yl.reactErrorStyle,children:[(0,u.H)({width:42,height:42}),(0,H.jsxs)("div",{style:yl.reactErrorMessageStyle,children:[(0,H.jsx)("div",{children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Oops! Something went wrong.",id:"router.renderErrorPage.message.part1"})}),(0,H.jsx)("div",{children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Please refresh and try again or <textlink>message support</textlink>.",id:"router.renderErrorPage.message.part2",values:{textlink:e=>(0,H.jsx)(As.Z,{onClick:this.openSupportMessages,children:e})}})}),this.caughtErrorId&&(0,H.jsx)("div",{style:yl.reactErrorMessageIdStyle,children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Error ID: {errorId}",id:"router.renderErrorPage.message.errorId",values:{errorId:this.caughtErrorId.slice(0,8)}})})]}),(0,H.jsx)(O.Z,{isLarge:!0,onClick:()=>window.location.reload(),children:(0,H.jsx)(b.FormattedMessage,{defaultMessage:"Refresh",id:"router.renderErrorPage.reloadButton.label"})})]}):(0,H.jsx)(gl,{children:this.renderRoute()})}renderRoute(){const{RouterStore:e}=this.environment,t=e.state;if("root"!==t.route.name&&"page"!==t.route.name&&"space"!==t.route.name&&(w.setInitialRenderCompleted(),L.default.setState({...L.default.state,renderPhase:"rendered"})),this.environment.currentUser.isLoggedIn()||"page"===t.route.name||"space"===t.route.name||l.j({device:this.environment.device,event:{facebook:{eventName:"PageView",data:{content_name:window.location.href}},google:{eventName:"pageView",path:window.location.pathname}},cookieService:this.environment.cookieService}),this.environment.currentUser.isLoggedIn()&&L.default.state.currentUserSettingsStore){const{currentUserSettingsStore:e}=L.default.state;_.dM(this.environment,e)}const{device:i}=this.environment;if(i.isNative&&h.lQ[t.route.name])return(0,H.jsx)(Sl,{});if("front"===t.route.name)return(0,H.jsx)(Is,{preventFrontRedirect:t.route.alreadyRedirected});if("root"===t.route.name)return(0,H.jsx)(Es,{route:t.route});if("nativeRedirect"===t.route.name)return(0,H.jsx)(Rs,{redirect:t.route.redirect});if("login"===t.route.name)return(0,H.jsx)(s.LazyLoginPage,{isSignup:!1,email:t.route.email,redirectURL:t.route.redirectURL});if("desktopEmailConfirm"===t.route.name)return(0,H.jsx)(ks,{});if("teamsInvite"===t.route.name){const{teamId:e}=t.route;return S.uAt(this.environment,{teamId:e}),(0,H.jsx)(Ps.Z,{fetch:async()=>{const t=new A.zX(this.environment,{table:g.e0,id:e});await t.load()},render:()=>(0,H.jsx)(X,{teamId:e})})}if("signup"===t.route.name)return(0,H.jsx)(s.LazyLoginPage,{isSignup:!0,email:t.route.email});if("unsubscribe"===t.route.name)return(0,H.jsx)(fs,{payload:t.route.payload});if("onboarding"===t.route.name)return(0,H.jsx)(s.LazyOnboarding,{});if("upcomingInvoice"===t.route.name)return(0,H.jsx)(s.LazyInvoice,{route:t.route});if("invoiceById"===t.route.name)return(0,H.jsx)(s.LazyInvoice,{route:t.route});if("settingsConsoleOrganization"===t.route.name)return(0,H.jsx)(s.LazyOrganizationSettingsConsole,{organizationId:t.route.organizationId,tabName:t.route.tabName,properties:t.route.properties,params:t.route.params});if("settingsConsoleWorkspace"===t.route.name)return(0,H.jsx)(s.LazyWorkspaceSettingsConsole,{workspaceId:t.route.workspaceId,tabName:t.route.tabName,properties:t.route.properties,params:t.route.params});if(t.route.name,t.route.name,"admin"===t.route.name&&j.default.isAdminMode)return(0,H.jsx)(Ps.Z,{fetch:()=>Promise.all([n.e(2743),n.e(782),n.e(2069),n.e(1275),n.e(7390),n.e(9307),n.e(2328)]).then(n.bind(n,64349)),render:e=>{let{default:t}=e;return(0,H.jsx)(t,{})}});if("adminListData"===t.route.name){const{category:e}=t.route;if(j.default.isAdminMode)return(0,H.jsx)(Ps.Z,{fetch:()=>Promise.all([n.e(2743),n.e(782),n.e(2069),n.e(1275),n.e(7390),n.e(9307),n.e(2328)]).then(n.bind(n,65585)),render:t=>{let{default:n}=t;return(0,H.jsx)(n,{category:e})}})}if("adminSingleRecord"===t.route.name&&j.default.isAdminMode){const{id:e,table:i}=t.route;return(0,H.jsx)(Ps.Z,{fetch:()=>Promise.all([n.e(2743),n.e(782),n.e(2069),n.e(1275),n.e(7390),n.e(9307),n.e(3854)]).then(n.bind(n,48807)),render:t=>{let{default:n}=t;return(0,H.jsx)(n,{table:i,id:e})}})}if("oauthAuthorization"===t.route.name){const{responseType:e,redirectUri:i,integrationId:o,state:s,owner:r,userId:a,spaceId:l}=t.route;return(0,H.jsx)(Ps.Z,{fetch:()=>Promise.all([n.e(2774),n.e(2743),n.e(9342),n.e(3370)]).then(n.bind(n,36995)),render:t=>{let{default:n}=t;return(0,H.jsx)(n,{responseType:e,redirectUri:i,integrationId:o,state:s,owner:r,userId:a,spaceId:l})}})}if("notionCalendarAuthorization"===t.route.name){const{csrf:e,calendarCsrf:i,redirectUri:o,spaceId:s,state:r}=t.route;return(0,H.jsx)(Ps.Z,{fetch:()=>n.e(7304).then(n.bind(n,67943)),render:t=>{let{default:n}=t;return(0,H.jsx)(n,{csrf:e,calendarCsrf:i,redirectUri:o,spaceId:s,state:r})}})}if("initiateExternalAuthentication"===t.route.name){const{notion_user_id:e,notion_workspace_id:i,notion_last_visited_url:o,notion_authorization_code:s,external_object_instance_block_id:r,callback_type:a,integration_id:l,redirectToAuth:d}=t.route;return(0,H.jsx)(Ps.Z,{fetch:()=>n.e(1023).then(n.bind(n,84750)),render:t=>{let{default:n}=t;return(0,H.jsx)(n,{notion_user_id:e,notion_workspace_id:i,notion_last_visited_url:o,notion_authorization_code:s,external_object_instance_block_id:r,callback_type:a,integration_id:l,redirectToAuth:d})}})}if("myIntegrations"===t.route.name)return"pointer"in t.route?(0,H.jsx)(s.LazyDeveloperIntegrationViewV2,{botOrIntegrationPointer:t.route.pointer}):(0,H.jsx)(s.LazyDeveloperIntegrationsList,{});if("myIntegrationsLab"===t.route.name)return(0,H.jsx)(s.LazyDeveloperIntegrationLab,{integrationPointer:t.route.pointer});var o;if("inAppTemplateSubmission"===t.route.name)return"inAppTemplateCreatorSubmission"===(null===(o=t.initialRoute)||void 0===o?void 0:o.name)?(0,H.jsx)(J,{openCreatorProfileModal:!0}):(0,H.jsx)(J,{openCreatorProfileModal:!1});if("inAppTemplateCreatorSubmission"===t.route.name&&k.navigate({environment:this.environment,url:m._j.templateSubmission,redirect:!0}),"creatorProfile"===t.route.name){if(E.default.checkGate("enable_new_creator_profile"))return(0,H.jsx)(T,{});k.navigate({environment:this.environment,url:m._j.notFound,redirect:!0})}return"studentGroupSignup"===t.route.name?(0,H.jsx)(P,{}):"notFound"===t.route.name?(0,H.jsx)(s.LazyPageError,{route:t.route,publicPageData:void 0}):"page"===t.route.name||"space"===t.route.name||"nativeTab"===t.route.name||"workspaceSetup"===t.route.name||"modal"===t.route.name||"quickSearch"===t.route.name||"chat"===t.route.name?(0,H.jsx)(ps,{routerState:t}):(0,H.jsx)(ms.Z,{})}}yl.displayName="Router",yl.reactErrorStyle={width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingBottom:100,...(0,d.N7)(a.SP)},yl.reactErrorMessageStyle={fontSize:14,textAlign:"center",marginTop:6,marginBottom:12,color:c.ZP.uiGray},yl.reactErrorMessageIdStyle={fontSize:10,marginTop:8};const wl=yl;function Cl(e){C.r$({currentTab:e})}function kl(e){let{environment:t,onMount:n}=e;window.__c={n:"NotionRoot"};const r=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{r.current||(r.current=!0,null==n||n())}),[n]),(0,H.jsx)(o.B9,{value:t,children:(0,H.jsx)(s.DependencyProviderAll,{children:(0,H.jsx)(wl,{})})})}},14694:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});n(67294);var i=n(480),o=n(86628),s=n(24405),r=n(39567),a=n(50659),l=n(85893);function d(){window.__c={n:"AliasIcon"};const e=(0,s.yK)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.regularTextColor:"#3E3C38",stroke:"dark"===e.mode?e.sidebarBackground:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,l.jsx)("div",{children:(0,r.Y)(e.icon)})}function c(e){var t;window.__c={n:"SidebarItem"};const n=(0,i.O7)(),r=n.device.isMobile,c=(0,o.VK)((()=>{var t,i;if(r)return n.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(i=e.style)||void 0===i?void 0:i.paddingLeft:10)}),[n.WindowSizeStore,r,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),u=(0,s.yK)((t=>({wrapper:{...r?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:c,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:e.disableMobileBorder?void 0:`0 1px 0 ${t.regularDividerColor}`,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:27,paddingTop:2,paddingBottom:2,marginTop:1,marginBottom:1,...(0,a.MF)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:r?28:22,height:r?24:18,marginLeft:-3,marginRight:4,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.mediumTextColor,width:r?26:22,height:r?24:22,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!r?"clip":"ellipsis",...e.childrenStyle}})),[r,c,e.disableMobileBorder,e.shouldShowMobileMarginBottom,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,l.jsxs)("div",{role:e.role,"aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:u.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,l.jsx)("div",{style:u.left,children:e.left}),e.icon&&(0,l.jsxs)("div",{style:u.icon,children:[e.icon,e.isAlias&&(0,l.jsx)(d,{})]}),(0,l.jsx)("div",{style:u.children,children:e.children}),e.right&&(0,l.jsx)("div",{style:u.right,children:e.right})]})}},55064:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var i=n(67294),o=n(83355),s=n(480),r=n(86628),a=n(24405),l=n(97880),d=n(51454),c=n(68939),u=n(17659),p=n(99553),h=n(24677),m=n(28651),g=n(98742),v=n(89224),f=n(35350),b=n(41549),S=n(74948),y=n(24646),w=n(38676),C=n(36391),k=n(96049),x=n(66353),M=n(45325),I=n(88923),_=n(6685),j=n(26388),T=n(85893);class L extends o.Z{constructor(){super(...arguments),this.didDragMove=!1,this.storeTypes={mouseStore:m.Z},this.handleMouseEnter=e=>{w.sidebarMouseEnterYStore.setState(e.clientY)},this.handleMouseMove=()=>{A({isResizerHovered:!0},this.props.type)},this.handleMouseLeave=()=>{A({isResizerHovered:!1},this.props.type)},this.handleDragStart=()=>{h.ZH(this.environment),this.stores.mouseStore.setState({...this.stores.mouseStore.state,mousePressed:!0}),this.didDragMove=!1,A({...w.sidebarResizingStore.state,isResizing:!0},this.props.type)},this.handleDragMove=e=>{const{type:t}=this.props;switch(v.clear(this.environment),this.didDragMove=!0,t){case"page":S.setWidth({width:U(e.currentX,this.props.type),environment:this.environment});break;case"update":S.setUpdateWidth({width:U(e.currentX,this.props.type),environment:this.environment});break;case"peek":S.setPeekWidth({width:U(e.currentX,this.props.type),environment:this.environment});break;case"inbox":f.c(U(e.currentX,this.props.type));break;default:(0,l.t1)(t)}},this.handleDragEnd=()=>{const{type:e}=this.props;if(!this.didDragMove){switch(e){case"page":S.setExpand({environment:this.environment,isExpanded:!w.sidebarExpandedStore.state,from:"sidebar_resizer"}),w.sidebarOpenStore.setState(!1);break;case"update":S.setUpdateExpand({environment:this.environment,isExpanded:!(0,y.Sx)(this.environment),from:"drag"});break;case"peek":p.xv(this.environment,"resizer_click");break;case"inbox":u.qQ({environment:this.environment,open:!M.default.isOpen()});break;default:(0,l.t1)(e)}this.stores.mouseStore.setState({...this.stores.mouseStore.state,mouseEntered:!1})}this.stores.mouseStore.setState({...this.stores.mouseStore.state,mousePressed:!1}),A({isResizing:!1},this.props.type)},this.handleDragCancel=()=>{this.stores.mouseStore.setState({...this.stores.mouseStore.state,mousePressed:!1}),A({isResizing:!1},this.props.type)}}renderComponent(){const{device:e}=this.environment,{type:t}=this.props,n=function(e){const t=function(e){switch(e){case"page":return w.sidebarWidthStore.state;case"inbox":return b.l5();case"update":return C.ZP.state.width;case"peek":return I.default.state.preferredSidePeekWidth;default:(0,l.t1)(e)}}(e);switch(e){case"page":return t;case"inbox":return w.sidebarWidthStore.state+b.l5();case"peek":case"update":return window.innerWidth-t;default:(0,l.t1)(e)}}(this.props.type),i=w.sidebarMouseEnterYStore.state;if(!k.Z.state&&!e.isChromebook)return(0,T.jsx)(j.Z,{renderTooltip:()=>(0,T.jsx)(R,{type:this.props.type}),originRect:new DOMRect(n,i,0,0),delayThreshold:500,placement:"page"===t||"inbox"===t?j.Z.Placement.Right:j.Z.Placement.Left,originGap:10,render:e=>(0,T.jsx)("div",{style:Z(this.props.type,this.environment),...(0,g.Z)(e,{onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter}),children:(0,T.jsx)(_.Z,{onDraggableDragStart:this.handleDragStart,onDraggableDragMove:this.handleDragMove,onDraggableDragEnd:this.handleDragEnd,onDraggableDragCancel:this.handleDragCancel,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:e=>(0,T.jsx)("div",{style:P(this.props.type),...e})})})})}}L.displayName="SidebarResizer";const E=L;function A(e,t){switch(t){case"page":w.sidebarResizingStore.update((t=>({...t,...e})));break;case"update":C.ZP.update((t=>({...t,...e})));break;case"inbox":M.default.update((t=>({...t,...e})));break;case"peek":break;default:(0,l.t1)(t)}}function P(e){return{cursor:"col-resize",height:"100%",width:12,marginLeft:"update"===e?-C.ZP.state.width:-6}}function U(e,t){let n;switch(t){case"page":n=e;break;case"inbox":n=e-(w.sidebarExpandedStore.state?w.sidebarWidthStore.state:0);break;case"peek":case"update":n=window.innerWidth-e;break;default:(0,l.t1)(t)}const i=function(e){const t=window.innerWidth;switch(e){case"page":return 480;case"update":return Math.min(t/2,y.Nc);case"peek":return t>2*I.sidePeekMinWidth?t/1.5:t;case"inbox":return x.Rx;default:(0,l.t1)(e)}}(t),o=function(e){switch(e){case"page":return w.SidebarMinWidth;case"update":return C.AO;case"peek":return I.sidePeekMinWidth;case"inbox":return x.fK;default:(0,l.t1)(e)}}(t);return n>i?i:n<o?o:n}function Z(e,t){const n=(0,y.in)(t);return{position:"absolute",left:"peek"===e?0:void 0,right:"peek"!==e?0:void 0,width:0,flexGrow:0,zIndex:"peek"===e?d.YO:1,top:n?0:-1,bottom:n?0:-1,pointerEvents:"auto"}}function R(e){let{type:t}=e;window.__c={n:"TooltipComponent"};const n=(0,a.Fg)(),o=(0,s.O7)(),d=(0,r.VK)((()=>function(e,t){switch(e){case"page":return(0,y.in)(t);case"update":return(0,y.Sx)(t);case"peek":return I.default.state.open;case"inbox":return M.default.isOpen();default:(0,l.t1)(e)}}(t,o)),[t,o]),u=n.mediumInvertedTextColor;return(0,T.jsxs)("div",{style:{textAlign:"center"},children:[(0,T.jsx)(c.FormattedMessage,{defaultMessage:"Drag <invertedcolor>to resize</invertedcolor>",id:"sidebarResizer.tooltip.dragMessage",values:{invertedcolor:e=>(0,T.jsx)("span",{style:{color:u},children:e})}}),(0,T.jsxs)(i.Fragment,{children:[(0,T.jsx)("br",{}),(0,T.jsx)(c.FormattedMessage,{defaultMessage:"Click <invertedcolor>to {expanded, select, true {close} other {lock open}}</invertedcolor>",id:"sidebarResizer.clickToToggleSidebar.message",values:{expanded:d,invertedcolor:e=>(0,T.jsx)("span",{style:{color:u},children:e})}})]})]})}},58925:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});n(67294);var i=n(83355),o=n(86628),s=n(24405),r=n(9555),a=n(59078),l=n(79102),d=n(82990),c=n(68939),u=n(19719),p=n(17659),h=n(75018),m=n(98742),g=n(50659),v=n(18514),f=n(51811),b=n(77907),S=n(48451),y=n(50770),w=n(4023),C=n(5162),k=n(62820),x=n(4761),M=n(64921),I=n(31945),_=n(58261),j=n(26388),T=n(39849),L=n(92955),E=n(14694),A=n(85893);const P={display:"flex",alignItems:"center",justifyContent:"center",width:62,flex:"none"},U={display:"flex",alignItems:"center",justifyContent:"center",flex:1},Z={display:"flex",alignItems:"center",justifyContent:"center",flexGrow:0,flexShrink:0,height:"100%",minWidth:34,position:"relative"};class R extends i.Z{constructor(){super(...arguments),this.closeMenu=()=>{(0,C.Y)("supportsNativeInbox")&&v.__(this.environment)&&v.NW(this.environment)?h.back(this.environment):(this.handleCloseUpdatesPopup(),k.Z.setState({...k.Z.state,open:!1}))},this.handleDismiss=()=>{this.handleCloseUpdatesPopup()},this.handleClick=()=>{x.ZP.endSession(),p.G7({environment:this.environment,newTab:"mentions",shouldTrack:!0})},this.handleCloseUpdatesPopup=()=>{u.nI(this.environment),p.G7({environment:this.environment,newTab:"mentions",shouldTrack:!1})}}willUnmount(){this.handleCloseUpdatesPopup()}renderComponent(){const{device:e,mobileNative:t}=this.environment;if(this.props.format===f.EX.RenderAsPage)return(0,A.jsx)("div",{style:{background:this.theme.popoverBackground},children:(0,y.H)()?(0,A.jsx)(S.LV,{format:this.props.format,onClose:this.closeMenu}):(0,A.jsx)(b.LazyUpdatesPopup,{format:this.props.format,onClose:this.closeMenu})});const n=(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Updates for all pages in this workspace",id:"updatesButton.tooltip"});return(0,A.jsx)(j.Z,{renderTooltip:()=>(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{children:n}),(0,A.jsx)(_.Z,{style:{color:this.theme.mediumInvertedTextColor},name:"toggleAllUpdates"})]}),originGap:6,placement:w.u.Right,render:n=>(0,A.jsx)(I.ZP,{popupType:e.isMobile?I.Z4.SlideUp:I.Z4.Popup,alignmentToOrigin:w.v.Start,placementToOrigin:w.u.Right,onClick:this.handleClick,originGap:0,style:{...!e.isMobile&&{width:500,overflow:"hidden"}},isWideTabletWidth:!0,render:()=>(0,y.H)()?(0,A.jsx)(S.LV,{format:this.props.format,onClose:this.closeMenu}):(0,A.jsx)(b.LazyUpdatesPopup,{format:this.props.format,onClose:this.closeMenu}),onClose:this.handleDismiss,isFullWidthOnMobile:!0,preventScaleTransition:!0,preventSlideUpTransition:(null==t?void 0:t.supportsNativeHomeOnPhone())||!1,buttonPopupStore:k.Z,renderOrigin:e=>(0,A.jsx)(V,{format:this.props.format,tooltipEvents:n,buttonPopupEvents:e})})})}}R.displayName="UpdatesButton",R.Format=f.EX;const B=R;function V(e){let{tooltipEvents:t,buttonPopupEvents:n,format:i}=e;window.__c={n:"ButtonComponent"};const u=(0,s.Fg)(),h=(0,o.VK)((()=>k.Z.state.open),[]),v=(0,o.VK)((()=>p.aY()),[]),b=(0,o.VK)((()=>(0,y.H)()),[]),S=(0,o.VK)((()=>function(e){return e===f.EX.Sidebar&&k.Z.state.open}(i)),[i]),w=T.Z.Color.Red;if(i===f.EX.MobileBottomBarPhone)return(0,A.jsx)(M.Z,{style:U,mobileFeedback:!0,...n,children:(0,A.jsxs)("div",{style:{position:"relative"},children:[b?(0,a.W)({height:26,width:26,fill:u.regularTextColor}):(0,r.Y)({width:26,fill:u.regularTextColor}),(0,A.jsx)(L.Z,{type:"currentSpace",color:w,style:{position:"absolute",top:-3,right:v<99?-5:-8}})]})});if(i===f.EX.MobileBottomBarTablet)return(0,A.jsx)(M.Z,{style:P,mobileFeedback:!0,...n,children:(0,A.jsxs)("div",{style:{position:"relative"},children:[(0,r.Y)({width:26,fill:u.regularTextColor}),(0,A.jsx)(L.Z,{type:"currentSpace",color:w,style:{position:"absolute",top:-3,right:v<99?-5:-8}})]})});if(i===f.EX.TopbarMobile)return(0,A.jsxs)(M.Z,{style:{...Z,marginLeft:2,marginRight:2},mobileFeedback:!0,...n,children:[b?(0,a.W)({height:26,width:26}):(0,r.Y)({width:26}),(0,A.jsx)(L.Z,{type:"currentSpace",color:w,style:{position:"absolute",top:8,right:0}})]});if(i===f.EX.SidebarMobile)return(0,A.jsxs)(M.Z,{style:Z,mobileFeedback:!0,...n,children:[b?(0,a.W)({height:26,width:26}):(0,r.Y)({width:26}),(0,A.jsx)(L.Z,{type:"currentSpace",color:w,style:{position:"absolute",top:8,right:0}})]});if(i===f.EX.Sidebar){const e=(0,A.jsx)(c.FormattedMessage,{defaultMessage:"Updates",id:"updatesButton.allUpdates.sidebarButton"}),i=b?(0,a.W)({fill:S?u.regularIconColor:u.mediumIconColor,width:20}):(0,l.Y)({fill:S?u.regularIconColor:u.mediumIconColor,width:20});return(0,A.jsx)(M.Z,{style:{...S&&{fontWeight:d.Z.fontWeight.medium,color:u.regularTextColor},...(0,g.G$)({isMobile:!1})},...(0,m.Z)(t,n),children:(0,A.jsx)(E.Z,{left:(0,A.jsx)("div",{style:{color:S?u.regularTextColor:"inherit"},children:i}),right:(0,A.jsx)(L.Z,{type:"currentSpace",color:w,style:{marginBottom:2,marginLeft:6}}),style:{background:h?u.buttonHoveredBackground:"none"},children:e})})}return null}},24553:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var i=n(67294),o=n(480),s=n(6740),r=n(86628),a=n(24405),l=n(84169),d=n(68939),c=n(50906),u=n(4653),p=n(43250),h=n(98742),m=n(77907),g=n(475),v=n(16194),f=n(55031),b=n(64921),S=n(31945),y=n(26388),w=n(14694),C=n(85893);function k(e){window.__c={n:"HelpButtonOrigin"};const t=(0,o.O7)(),{isMobile:n}=t.device,c=(0,d.useIntl)(),u=(0,a.Fg)(),m=(0,r.VK)((()=>g.Z.state.open),[]),S=(0,a.yK)((e=>({helpIcon:{fill:e.mediumIconColor,width:16,height:16},hoveredStyle:{background:e.whiteButtonHoveredBackground},pressedStyle:{background:e.whiteButtonPressedBackground}})),[]),k=(0,i.useCallback)((e=>{const t=e.target;t instanceof HTMLElement&&(0,s.E)(t)&&v.Z.setState(!0)}),[]),x=(0,i.useCallback)((()=>{v.Z.setState(!1)}),[]);if(n)return(0,C.jsx)(b.Z,{hovered:m,testId:p.lmr,mobileFeedback:n,...e,children:(0,C.jsx)(w.Z,{left:(0,l.m)(S.helpIcon),disableMobileBorder:!0,children:(0,C.jsx)(d.FormattedMessage,{defaultMessage:"Help & feedback",id:"helpButton.mobileHelpFeedbackButton.label"})})});const M=c.formatMessage({defaultMessage:"Help, feedback, and keyboard shortcuts",id:"helpButton.desktopHelpButton.ariaLabel"}),I=(0,h.Z)(e,{onFocus:k,onBlur:x});return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(y.Z,{renderTooltip:()=>(0,C.jsx)("span",{children:(0,C.jsx)(d.FormattedMessage,{defaultMessage:"Help, feedback, and {br}keyboard shortcuts",id:"helpButton.desktopHelpButton.tooltip",values:{br:(0,C.jsx)("br",{})}})}),render:e=>(0,C.jsx)(b.Z,{ariaLabel:M,className:p.lmr,testId:p.lmr,style:(0,f.y)(t,{theme:u,rightEdgeDistance:16,isInPeekRenderer:!1}),hoveredStyle:S.hoveredStyle,pressedStyle:S.pressedStyle,...(0,h.Z)(I,e),children:"?"})})})}const x=(0,d.injectIntl)((function(){window.__c={n:"HelpButton"};const e=(0,o.O7)(),{isMobile:t}=e.device,n=(0,r.VK)((()=>{var t;return(null===(t=e.mobileNative)||void 0===t?void 0:t.supportsNativeHomeOnPhone())||!1}),[e]),s=(0,i.useCallback)((()=>{c.Ar6(e,{from:"corner"}),u.i(e)}),[e]);return(0,C.jsx)(S.ZP,{popupType:t?S.Z4.SlideUp:S.Z4.Popup,hidesMobileNativeBottomBar:n,preventSlideUpTransition:n,renderOrigin:e=>(0,C.jsx)(k,{...e}),originGap:t?0:12,placementToOrigin:t?S.pO.Right:S.pO.Top,alignmentToOrigin:t?S.vR.Center:S.vR.End,buttonPopupStore:g.Z,onClick:s,render:()=>(0,C.jsx)(m.LazyHelpButtonContent,{shouldRenderAsStaticModal:n})})}))},69098:(e,t,n)=>{"use strict";n.d(t,{j:()=>c,o:()=>i});var i={};n.r(i),n.d(i,{showAsyncModal:()=>p,showAsyncModalComponent:()=>h,testOnly:()=>w});var o=n(67294),s=n(86628),r=n(49085);class a extends r.default{getInitialState(){return{asyncModals:[]}}}const l=new a;var d=n(85893);const c=o.memo((e=>{window.__c={n:"AsyncModalRenderer"};const{store:t=l}=e,n=(0,s.VK)((()=>t.state.asyncModals),[t]);return(0,d.jsx)(d.Fragment,{children:n.map((e=>{const{id:t,internalRenderModal:n,isOpen:i}=e,s=n(i);return(0,d.jsx)(o.Fragment,{children:s},t)}))})}));var u=n(4615);function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return new Promise(((n,i)=>{try{m({asyncModal:b({renderModal:e,promiseResolve:n,promiseReject:i,store:t}),store:t})}catch(o){i(o)}}))}function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;const n=t=>o.createElement(e,t);return p(n,t)}function m(e){const{asyncModal:t,store:n=l}=e;n.update((e=>({asyncModals:[...e.asyncModals,t]})))}function g(e){const{id:t,promiseResolve:n,store:i=l}=e;return e=>{const o=S({id:t,store:i});null!=o&&o.isOpen&&(y({id:t,store:i,update:{isOpen:!1}}),n(e))}}function v(e){const{id:t,promiseResolve:n,store:i=l}=e;return()=>{const e=S({id:t,store:i});null!=e&&e.isOpen&&(y({id:t,store:i,update:{isOpen:!1}}),n())}}function f(e){const{id:t,store:n=l}=e;return()=>{n.update((e=>({asyncModals:e.asyncModals.filter((e=>e.id!==t))})))}}function b(e){const{renderModal:t,promiseResolve:n,promiseReject:i,store:o=l}=e,s=(0,u.ZP)(),r=f({id:s,store:o}),a=v({id:s,promiseResolve:n,store:o}),d=g({id:s,promiseResolve:n,store:o});return{id:s,internalRenderModal:e=>{try{return t({isOpen:e,onClosed:r,onDismiss:a,resolve:d})}catch(n){throw i(n),n}},isOpen:!0}}function S(e){const{id:t,store:n=l}=e;return n.state.asyncModals.find((e=>e.id===t))}function y(e){const{id:t,update:n,store:i=l}=e;i.update((e=>({asyncModals:e.asyncModals.map((e=>e.id!==t?e:{...e,...n}))})))}const w={addAsyncModal:m,createAsyncModal:b,createOnClosed:f,createOnDismiss:v,createResolve:g,getAsyncModal:S,updateAsyncModal:y}},30106:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(49085);class o extends i.default{getInitialState(){return{open:!1}}}const s=new o},65556:(e,t,n)=>{"use strict";n.r(t),n.d(t,{setupOnBeforeUnload:()=>a,showConfirmationDialogEventEmitter:()=>s});var i=n(33147),o=n(51214);const s=new i.Z,r={transaction_queue_has_tasks:"Changes you made may not be saved. Are you sure you want to quit?",uploading_files:"The files you are currently uploading may not be saved. Are you sure you want to quit?",generating_ai_completions:"Changes being made by AI may not be saved. Are you sure you want to quit?"};function a(e){const{TransactionQueue:t,device:n,AppUpdateStore:i,GlobalFileUploadStore:a}=e;window.onbeforeunload=function(){const e=!t.hasTasks()||n.isMobileNative||n.isElectron||i.isMajorUpdate()?a.isUploading()?"uploading_files":o.Z.isGeneratingAtAll()?"generating_ai_completions":void 0:"transaction_queue_has_tasks";if(e)return s.emit(e),r[e]}}},80025:(e,t,n)=>{"use strict";n.d(t,{Vn:()=>r,mF:()=>a,qf:()=>d});var i=n(68939),o=n(33929);const s=(0,i.defineMessages)({default:{defaultMessage:"Light gray",id:"colors.select.lightGray"},gray:{defaultMessage:"Gray",id:"colors.select.gray"},translucentGray:{defaultMessage:"Gray",id:"colors.select.gray"},brown:{defaultMessage:"Brown",id:"colors.select.brown"},orange:{defaultMessage:"Orange",id:"colors.select.orange"},yellow:{defaultMessage:"Yellow",id:"colors.select.yellow"},green:{defaultMessage:"Green",id:"colors.select.green"},blue:{defaultMessage:"Blue",id:"colors.select.blue"},purple:{defaultMessage:"Purple",id:"colors.select.purple"},pink:{defaultMessage:"Pink",id:"colors.select.pink"},red:{defaultMessage:"Red",id:"colors.select.red"}});function r(e){const t=s[e]||s.gray;return o.default.formatMessage(t)}const a=(0,i.defineMessages)({foregroundColorDefault:{id:"action.foregroundColor.default.name",defaultMessage:"Default"},foregroundColorGray:{id:"action.foregroundColor.gray.name",defaultMessage:"Gray"},foregroundColorBrown:{id:"action.foregroundColor.brown.name",defaultMessage:"Brown"},foregroundColorOrange:{id:"action.foregroundColor.orange.name",defaultMessage:"Orange"},foregroundColorYellow:{id:"action.foregroundColor.yellow.name",defaultMessage:"Yellow"},foregroundColorGreen:{id:"action.foregroundColor.green.name",defaultMessage:"Green"},foregroundColorBlue:{id:"action.foregroundColor.blue.name",defaultMessage:"Blue"},foregroundColorPurple:{id:"action.foregroundColor.purple.name",defaultMessage:"Purple"},foregroundColorPink:{id:"action.foregroundColor.pink.name",defaultMessage:"Pink"},foregroundColorRed:{id:"action.foregroundColor.red.name",defaultMessage:"Red"},backgroundColorGray:{id:"action.backgroundColor.gray.name",defaultMessage:"Gray background"},backgroundColorBrown:{id:"action.backgroundColor.brown.name",defaultMessage:"Brown background"},backgroundColorOrange:{id:"action.backgroundColor.orange.name",defaultMessage:"Orange background"},backgroundColorYellow:{id:"action.backgroundColor.yellow.name",defaultMessage:"Yellow background"},backgroundColorGreen:{id:"action.backgroundColor.green.name",defaultMessage:"Green background"},backgroundColorBlue:{id:"action.backgroundColor.blue.name",defaultMessage:"Blue background"},backgroundColorPurple:{id:"action.backgroundColor.purple.name",defaultMessage:"Purple background"},backgroundColorPink:{id:"action.backgroundColor.pink.name",defaultMessage:"Pink background"},backgroundColorRed:{id:"action.backgroundColor.red.name",defaultMessage:"Red background"},backgroundColorDefault:{id:"action.backgroundColor.default.name",defaultMessage:"Default background"}}),l={default:{...a.foregroundColorDefault},gray:{...a.foregroundColorGray},brown:{...a.foregroundColorBrown},orange:{...a.foregroundColorOrange},yellow:{...a.foregroundColorYellow},teal:{...a.foregroundColorGreen},blue:{...a.foregroundColorBlue},purple:{...a.foregroundColorPurple},pink:{...a.foregroundColorPink},red:{...a.foregroundColorRed},gray_background:{...a.backgroundColorGray},brown_background:{...a.backgroundColorBrown},orange_background:{...a.backgroundColorOrange},yellow_background:{...a.backgroundColorYellow},teal_background:{...a.backgroundColorGreen},blue_background:{...a.backgroundColorBlue},purple_background:{...a.backgroundColorPurple},pink_background:{...a.backgroundColorPink},red_background:{...a.backgroundColorRed}};function d(e){return l[e]}},70511:(e,t,n)=>{"use strict";n.r(t),n.d(t,{setupTransactionLoadGenerator:()=>l});var i=n(92595),o=n(993),s=n(39699),r=n(80444),a=n(24666);function l(e){(0,i.exposeDebugValue)("generateTransactionLoad",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const l=r.default.state.mainEditorCurrentBlockStore;if(!l)return void console.info("Cannot generateTransactionLoad: No current block");const d=l.getTitleStore();if(!d)return void console.info("Cannot generateTransactionLoad: block has no title");if("editing"!==a.default.state.mode)return void console.info("not editing anything. Click the page title.");const c=t=>{s.createAndCommit({userAction:"generateTransactionLoad.createTransaction",environment:e,perform:i=>{console.info("createAndCommit #",t);for(let s=0;s<n;s++){const n=`This is transaction #${t+1}, op ${s+1}, of load started at ${u}`;o.aS({environment:e,store:d,newValue:n,disableMentions:!0,disableDateMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:i})}}})},u=new Date;if(0===i)for(let e=0;e<t;e++)c(e);else{let e=0;const n=setInterval((()=>{e<t?(c(e),e++):clearInterval(n)}),i)}}))}},92725:(e,t,n)=>{"use strict";n.r(t),n.d(t,{instrumentRenderQueue:()=>d});var i=n(1302),o=n(77897),s=n(29091),r=n(24215),a=n(97448);const l={componentRender:{enabledPercent:0,sampleRate:0},recomputeStore:{enabledPercent:0,sampleRate:0}};function d(e){const t=(0,a.fastGetConfig)("event_trail_events"),n=(null==t?void 0:t.get("browser.render_queue.component_render",l.componentRender))||l.componentRender,d=(null==t?void 0:t.get("browser.render_queue.store_recompute",l.recomputeStore))||l.recomputeStore;if(0===n.enabledPercent&&0===d.enabledPercent)return;const c=Math.random(),u=(0,s.XJ)(1e4);(0,o.aw)(n.enabledPercent,(()=>c))&&i.default.setComponentRenderTracker({shouldTrackThisRender:()=>(0,o.aw)(n.sampleRate,u),trackRender:t=>{let{componentName:n,renderTime:i}=t;r.j(e,"browser.render_queue.component_render",{time:i,component:n})}}),(0,o.aw)(d.enabledPercent,(()=>c))&&i.default.setStoreRecomputeTracker({shouldTrackThisRecompute:()=>(0,o.aw)(d.sampleRate,u),trackRecompute:(t,n)=>{r.j(e,"browser.render_queue.store_recompute",{time:n,computed_store:t})}})}},19077:(e,t,n)=>{"use strict";n.r(t),n.d(t,{initialize:()=>a});var i=n(68626),o=n(95477),s=n(77080),r=n(15517);function a(e){"object"==typeof o.default&&o.default.version&&(i.clientLogglyEnvironmentData.version=o.default.version);const{device:t,currentUser:n}=e;t.isMobileNative&&(i.clientLogglyEnvironmentData.isMobileNative=!0),t.isMobile&&(i.clientLogglyEnvironmentData.isMobile=!0),t.isAndroid&&(i.clientLogglyEnvironmentData.isAndroid=!0),t.isIOS&&(i.clientLogglyEnvironmentData.isIOS=!0),t.isElectron&&(i.clientLogglyEnvironmentData.isElectron=!0),t.isChromeExtension&&(i.clientLogglyEnvironmentData.isChromeExtension=!0),i.clientLogglyEnvironmentData.os=t.os,i.clientLogglyEnvironmentData.platform=t.platform,window.navigator.userAgent&&(i.clientLogglyEnvironmentData.userAgent=window.navigator.userAgent),document.referrer&&(i.clientLogglyEnvironmentData.referrer=document.referrer),n.id&&(i.clientLogglyEnvironmentData.userId=n.id),i.clientLogglyEnvironmentData.experiments=s.default.getUsedNonControlExperimentsMap(),s.default.addListener((()=>{i.clientLogglyEnvironmentData.experiments=s.default.getUsedNonControlExperimentsMap()})),(0,r.sK)().then((e=>{e&&(i.clientLogglyEnvironmentData.storageUsageEstimate=e.usage,i.clientLogglyEnvironmentData.storageQuotaEstimate=e.quota)}))}},50659:(e,t,n)=>{"use strict";n.d(t,{G$:()=>o,MF:()=>s,Z3:()=>i});function i(e){let{isMobile:t}=e;return{...!t&&{borderRadius:3}}}function o(e){let{isMobile:t}=e;return t?{}:{...i({isMobile:t}),marginLeft:4,marginRight:4,width:"calc(100% - 8px)"}}function s(){return{paddingLeft:10,paddingRight:10}}},48916:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mainApp:()=>i});n(21703);async function i(e){const{minimalEnvironment:t,mainStartTime:i,prefetchInitiatedTime:o,prefetchCache:s}=e,{device:r}=t,[{setupOnBeforeUnload:a},l,{createClientEnvironment:d},{setupTransactionQueue:c},{default:u},p]=await Promise.all([Promise.resolve().then(n.bind(n,65556)),Promise.resolve().then(n.bind(n,68626)),Promise.resolve().then(n.bind(n,42921)),Promise.resolve().then(n.bind(n,5315)),Promise.resolve().then(n.bind(n,27411)),Promise.resolve().then(n.bind(n,44133))]);let h=await d({minimalEnvironment:t,prefetchCache:s});const{ElectronSqlite:m}=h;p.setupRecordCacheDebugging(r);const g=await c(h);a({device:r,TransactionQueue:g,AppUpdateStore:h.AppUpdateStore,GlobalFileUploadStore:u});const[v,{default:f}]=await Promise.all([Promise.resolve().then(n.bind(n,19077)),Promise.resolve().then(n.bind(n,18245))]);if(v.initialize(h),r.isMobileNative){const e=f.mark("mobilenative.initialize_from_js"),[t,i]=await Promise.all([Promise.resolve().then(n.bind(n,98958)),Promise.resolve().then(n.bind(n,57491))]);await t.initializeMobileNativeApp(h),Object.assign(l.clientLogglyEnvironmentData,i.getMobileNativeDeviceInfo()),f.measure(e,{environment:h,data:{}})}if(r.isElectron){const e=await Promise.resolve().then(n.bind(n,47839));await e.initializeElectron({device:r,electronSqlite:m});const t=await Promise.resolve().then(n.bind(n,74503)),i=await t.getDesktopDeviceInfo();Object.assign(l.clientLogglyEnvironmentData,i,{desktopVersion:r.desktopAppVersion})}const[b,S,y,w,C,k,{getAppRefreshed:x}]=await Promise.all([Promise.resolve().then(n.bind(n,97977)),Promise.resolve().then(n.bind(n,74948)),Promise.resolve().then(n.bind(n,89224)),Promise.resolve().then(n.bind(n,75018)),Promise.resolve().then(n.bind(n,39699)),Promise.resolve().then(n.bind(n,78519)),Promise.resolve().then(n.bind(n,9852))]),{setupTransactionLoadGenerator:M}=await Promise.resolve().then(n.bind(n,70511));M(h);const I=performance.now(),[{default:_},j,T,L,{CurrentUser:E},{getGhostAdminUserId:A},{default:P}]=await Promise.all([Promise.resolve().then(n.bind(n,3383)),Promise.resolve().then(n.t.bind(n,67294,19)),Promise.resolve().then(n.t.bind(n,73935,19)),Promise.resolve().then(n.t.bind(n,20745,19)),Promise.resolve().then(n.bind(n,87997)),Promise.resolve().then(n.bind(n,12955)),Promise.resolve().then(n.bind(n,77080))]);S.initialize(),y.startListeners(r),h=await b.initialize(h),h.updateCurrentUserId=async e=>{const t=await A(h),n={...e.environment,currentUser:new E({id:e.currentUserId,loggedInUserIds:e.userIds,adminUserId:t})};H(n)},w.initialize(h),g.startLoop();const[{maybeClearCookies:U,refreshNotionCookies:Z,validateHasPermissionArgs:R,clearNotionCookiesWithNoPermission:B,clearThirdPartyCookiesAndLocalStorageWithNoPermission:V},{clearNotionLocalStorageWithNoPermission:N},{instrumentRenderQueue:O},F,z,{deviceSupportsSqlite:D}]=await Promise.all([Promise.resolve().then(n.bind(n,12955)),Promise.resolve().then(n.bind(n,18613)),Promise.resolve().then(n.bind(n,92725)),Promise.resolve().then(n.bind(n,32223)),Promise.resolve().then(n.bind(n,32603)),Promise.resolve().then(n.bind(n,26492))]);U(),Promise.all([B(h),V(h)]).then((()=>Z(h))),N(),R(h),k.initialize(h,{fromPageRefresh:x()});const[{TransactionQueueDependenciesImpl:W}]=await Promise.all([Promise.resolve().then(n.bind(n,68026))]);if(D(h.device)){const{default:e}=await Promise.resolve().then(n.bind(n,41226));e.setNotionPerformance(f)}O(h);const H=e=>{const t=performance.now(),n=document.querySelector("#notion-app");if(!n)throw new Error('Could not find element with id "notion-app"');const s=P.checkGate("react_18_concurrent_rendering");g.updateDependencies(new W(e)),C.updateConnectionState(e),F.updateEnvironment(e),l.clientLogglyEnvironmentData.userId=e.currentUser.id;const r=()=>{const e=document.getElementById("initial-loading-spinner"),n=document.getElementById("skeleton");e&&e.remove(),n&&n.remove();const s=performance.now();z.setSubMetricsAtRenderCallback({mainStartTime:i,prefetchInitiatedTime:o,renderStartTime:t,renderEndTime:s,mainImportEndTime:I})},a=j.createElement(_,{environment:e,onMount:s?r:void 0});if(s){L.createRoot(n).render(a)}else T.render(a,n,r)};return H(h),{transactionQueue:g,environment:h}}},19361:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(49085);class o extends i.default{getInitialState(){return{isSupported:!1,active:!1,stage:"inactive",totalResults:0}}toggleActiveState(e){this.update((t=>({...t,active:e,stage:e?t.stage:"inactive",totalResults:e?0:t.totalResults})))}}const s=new o},35350:(e,t,n)=>{"use strict";n.d(t,{T:()=>r,c:()=>a});var i=n(19719),o=n(41549),s=n(66353);function r(e,t){s.ZP.setState({...o.yJ(),filter:t}),i.bE(e,{tab:t})}function a(e){s.ZP.setState({...o.yJ(),width:e})}},52389:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(49085);class o extends i.default{getInitialState(){return{open:!1}}}const s=new o},49038:(e,t,n)=>{"use strict";n.d(t,{Y:()=>L,f:()=>T});var i=n(58573),o=n(72126),s=n(4615),r=n(21202),a=n(45366),l=n(92338),d=n(24215),c=n(97638),u=(n(57658),n(80444)),p=n(46735),h=n(42198);const m=e=>{var t;let{result:n,featureExtractor:i}=e;const o=null===(t=i.frecencyStore)||void 0===t?void 0:t.getFrecencyScore(n.block.blockModel.id);return{name:"FRECENCY_SCORE",value:o||0}},g=e=>{let{result:t}=e;return{name:"LEXICAL_MATCH_SCORE",value:t.score}},v={name:"CLIENT_FEATURESET_V2_RAW",features:[e=>{let{result:t}=e;return{name:"IS_EXACT_MATCH",value:t.matchMetadata&&"isExactMatch"in t.matchMetadata?1:0}},e=>{let{result:t}=e;return{name:"IS_PREFIX_MATCH",value:t.matchMetadata&&"isPrefixMatch"in t.matchMetadata?1:0}},e=>{let{result:t}=e;return{name:"IS_WORD_PREFIX_MATCH",value:t.matchMetadata&&"isWordPrefixMatch"in t.matchMetadata?1:0}},e=>{let{result:t}=e;return{name:"IS_SUBSTRING_MATCH",value:t.matchMetadata&&"isSubstringMatch"in t.matchMetadata?1:0}},e=>{let{result:t}=e;return{name:"IS_FUZZY_MATCH",value:t.matchMetadata&&"isFuzzyMatch"in t.matchMetadata?1:0}},e=>{let{result:t}=e;return{name:"IS_FRECENT_PAGE",value:t.block.source.has("frecencyStore")?1:0}},e=>{let{result:t}=e;return{name:"IS_BOOKMARKED_PAGE",value:t.block.source.has("bookmarkedPage")?1:0}},e=>{let{result:t}=e;return{name:"IS_TEAM_PAGE",value:t.block.source.has("teamPage")?1:0}},e=>{let{result:t}=e;return{name:"IS_SHARED_PAGE",value:t.block.source.has("sharedPage")?1:0}},e=>{let{result:t,featureExtractor:n}=e;const[i,o]=n.getFrecencyScoreBounds();return{name:"FRECENCY_SCORE_SCALED",value:n.minMaxScale(m({result:t,featureExtractor:n}).value,i,o)}},e=>{let{result:t}=e;return{name:"IS_RECENT_VISIT_BY_ME",value:t.block.source.has("recentVisit")?1:0}},e=>{let{result:t}=e;return{name:"TIME_SINCE_LAST_VIEWED_BY_ME",value:t.block.timeSinceLastViewedMs??-1}},e=>{let{result:t,featureExtractor:n}=e;return{name:"IS_SIMILAR_USER_1D_RECENT_PAGE",value:h.default.isSimilarUsersRecentPages({userId:n.userId,spaceId:n.spaceId,pageId:t.block.blockModel.id})?1:0}},e=>{let{result:t,featureExtractor:n}=e;return{name:"NUM_SIMILAR_USERS_VIEWED_PAGE",value:h.default.getNumSimilarUsersVisitedPage({userId:n.userId,spaceId:n.spaceId,pageId:t.block.blockModel.id})||0}},e=>{let{result:t,featureExtractor:n}=e;return{name:"PAGE_MOST_SIMILAR_VIEWER_SIMILARITY",value:h.default.getHighestViewerSimilarityScoreForPage({userId:n.userId,spaceId:n.spaceId,pageId:t.block.blockModel.id})||0}},e=>{let{result:t,featureExtractor:n}=e;const i=h.default.getSimilarUsersMostRecentVisitTimeForPage({userId:n.userId,spaceId:n.spaceId,pageId:t.block.blockModel.id});return{name:"TIME_SINCE_SIM_USER_VISIT",value:i?n.currentTimeMs-i:-1}},e=>{let{result:t,featureExtractor:n}=e;return{name:"IS_TOP_PAGES_7D_PAGE_VIEWS",value:h.default.isTopPages7dPageView({userId:n.userId,spaceId:n.spaceId,pageId:t.block.blockModel.id})?1:0}},e=>{let{result:t,featureExtractor:n}=e;return{name:"PAGE_AUTHORITY_V1",value:h.default.getPageAuthorityV1ForPage({userId:n.userId,spaceId:n.spaceId,pageId:t.block.blockModel.id})||0}},e=>{let{result:t,featureExtractor:n}=e;return{name:"TIME_SINCE_LAST_EDIT",value:n.currentTimeMs-t.block.blockModel.last_edited_time}},e=>{let{result:t,featureExtractor:n}=e;return{name:"IS_LAST_EDITED_BY_ME",value:n.userId&&t.block.blockModel.last_edited_by_id===n.userId?1:0}},e=>{let{result:t}=e;return{name:"IS_LAST_EDITED_BY_ME_WITHIN_12H",value:t.block.source.has("defaultRecordCache")?1:0}},e=>{let{result:t,featureExtractor:n}=e;return{name:"TIME_SINCE_LAST_EDITED_BY_ME",value:h.default.getUserLastEditedTimeForPage({userId:n.userId,spaceId:n.spaceId,pageId:t.block.blockModel.id})??-1}},e=>{let{result:t,featureExtractor:n}=e;return{name:"TIME_SINCE_SIM_USER_LAST_EDIT",value:h.default.getSimilarUserLastEditedTimeForPage({userId:n.userId,spaceId:n.spaceId,pageId:t.block.blockModel.id})??-1}},g,m]};function f(e){let t=0,n=0;for(const i of e)i<t&&(t=i),i>n&&(n=i);return[t,n]}class b{constructor(e,t,n){var i;this.featuresets=void 0,this.frecencyStore=void 0,this.results=void 0,this.resultsFeatureMetadata={},this.userId=void 0,this.spaceId=void 0,this.currentTimeMs=void 0,this.frecencyStore=p.Z.lazyFrecencyStore.get(t.currentUser.id),this.featuresets=e,this.results=n,this.userId=t.currentUser.id,this.spaceId=null===(i=u.default.state.currentSpaceStore)||void 0===i?void 0:i.id,this.currentTimeMs=Date.now()}minMaxScale(e,t,n){return t===n?0:(e-t)/(n-t)}getFrecencyScoreBounds(){if(!this.resultsFeatureMetadata.minFrecencyScore||!this.resultsFeatureMetadata.maxFrecencyScore){const e=this.results.map((e=>m({result:e,featureExtractor:this}).value||0)),[t,n]=f(e);this.resultsFeatureMetadata.minFrecencyScore=t,this.resultsFeatureMetadata.maxFrecencyScore=n}return[this.resultsFeatureMetadata.minFrecencyScore,this.resultsFeatureMetadata.maxFrecencyScore]}getLexicalMatchScoreBounds(){if(!this.resultsFeatureMetadata.minLexicalMatchScore||!this.resultsFeatureMetadata.maxLexicalMatchScore){const e=this.results.map((e=>g({result:e,featureExtractor:this}).value||0)),[t,n]=f(e);this.resultsFeatureMetadata.minLexicalMatchScore=t,this.resultsFeatureMetadata.maxLexicalMatchScore=n}return[this.resultsFeatureMetadata.minLexicalMatchScore,this.resultsFeatureMetadata.maxLexicalMatchScore]}extractFeatureGroup(e){const t=[];for(const n of this.featuresets){const i={groupName:n.name,features:[]};for(const t of n.features)i.features.push(t({result:e,featureExtractor:this}));t.push(i)}return t}}var S=n(29026);var y=n(77080),w=n(26842),C=n(88893);function k(e){const{results:t,featureGroups:n}=e;return t.map(((e,t)=>{const{block:i,score:o,personalizationBoost:s,rendered:r,terms:a}=e;return{sources:[l.vp.Local],id:i.blockModel.id,spaceId:i.blockModel.space_id,score:o,localSource:i.source,personalizationBoost:s,terms:a,highlight:{text:r},featureGroups:n[t]}}))}function x(e){return e.has("recentVisit")||e.has("frecencyStore")||e.has("bookmarkedPage")||e.has("defaultRecordCache")?1.25:1}function M(e,t,n){const i=e=>n.matches(e.block),o=(0,a.wS)(t);if(1===o.length)return e.search(t,{filter:i,prefix:!0,fields:["text","inits"]});const s=e.search(t,{filter:i,combineWith:"AND",fields:["text"]});if(s.length>0)return s;const r=(l=o.length,Math.round(.6*l+.5));var l;return e.search(t,{filter:e=>e.queryTerms.length>=r&&i(e)})}const I=e=>e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");function _(e){const{block:t,score:n,terms:i}=e,{source:o,text:s}=t,r=i.map(I).join("|"),a=new RegExp(r,"ig");return{block:t,rendered:i.length>0?s.replaceAll(a,`${l.Um}$&${l.dK}`):s,score:n,personalizationBoost:x(o),terms:i}}function j(e,t,n,r,a){const{blocks:d,getAllBlocks:u}=e,p=a.text.trim(),h=(0,s.nv)(p),m=h.length>0?h.join(" "):p,g=new c.uL(n),v="minisearch"===t||"minisearch-frecency"===t;return v&&m.length>0?function(e,t,n){return M(e,t,n).map(_)}(d,m,g):v?u().filter((e=>g.matches(e.block))).map(_):((e,t,n,s,r)=>o.oA(e.map((e=>{if(!t.matches(e))return;let o;if(o=s.includes(e.blockModel.id)?{rendered:"",score:i.$r,matchMetadata:{isExactIdMatch:!0}}:(0,i.C6)(n,e.text,{pre:l.Um,post:l.dK,ignoreFuzzyFallback:r}),o){const{rendered:t,score:n}=o;return{block:e,rendered:t,score:n,personalizationBoost:x(e.source),terms:[]}}}))))(u().map((e=>{let{block:t}=e;return t})),g,p,h,r)}function T(e){let{query:t,localCachedPages:n,userId:s,includeRecordMap:r,environment:a,applyRecallScoreThreshold:l,canUseLtr:u}=e;const{query:p,limit:h}=t,{filters:m,sort:g}=p,f=y.default.getEligibleGroup({experimentId:"search-client-page-match"}),w=j(n,f,m,l,p);if(0===w.length)return;const x=function(e,t){const{field:n}=e,i="relevance"===n||"desc"===e.direction?-1:1;switch(n){case"lastEdited":case"scroll":return o.MR(t,(e=>{let{block:{blockModel:t}}=e;return i*(t.last_edited_time||0)}));case"created":return o.MR(t,(e=>{let{block:{blockModel:t}}=e;return i*(t.created_time||0)}));default:return o.MR(t,(e=>{let{score:t}=e;return i*t}))}}(g,w);u&&(0,d.j)(a,"search_local_recall_results",{num_visible_members:(0,C.qX)(),results:x.map((e=>({id:e.block.blockModel.id,localSource:[...e.block.source]})))});let M;if("relevance"===g.field&&"minisearch"!==f)if(t.query.text.length>1&&u){const e=x.map((e=>({...e,matchMetadata:(0,i.EB)(t.query.text,e.block.text)}))),n=new b([v],a,e);M=function(e){const{sort:t,currentUserId:n,unsorted:i}=e;return(0,c.YB)({sort:t,currentUserId:n,unsorted:i,batchSize:S.Xv})}({sort:g,unsorted:k({results:x,featureGroups:e.map((e=>n.extractFeatureGroup(e)))}),currentUserId:s})}else M=(0,c.YB)({sort:g,currentUserId:s,unsorted:k({results:x,featureGroups:x.map((e=>[]))}),batchSize:S.Xv});else M=k({results:x,featureGroups:x.map((e=>[]))});M=M.slice(0,h);const I=r??!0;return{total:w.length,results:M,recordMap:I?n.recordMap.toJson({allowVersionDowngrade:!1}):{},trackEventProperties:{}}}function L(e){let{query:t,localCachedPages:n,parentStore:i,isOnline:o,environment:s,shouldLimitLocalResultsWhenOnline:a,applyScoreThresholdWhenOnline:d,maxLocalResultsOverride:u,canUseLtr:p}=e;const h=T({query:t,localCachedPages:n,userId:s.currentUser.id,environment:s,applyRecallScoreThreshold:o&&d,canUseLtr:p});if(!h)return;if(0===h.results.length)return{error:l.Ix.NoResults};let m=h.results.map(((e,t)=>({...e,originalPosition:t,store:w.G.createChildStore(i,{table:r.iU,id:e.id}),serverEventProperties:void 0})));const g=m.length;return o&&a&&(m=(0,c.g8)(s,m,u)),0===m.length?{error:l.Ix.NoResults}:{value:{total:g,results:m,debugInfo:void 0}}}},42921:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createClientEnvironment:()=>pe});var i=n(26263),o=n(45631),s=n(87997),r=n(58287),a=n(94023),l=n(91814),d=n(27328),c=n(42389),u=n(20475),p=n(99747),h=n(47839),m=n(12955),g=n(84709),v=n(97448),f=(n(21703),n(57658),n(28084)),b=n(68626),S=n(55652),y=n(72126),w=n(45953),C=n(21202),k=n(35092),x=n(12139),M=n(66504),I=n(84693);let _=1;class j{constructor(e,t){this.getLatency=new S.s,this.batchReadWorkers=15,this.pendingWrites=w.Ao.create(),this.getManyFromDisk=async e=>{const t=w.Ao.create();e.forEach(((e,n)=>{let{pointer:i}=e;t.set(i,n)}));const n=await I.Q6(this.connection,e),i=w.Ao.create();for(const o of n)this.setCachedRecordMap(i,o);return e.map((e=>{let{pointer:t,userId:n}=e;const o=this.getInMemory(t,n);if(o)return o;const s=i.get(t);return s&&s[n]}))},this.diskReadQueue=new f.Z({batchSize:Math.floor(k.mz/3)-1,maxWorkers:this.batchReadWorkers>0?this.batchReadWorkers:1,performRequests:this.getManyFromDisk}),this.flushWrites=async()=>{const e=this.pendingWrites;this.pendingWrites=w.Ao.create();const t=y.VS(Array.from(e),(e=>{let{value:t}=e;return t?Object.values(t):[]}));await I.Y3(this.connection,this.maxSize,t)},this.debouncedFlushWrites=y.Ds(this.flushWrites,500,{maxWait:3e3}),this.connection=e,this.maxSize=t}set(e,t,n,i,o){if(void 0===e||void 0===e.id){const t=new Error("Attempting to set a record with an invalid pointer.");return b.log({level:"error",from:"SqliteRecordCache",type:"SqliteRecordCache.setBadPointer",error:{message:"Attempting to set a record with an invalid pointer.",stack:t.stack},data:{pointer:e}}),void x.IE(t)}const s={pointer:e,userId:i=i||M.I,value:t,timestamp:Date.now(),importance:n};this.removePendingWrite(e,i,"delete"),this.enqueueWrite({type:"set",record:s,maybeStaleRecord:o})}async get(e,t){const n=`get ${_}`;t=t||M.I,_++,this.getLatency.start(n);try{const i=this.getInMemory(e,t);if(i)return this.enqueueWrite({type:"access",record:i}),this.getLatency.end(n,"memory"),i.value;const o=await(this.batchReadWorkers>0?this.diskReadQueue.enqueue({pointer:e,userId:t}):this.getFromDiskUnbatched(e,t));if(o)return this.enqueueWrite({type:"access",record:o}),this.getLatency.end(n,"disk"),o.value}finally{this.getLatency.end(n,"miss")}}deleteRecord(e,t){t=t||M.I,this.removePendingWrite(e,t,"set"),this.enqueueWrite({type:"delete",record:{pointer:e,userId:t}})}async getBlocksWithParent(e){const t=Date.now(),n=e.userId||M.I,i=await I.lR(this.connection,{...e,timestamp:t,userId:n}),o=w.Ao.create(),s=y.oA(Array.from(this.pendingWrites).map((i=>{const s=i&&i.value&&n&&i.value[n];if(!s||"set"!==s.type)return;const r=s.record.value?s.record.value.value:void 0;if(!r)return;if(s.record.pointer.table!==C.iU)return;const a=r;return a.parent_id===e.parent.id&&a.parent_table===e.parent.table?(o.set(s.record.pointer,!0),s.record.timestamp<t&&(s.record.timestamp=t),s.record.value):void 0})));for(const r of i)o.get(r.pointer)||this.getInMemory(r.pointer,r.userId)||s.push(r.value);return s}async getPageBlocksByParent(e){const t=Date.now(),n=e.userId||M.I,i=await I.GF(this.connection,{...e,timestamp:t,userId:n});return i.forEach((e=>{this.enqueueWrite({type:"access",record:{pointer:e.pointer,timestamp:t,userId:n,importance:void 0,value:e.value}})})),i}async reset(){this.pendingWrites=w.Ao.create(),await I.G$(this.connection)}enqueueWrite(e){this.debouncedFlushWrites();const{pointer:t,userId:n}=e.record,i=this.pendingWrites.get(t),o=i&&i[n];if(o){if("set"===o.type&&"access"===e.type){const t={type:"set",record:{...o.record,timestamp:e.record.timestamp}};return void this.setCacheOperationMap(this.pendingWrites,t)}const t="set"===o.type&&!o.maybeStaleRecord&&o.record.value&&o.record.value.value?o.record.value.value.version:void 0,n="set"===e.type&&e.maybeStaleRecord&&e.record.value&&e.record.value.value?e.record.value.value.version:void 0;if("number"==typeof t&&"number"==typeof n&&t>=n)return}this.setCacheOperationMap(this.pendingWrites,e)}async getFromDiskUnbatched(e,t){const[n]=await this.getManyFromDisk([{pointer:e,userId:t}]);return n}getInMemory(e,t){const n=this.pendingWrites.get(e),i=n&&n[t];if(i&&"set"===i.type)return i.record}setCacheOperationMap(e,t){const n=t,{pointer:i,userId:o}=n.record,s=e.get(i)||{};e.set(i,{...s,[o]:n})}setCachedRecordMap(e,t){const{pointer:n,userId:i}=t,o=e.get(n)||{};e.set(n,{...o,[i]:t})}removePendingWrite(e,t,n){const i=this.pendingWrites.get(e);i&&i[t]&&i[t].type===n&&this.pendingWrites.delete(e)}}var T=n(4615),L=n(65044),E=n(77892);const A=[WebSocket.OPEN,WebSocket.CONNECTING];class P{constructor(){this.sqliteConnection=void 0,this.environment=void 0,this.requests=new Map}setEnvironment(e){var t;this.environment=e,null===(t=this.sqliteConnection)||void 0===t||t.setEnvironment(e)}async initialize(){if(h.electronApi&&h.electronApi.sqliteServerEnabled){await this.initializeWebSocket();const e={execSqliteBatchV2:async e=>{const t=(0,T.ZP)(),{batch:n,precondition:i}=e,o=JSON.stringify({id:t,batch:n,precondition:i,auth:this.authToken});return await this.execSqliteBatchInner(t,o)},execSqliteBatch:async e=>{const t=(0,T.ZP)(),n=JSON.stringify({id:t,batch:e,auth:this.authToken});return await this.execSqliteBatchInner(t,n)}};this.sqliteConnection=new L.s({connection:e,type:"v2",migrations:await(0,E.kk)(e)})}}async execSqliteBatchInner(e,t){const n=new Promise((t=>{this.requests.set(e,t)}));this.ws.readyState===WebSocket.CLOSED&&await this.initializeWebSocket();try{this.ws.send(t)}catch(o){const e=this.ws;this.ws.onopen=function(n){e.send(t)}}const i=await n;if(i.error)throw new Error("Received SQLite error.");return i.value}async initializeWebSocket(){if(!h.electronApi||!h.electronApi.getSqliteMeta)return;const e=await h.electronApi.getSqliteMeta();if(e.error)return;if(this.ws&&A.includes(this.ws.readyState))return;const{serverProcessPort:t,authToken:n}=e.value;this.authToken=n;const i=`ws://127.0.0.1:${t}`;this.ws=new WebSocket(i),this.ws.onclose=()=>{b.log({level:"warning",from:"electronSqlite",type:"reinitializingWebsocket"}),this.initializeWebSocket()},this.ws.addEventListener("message",(e=>{const t=e.data.toString(),{id:n,result:i}=JSON.parse(t),o=this.requests.get(n);o&&(this.requests.delete(n),o({value:i}))})),await new Promise((e=>{this.ws.onopen=()=>{e()}}))}}class U{constructor(){this.worker=new Worker(new URL(n.p+n.u(7244),n.b))}postMessage(e){this.worker.postMessage(e)}addMessageListener(e){this.worker.addEventListener("message",e)}removeMessageListener(e){this.worker.removeEventListener("message",e)}}class Z{constructor(){this.sqliteConnection=void 0,this.worker=new U}setEnvironment(e){var t;null===(t=this.sqliteConnection)||void 0===t||t.setEnvironment(e)}async initialize(){await this.initializeServiceWorker();const e={execSqliteBatchV2:async e=>{const t=(0,T.ZP)();return this.execSqliteBatchInner(t,e)},execSqliteBatch:async e=>{const t=(0,T.ZP)();return this.execSqliteBatchInner(t,{batch:e})}};this.sqliteConnection=new L.s({connection:e,type:"v2",migrations:await(0,E.kk)(e)})}async execSqliteBatchInner(e,t){return new Promise(((n,i)=>{const o=t=>{let{data:s}=t;"ExecComplete"!==s.type&&"ExecError"!==s.type||s.id===e&&("ExecComplete"===s.type?(this.worker.removeMessageListener(o),n(s.result)):"ExecError"===s.type&&(this.worker.removeMessageListener(o),i(s.error)))};this.worker.addMessageListener(o),this.worker.postMessage({type:"Exec",id:e,...t})}))}async initializeServiceWorker(){const e=new Promise(((e,t)=>{const n=i=>{let{data:o}=i;"InitializeSuccess"!==o.type&&"InitializeError"!==o.type||("InitializeSuccess"===o.type?(this.worker.removeMessageListener(n),e()):"InitializeError"===o.type&&(this.worker.removeMessageListener(n),t(o.error)))};this.worker.addMessageListener(n),this.worker.postMessage({type:"Initialize"})})),t=new Promise(((e,t)=>{window.setTimeout((()=>{t(new Error("Wasm Sqlite worker not initialized within 1 second"))}),1e3)}));return Promise.race([e,t])}}var R=n(758),B=n(49085);class V extends B.default{getInitialState(){return{}}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state.data)))}}const N=V;var O=n(77080),F=n(70203),z=n(77907);class D extends B.default{getInitialState(){return{loading:!1,loaded:!1}}async loadIfNeeded(e){if(this.state.loaded||this.state.loading)return;const t=e();if(!t)return;if(0===F.CGe(t).length)return;const n=z.deps.katex.loader();this.setState({loading:!0,loaded:!1,result:n}),this.setState({loading:!1,loaded:!0,result:await n})}getKatex(){if(this.state.loaded)return this.state.result}}var W=n(15157),H=n(44615),q=n(606),K=n(63143),G=n(54642),$=n(2688),Y=n(5315);class Q extends B.default{static getCacheKey(e){return`LocalBacklinkStore2:${e}`}getInitialState(){return{}}initializeBacklinks(e){let{block:t,currentUserId:n,environment:i}=e;if(this.instanceState[t.id])return;const o=this.getCachedBacklinkState({blockId:t.id,currentUserId:n});o?this.setState({...this.instanceState,[t.id]:{state:o,loaded:!0}}):this.setState({...this.instanceState,[t.id]:{state:{backlinks:[],inaccessibleBacklinkCount:0},loaded:!1}}),X(i,t),this.startMessageListeners(t,i)}awaitLoaded(e){return this.waitUntil((()=>{const t=this.state[e];return Boolean(t&&t.loaded)}))}destroyBacklinks(e,t){this.stopMessageListeners(e,t),delete this.instanceState[e]}getBacklinkState(e){let{blockId:t,currentUserId:n}=e;const i=this.state[t];return i?i.state:this.getCachedBacklinkState({blockId:t,currentUserId:n})||{backlinks:[],inaccessibleBacklinkCount:0}}setBacklinkState(e){let{blockId:t,state:n,currentUserId:i}=e;this.setCachedBacklinkState({blockId:t,state:n,currentUserId:i});const o=this.state[t];o&&this.setState({...this.state,[t]:{...o,state:n,loaded:!0}})}updateBacklinks(e){const{createdBacklinks:t,deletedBacklinks:n,currentUserId:i}=e,o=(0,K.cf)(t),s=(0,K.cf)(n),r=o.reduce(((e,t)=>{const{block_id:n}=t;return e[n]=e[n]?[...e[n],t]:[t],e}),{}),a=s.reduce(((e,t)=>{const{block_id:n}=t;return e[n]=e[n]?[...e[n],t]:[t],e}),{}),l=new Set([...Object.keys(r),...Object.keys(a)]);return l.forEach((e=>{const t=r[e]||[],n=a[e]||[],o=this.getBacklinkState({blockId:e,currentUserId:i}),s=t.filter((e=>!o.backlinks.some((t=>y.Xy(e,t))))),l=[...o.backlinks,...s].filter((e=>!n.some((t=>y.Xy(e,t)))));this.setBacklinkState({blockId:e,state:{...o,backlinks:l},currentUserId:i})})),Array.from(l)}resetBacklinkState(e){let{blockIds:t,currentUserId:n}=e;for(const i of t)this.setCachedBacklinkState({blockId:i,state:{backlinks:[],inaccessibleBacklinkCount:0},currentUserId:n})}getCachedBacklinkState(e){let{blockId:t,currentUserId:n}=e;return W.Z.get({userId:n,key:Q.getCacheKey(t)})}setCachedBacklinkState(e){let{blockId:t,state:n,currentUserId:i}=e;return W.Z.set({userId:i,key:Q.getCacheKey(t),value:n})}async startMessageListeners(e,t){const n=q.dr.fromSpaceShardRecordId(e,C.iU);Y.transactionQueue.isPendingTransactionForRecord(n)&&await Y.transactionQueue.drain();const i=this.instanceState[n.id];if(!i)return;let o,s=!1;const r=y.P2(((n,i)=>{const r=o,a=i||void 0;o=a,s?r!==a&&X(t,e):s=!0}),1e3),a=(0,H.Mv)(n.id);i.messageStoreListenerReference=$.Z.addListener(a,r,void 0,t)}stopMessageListeners(e,t){const n=this.instanceState[e];n&&n.messageStoreListenerReference&&($.Z.removeListener(n.messageStoreListenerReference,t),n.messageStoreListenerReference=void 0)}}async function X(e,t){await Y.transactionQueue.awaitRecordTransaction({id:t.id,table:C.iU});const n=await G.getBacklinksForBlock(e,{block:t});"failed"!==n.type&&e.LocalBacklinkStore.setBacklinkState({blockId:t.id,state:{backlinks:n.data.backlinks,inaccessibleBacklinkCount:n.data.inaccessibleBacklinkCount},currentUserId:e.currentUser.id})}var J=n(29477);class ee extends B.default{getInitialState(){return{isOpen:!1,isSubMenuOverridden:!1,subMenuType:null,menuType:null,shouldRestoreSelectionForMenu:!0,enableShouldShowDebugging:!1}}clear(e){this.update((t=>({...t,menuType:null,shouldRestoreSelectionForMenu:e})))}async clearNativeActionMenuAndRestoreSelectionIfNecessary(){null!==this.state.menuType&&(this.clear(!0),await J.Vs(10))}}var te=n(97880);function ne(e){return`PageDetailsStore:${e.type}:${e.id}`}class ie extends B.default{getInitialState(){return{}}static getDefaultToggleState(e){return"discussion"===e.type||"backlinks"!==e.type&&void(0,te.t1)(e)}getToggleState(e){const t=ne(e);if(t in this.state)return this.state[t]}setToggleState(e,t){const n=ne(e);this.setState({...this.state,[n]:t})}}var oe=n(54153);const se="spellcheckEnabled";class re{constructor(e){let{device:t}=e;this.enabled=void 0,this.currentLanguages=void 0;const n=oe.Z.get(se);this.setEnabled(void 0===n||n)}setEnabled(e){var t,n;(this.enabled=e,oe.Z.set(se,e),null!==(t=h.electronApi)&&void 0!==t&&t.setSpellCheckerEnabled)&&(null===(n=h.electronApi)||void 0===n||n.setSpellCheckerEnabled(e))}isEnabled(){return this.enabled}getCorrections(e){return e.dictionarySuggestions}addToDictionary(e){var t;null!==(t=h.electronApi)&&void 0!==t&&t.addToDictionary&&h.electronApi.addToDictionary(e)}setLanguages(e){var t;y.Xy(this.currentLanguages,e)||(this.currentLanguages=e,null!==(t=h.electronApi)&&void 0!==t&&t.setSpellCheckerLanguages&&h.electronApi.setSpellCheckerLanguages(0===e.length?[navigator.language]:e))}async getLanguages(){var e;const t=new Intl.DisplayNames([navigator.language],{type:"language"}),n=[];if(null!==(e=h.electronApi)&&void 0!==e&&e.getSpellCheckerLanguages){const e=await h.electronApi.getSpellCheckerLanguages();for(const i of e)n.push({code:i,name:t.of(i)})}return n}async getAvailableLanguages(){var e;const t=new Intl.DisplayNames([navigator.language],{type:"language"}),n=[];if(null!==(e=h.electronApi)&&void 0!==e&&e.getAvailableSpellCheckerLanguages){const e=await h.electronApi.getAvailableSpellCheckerLanguages();for(const i of e)n.push({code:i,name:t.of(i)})}return n}}var ae=n(14577);class le extends ae.Z{}const de=["nativeRedirect","page","space","nativeTab","onboarding","unsubscribe","unknown","uiDoc","root"],ce=[...de,"login","signup","quickSearch"];let ue=0;async function pe(e){var t,n;const{minimalEnvironment:f,prefetchCache:b}=e,{device:S,mobileNative:y,cookieService:w}=f,C=""+ue++,k=S.isElectron&&Boolean(null===(t=h.electronApi)||void 0===t?void 0:t.sqliteServerEnabled)?await async function(e){var t;if(!e.device.isElectron||null===(t=h.electronApi)||void 0===t||!t.sqliteServerEnabled)return;const n=new P;return await n.initialize(),n}({device:S}):void 0,x=S.isBrowser&&(0,v.fastCheckGate)("browser_sqlite")?await async function(){let e;try{e=new Z,await e.initialize()}catch(t){return}return e}():void 0,M=new l.Z,I=new d.Xk,_=new u.Z;let T;T=null!==(n=h.electronApi)&&void 0!==n&&n.getAvailableSpellCheckerLanguages?new re({device:S}):new R.P({device:S});const L=(null==y?void 0:y.sqliteConnection)||(null==k?void 0:k.sqliteConnection)||(null==x?void 0:x.sqliteConnection),E=L?new j(L,1e5):void 0,A=function(e){const{device:t,RouterStore:n,ThemeStore:i}=e;let o=de;return(t.isElectron||t.isMobileNative)&&(o=ce),new le((()=>{const e=n.state.route;return e&&o.includes(e.name)?i.state.mode:"light"}),{debugName:"ThemeModeStore"})}({device:S,RouterStore:M,ThemeStore:_}),U=S.isMobile?new ee:void 0,B=await m.getPublicDomainUserId({device:S,mobileNative:y,cookieService:w}),V={key:C,AppUpdateStore:new r.D,device:S,WindowSizeStore:new p.j({device:S},window,{mobileBrowserRemoveBottomPaddingHack:O.default.checkGate("mobile_browser_remove_bottom_padding_hack")}),KeyboardShortcutStackStore:new a.h({device:S}),defaultRecordCache:new o.q({inMemoryRecordCache:new i.Z({name:"default"}),persistedRecordCache:E}),mobileNative:y,RouterStore:M,ThemeStore:_,ThemeModeStore:A,ElectronSqlite:k,KatexStore:new D,LocalBacklinkStore:new Q,PageDetailsStore:new ie,updateCurrentUserId:void 0,currentUser:new s.CurrentUser,SpellCheckStore:T,CsatMilestoneStore:new N,NativeMobileActionBarStore:U,TextSelectionCompositionStore:new c.h,recordSubscriptionActions:g,prefetchCache:b,TabbedRouterStore:I,cookieService:w,publicDomainUserId:B};return null==k||k.setEnvironment(V),null==y||y.setEnvironment(V),null==x||x.setEnvironment(V),V}},91190:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,E:()=>o});var i=n(61766);const o=new i.Z,s=new i.Z},26492:(e,t,n)=>{"use strict";function i(e){return e.isElectron||e.isMobileNative}n.r(t),n.d(t,{deviceSupportsSqlite:()=>i})},30021:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(53809),o=n(30548);const s=new i.D({key:"appearanceSettingStorageKey",namespace:o.$p,important:!0,trackingType:"necessary"})},43604:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=n(49085).default.createValue({open:!1})},74055:(e,t,n)=>{"use strict";n.d(t,{V:()=>o,Z:()=>r});var i=n(49085);let o=function(e){return e.IN_APP_CALLOUT_CONFLICT="in-app callout conflict",e.DARK_MODE="not shown in dark mode",e}({});class s extends i.default{getInitialState(){return{isVisible:!1,suppressReason:void 0}}}const r=new s},81212:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=new(n(61364).Z)},53610:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=new(n(61766).Z)},66881:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});const i=n(49085).default.createValue({shouldReset:!1})},72653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(14577),o=n(5162),s=n(69454),r=n(55320);const a=new i.Z((()=>{const{phase:e}=s.Z.state;if(r.default.state.open)return!0;return(0,o.Y)("supportsFixedSizeWebView")&&!s.Z.state.shouldResizeWebView||e===s.i.hidden||e===s.i.willHide}),{debugName:"MobileBottomBarStore"})},12309:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(49085),o=n(4615);class s extends i.default{getInitialState(){return{modalInfoById:{}}}async showModal(e){const t=(0,o.ZP)();return new Promise((n=>{const i=e((e=>{n(e),this.internalCloseModal(t,(()=>{this.internalRemoveModal(t)}))}));this.update((e=>({modalInfoById:{...e.modalInfoById,[t]:{...i,isOpen:!0}}})))}))}internalRemoveModal(e){this.update((t=>{const n={...t.modalInfoById};return delete n[e],{modalInfoById:n}}))}internalCloseModal(e,t){this.update((n=>({modalInfoById:{...n.modalInfoById,[e]:{...n.modalInfoById[e],isOpen:!1,onClosed:t}}})))}}const r=new s},80988:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("blockColor",{viewBox:"0 0 30 30",svg:(0,o.jsx)("path",{d:"M25,5c0-2.2-1.8-4-4-4H6C3.8,1,2,2.8,2,5H1v2h1c0,2.2,1.8,4,4,4h15c2.2,0,4-1.8,4-4h2v6H14v4h-2v9c0,1.657,1.344,3,3,3 s3-1.343,3-3v-9h-2v-2h13V5H25z M23,7c0,1.103-0.896,2-2,2H6C4.896,9,4,8.103,4,7V5c0-1.103,0.896-2,2-2h15c1.104,0,2,0.897,2,2V7z M16,26c0,0.552-0.449,1-1,1s-1-0.448-1-1v-7h2V26z"})})},82855:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("chevronDownRounded",{viewBox:"0 0 15 9",svg:(0,o.jsx)("path",{d:"M7.92188 8.65625C8.19531 8.64844 8.44531 8.54688 8.64844 8.32812L14.5859 2.25C14.7578 2.07812 14.8516 1.85938 14.8516 1.60156C14.8516 1.08594 14.4453 0.671875 13.9297 0.671875C13.6797 0.671875 13.4375 0.773438 13.2578 0.953125L7.92969 6.42969L2.58594 0.953125C2.40625 0.78125 2.17188 0.671875 1.91406 0.671875C1.39844 0.671875 0.992188 1.08594 0.992188 1.60156C0.992188 1.85938 1.08594 2.07812 1.25781 2.25L7.20312 8.32812C7.41406 8.54688 7.64844 8.65625 7.92188 8.65625Z"})})},16880:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("chevronUpRounded",{viewBox:"0 0 15 9",svg:(0,o.jsx)("path",{d:"M1.258 6.5L7.203.422a.946.946 0 01.719-.32.99.99 0 01.726.32L14.586 6.5a.89.89 0 01.266.648c0 .524-.407.93-.922.93a.921.921 0 01-.672-.281L7.93 2.32 2.586 7.797a.926.926 0 01-.672.281.915.915 0 01-.922-.93c0-.25.094-.476.266-.648z"})})},64878:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("dot",{viewBox:"0 0 5 4",svg:(0,o.jsx)("circle",{cx:"2.5",cy:"2",r:"2"})})},97439:(e,t,n)=>{"use strict";n.d(t,{D:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("doubleChevronLeft",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M7.07031 13.8887C7.2207 14.0391 7.40527 14.1211 7.62402 14.1211C8.06836 14.1211 8.41699 13.7725 8.41699 13.3281C8.41699 13.1094 8.32812 12.9043 8.17773 12.7539L3.37207 8.05762L8.17773 3.375C8.32812 3.21777 8.41699 3.0127 8.41699 2.80078C8.41699 2.35645 8.06836 2.00781 7.62402 2.00781C7.40527 2.00781 7.2207 2.08984 7.07031 2.24023L1.73828 7.44922C1.56055 7.62012 1.46484 7.8252 1.46484 8.06445C1.46484 8.29688 1.55371 8.49512 1.73828 8.67969L7.07031 13.8887ZM13.1748 13.8887C13.3252 14.0391 13.5098 14.1211 13.7354 14.1211C14.1797 14.1211 14.5283 13.7725 14.5283 13.3281C14.5283 13.1094 14.4395 12.9043 14.2891 12.7539L9.4834 8.05762L14.2891 3.375C14.4395 3.21777 14.5283 3.0127 14.5283 2.80078C14.5283 2.35645 14.1797 2.00781 13.7354 2.00781C13.5098 2.00781 13.3252 2.08984 13.1748 2.24023L7.84961 7.44922C7.66504 7.62012 7.57617 7.8252 7.56934 8.06445C7.56934 8.29688 7.66504 8.49512 7.84961 8.67969L13.1748 13.8887Z"})})},25278:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("eyes",{viewBox:"0 0 72 72",svg:(0,o.jsx)("path",{d:"M17.0312 64.4375C26.25 64.4375 33.5625 52.9688 33.5625 36.4375C33.5625 19.9062 26.25 8.46875 17.0312 8.46875C7.8125 8.46875 0.5 19.9062 0.5 36.4375C0.5 52.9688 7.8125 64.4375 17.0312 64.4375ZM54.9688 64.4375C64.1875 64.4375 71.5 52.9688 71.5 36.4375C71.5 19.9062 64.1875 8.46875 54.9688 8.46875C45.75 8.46875 38.4375 19.9062 38.4375 36.4375C38.4375 52.9688 45.75 64.4375 54.9688 64.4375ZM10.0625 47.1875C15.125 47.1875 18.4688 43.6562 18.4688 38.3438C18.4688 33.0938 15.125 29.5625 10.0625 29.5625C7.6875 29.5625 5.71875 30.3125 4.25 31.6875C5.375 19.9375 10.6875 11.9375 17.0312 11.9062C24.25 11.875 30.125 22.0312 30.125 36.4375C30.125 50.7812 24.25 60.9688 17.0312 61C11.5312 61.0312 6.78125 54.9688 4.90625 45.5938C6.28125 46.625 8.03125 47.1875 10.0625 47.1875ZM47.9688 47.1875C53 47.1875 56.4062 43.6562 56.4062 38.3438C56.4062 33.0938 53 29.5625 47.9688 29.5625C45.5938 29.5625 43.5938 30.3438 42.1562 31.6875C43.2812 19.9375 48.5938 11.9375 54.9688 11.9375C62.1562 11.9062 68 22.0938 68 36.4375C68 50.7812 62.1562 60.9688 54.9688 60.9688C49.4375 61 44.6875 54.9375 42.7812 45.5938C44.1562 46.5938 45.9375 47.1875 47.9688 47.1875ZM45.5312 37.4062C44.4375 37.25 43.75 35.9688 44.0312 34.6562C44.3125 33.3125 45.3125 32.3438 46.375 32.5312C47.4688 32.75 48.0938 34.0312 47.8438 35.3125C47.5938 36.6562 46.5938 37.5938 45.5312 37.4062ZM7.625 37.4062C6.53125 37.25 5.84375 35.9688 6.09375 34.6562C6.375 33.3125 7.40625 32.3438 8.4375 32.5312C9.5625 32.7812 10.1875 34.0312 9.9375 35.3125C9.6875 36.6562 8.65625 37.5938 7.625 37.4062Z"})})},4970:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("fullscreen",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M1.25293 6.82031C1.25293 9.88965 3.74805 12.3848 6.81738 12.3848C7.95898 12.3848 9.00488 12.0361 9.87988 11.4414L13.0244 14.5859C13.2158 14.7842 13.4824 14.873 13.749 14.873C14.3301 14.873 14.7471 14.4355 14.7471 13.8682C14.7471 13.5947 14.6514 13.3418 14.4668 13.1504L11.3428 10.0195C11.9922 9.12402 12.3818 8.0166 12.3818 6.82031C12.3818 3.75098 9.88672 1.25586 6.81738 1.25586C3.74805 1.25586 1.25293 3.75098 1.25293 6.82031ZM2.70215 6.82031C2.70215 4.55078 4.54102 2.70508 6.81738 2.70508C9.08691 2.70508 10.9326 4.55078 10.9326 6.82031C10.9326 9.08984 9.08691 10.9355 6.81738 10.9355C4.54102 10.9355 2.70215 9.08984 2.70215 6.82031ZM4.52051 6.82031C4.52051 7.12109 4.75293 7.35352 5.05371 7.35352H6.27734V8.58398C6.27734 8.88477 6.5166 9.11719 6.81738 9.11719C7.11816 9.11719 7.35059 8.87793 7.35059 8.58398V7.35352H8.58105C8.875 7.35352 9.11426 7.12109 9.11426 6.82031C9.11426 6.51953 8.875 6.28711 8.58105 6.28711H7.35059V5.05664C7.35059 4.7627 7.11133 4.52344 6.81738 4.52344C6.5166 4.52344 6.27734 4.7627 6.27734 5.05664V6.28711H5.05371C4.75293 6.28711 4.52051 6.51953 4.52051 6.82031Z"})})},82356:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("import",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})},42107:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("mobileBottomBarAddPage",{viewBox:"0 0 26 26",svg:(0,o.jsx)("path",{d:"M22.5713 3.95215L23.3447 3.15722C23.71 2.78125 23.7207 2.25488 23.3555 1.90039L23.1084 1.64258C22.7754 1.30957 22.2383 1.35254 21.8945 1.69629L21.1104 2.46972L22.5713 3.95215ZM10.207 15.124L12.3018 14.2109L21.7764 4.73633L20.3047 3.28613L10.8408 12.7607L9.87402 14.7803C9.78809 14.9629 10.0029 15.21 10.207 15.124ZM5.74902 23.1162H18.3604C20.2832 23.1162 21.4111 21.999 21.4111 19.7861V7.83008L19.6816 9.55957V19.7002C19.6816 20.8174 19.0693 21.3867 18.3281 21.3867H5.77051C4.69629 21.3867 4.10547 20.8174 4.10547 19.7002V7.50781C4.10547 6.39062 4.69629 5.81054 5.77051 5.81054H15.0625L16.792 4.08105H5.74902C3.50391 4.08105 2.37598 5.19824 2.37598 7.41113V19.7861C2.37598 22.0098 3.50391 23.1162 5.74902 23.1162Z"})})},81846:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("mobileBottomBarRedo",{viewBox:"0 0 26 26",svg:(0,o.jsx)("path",{d:"M2.84863 17.498C2.84863 21.6123 5.54492 24.3516 10.3574 24.3516H12.8389C13.4297 24.3516 13.8164 23.9219 13.8164 23.3955C13.8164 22.8691 13.4297 22.4395 12.8389 22.4395H10.3682C6.70508 22.4395 4.76074 20.291 4.76074 17.3906C4.76074 14.501 6.70508 12.4814 10.3682 12.4814H17.7373L20.2617 12.374L18.2207 14.1143L15.127 17.1328C14.9551 17.3047 14.8691 17.5088 14.8691 17.7881C14.8691 18.3467 15.2451 18.7334 15.8145 18.7334C16.0508 18.7334 16.3301 18.626 16.5127 18.4326L22.8291 12.2344C23.0439 12.0303 23.1514 11.7832 23.1514 11.5254C23.1514 11.2568 23.0439 11.0098 22.8291 10.8057L16.5127 4.60742C16.3301 4.4248 16.0508 4.30664 15.8145 4.30664C15.2451 4.30664 14.8691 4.69336 14.8691 5.25195C14.8691 5.53125 14.9551 5.73535 15.127 5.90723L18.2207 8.93652L20.2617 10.6768L17.7373 10.5586H10.5293C5.62012 10.5586 2.84863 13.3945 2.84863 17.498Z"})})},57037:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("mobileBottomBarSearch",{viewBox:"0 0 26 26",svg:(0,o.jsx)("path",{d:"M11.1416 19.3779C12.9355 19.3779 14.5898 18.7979 15.9434 17.8311L21.0352 22.9229C21.2715 23.1592 21.583 23.2773 21.916 23.2773C22.6143 23.2773 23.1084 22.7402 23.1084 22.0527C23.1084 21.7305 23.001 21.4297 22.7646 21.1934L17.7051 16.123C18.7686 14.7266 19.4023 12.9971 19.4023 11.1172C19.4023 6.57324 15.6855 2.85645 11.1416 2.85645C6.59766 2.85645 2.88086 6.57324 2.88086 11.1172C2.88086 15.6611 6.59766 19.3779 11.1416 19.3779ZM11.1416 17.5947C7.59668 17.5947 4.66406 14.6621 4.66406 11.1172C4.66406 7.57227 7.59668 4.63965 11.1416 4.63965C14.6865 4.63965 17.6191 7.57227 17.6191 11.1172C17.6191 14.6621 14.6865 17.5947 11.1416 17.5947Z"})})},20162:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("mobileBottomBarUndo",{viewBox:"0 0 26 26",svg:(0,o.jsx)("path",{d:"M23.1514 17.498C23.1514 13.3945 20.3691 10.5586 15.4707 10.5586H8.25195L5.73828 10.6768L7.76855 8.93652L10.873 5.90723C11.0342 5.73535 11.1309 5.53125 11.1309 5.25195C11.1309 4.69336 10.7549 4.30664 10.1748 4.30664C9.94922 4.30664 9.66992 4.4248 9.4873 4.60742L3.1709 10.8057C2.95605 11.0098 2.84863 11.2568 2.84863 11.5254C2.84863 11.7832 2.95605 12.0303 3.1709 12.2344L9.4873 18.4326C9.66992 18.626 9.94922 18.7334 10.1748 18.7334C10.7549 18.7334 11.1309 18.3467 11.1309 17.7881C11.1309 17.5088 11.0342 17.3047 10.873 17.1328L7.76855 14.1143L5.73828 12.374L8.25195 12.4814H15.6318C19.2949 12.4814 21.2285 14.501 21.2285 17.3906C21.2285 20.291 19.2949 22.4395 15.6318 22.4395H13.1611C12.5703 22.4395 12.1836 22.8691 12.1836 23.3955C12.1836 23.9219 12.5703 24.3516 13.1611 24.3516H15.6426C20.4443 24.3516 23.1514 21.6123 23.1514 17.498Z"})})},9555:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("mobileBottomBarUpdates",{viewBox:"0 0 26 26",svg:(0,o.jsx)("path",{d:"M4.48145 20.4092H15.2988C15.2129 21.8594 14.2891 22.7832 12.9893 22.7832C11.7002 22.7832 10.7656 21.8594 10.6904 20.4092H9.01465C9.10059 22.4717 10.7227 24.2871 12.9893 24.2871C15.2666 24.2871 16.8887 22.4824 16.9746 20.4092H21.5078C22.5176 20.4092 23.1299 19.8828 23.1299 19.1094C23.1299 18.0352 22.0342 17.0684 21.1104 16.1123C20.4014 15.3711 20.208 13.8457 20.1221 12.6104C20.0469 8.37793 18.9512 5.63867 16.0938 4.60742C15.7285 3.21094 14.5791 2.09375 12.9893 2.09375C11.4102 2.09375 10.25 3.21094 9.89551 4.60742C7.03809 5.63867 5.94238 8.37793 5.86719 12.6104C5.78125 13.8457 5.58789 15.3711 4.87891 16.1123C3.94434 17.0684 2.85938 18.0352 2.85938 19.1094C2.85938 19.8828 3.46094 20.4092 4.48145 20.4092ZM4.94336 18.7871V18.6582C5.13672 18.3359 5.78125 17.7129 6.33984 17.0791C7.11328 16.2197 7.47852 14.8447 7.5752 12.7393C7.66113 8.05566 9.05762 6.55176 10.8945 6.05762C11.1631 5.99316 11.3135 5.85352 11.3242 5.58496C11.3564 4.45703 12.001 3.67285 12.9893 3.67285C13.9883 3.67285 14.6221 4.45703 14.665 5.58496C14.6758 5.85352 14.8154 5.99316 15.084 6.05762C16.9316 6.55176 18.3281 8.05566 18.4141 12.7393C18.5107 14.8447 18.876 16.2197 19.6387 17.0791C20.208 17.7129 20.8418 18.3359 21.0352 18.6582V18.7871H4.94336Z"})})},21566:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("moveTo",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M2.34668 13.5469C2.78418 13.5469 3.07812 13.2393 3.07812 12.8018C3.07812 12.542 3.05762 12.2754 3.05762 11.8994C3.05762 9.60254 3.86426 8.67285 6.14062 8.67285H10.5771L12.2109 8.57031L10.1738 10.4297L8.64941 11.9678C8.5127 12.1045 8.43066 12.2891 8.43066 12.501C8.43066 12.9111 8.73828 13.2188 9.16895 13.2188C9.35352 13.2188 9.53809 13.1436 9.70215 12.9863L14.207 8.48145C14.3711 8.33105 14.4531 8.12598 14.4531 7.9209C14.4531 7.71582 14.3711 7.51758 14.207 7.36035L9.71582 2.86914C9.53809 2.70508 9.35352 2.62305 9.16895 2.62305C8.73828 2.62305 8.43066 2.93066 8.43066 3.34082C8.43066 3.55273 8.5127 3.7373 8.64941 3.87402L10.1738 5.41895L12.2041 7.27148L10.5771 7.17578H6.04492C2.87988 7.17578 1.54688 8.63184 1.54688 11.8516C1.54688 12.2549 1.56055 12.6035 1.61523 12.877C1.67676 13.2051 1.88184 13.5469 2.34668 13.5469Z"})})},70954:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("notionLogoStroked",{viewBox:"0 0 41 42",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M4.253 2.903h0-.01c-1.02.09-1.806.481-2.322 1.142-.5.642-.671 1.441-.671 2.21v23.228c0 1.267.47 2.316 1.416 3.577h0l.006.008 4.99 6.477h0l.005.005c.465.593.963 1.017 1.617 1.256.63.23 1.33.26 2.138.221h.01l24.652-1.49h.008c1.137-.08 2.038-.396 2.632-1.071.588-.668.746-1.543.746-2.431V9.904c0-.584-.133-1.05-.508-1.486-.27-.311-.669-.602-1.113-.925a54.305 54.305 0 01-.176-.13l-.007-.004-.005-.004-6.772-4.761c-.838-.609-1.516-1.017-2.365-1.21-.824-.187-1.75-.156-3.047-.044L4.253 2.903z",fill:"#fff",stroke:"#fff",strokeWidth:"1.5"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.257 3.158L5.176 4.637c-1.62.14-2.184 1.197-2.184 2.464v21.971c0 .987.352 1.83 1.198 2.959l4.72 6.126c.776.987 1.48 1.198 2.96 1.127l23.32-1.408c1.973-.14 2.537-1.057 2.537-2.606V10.552c0-.801-.316-1.032-1.25-1.714l-.16-.117-6.41-4.507c-1.55-1.126-2.184-1.268-4.65-1.056zM12.4 10.146c-1.904.129-2.337.158-3.418-.72l-2.75-2.183c-.28-.283-.14-.635.565-.705L26.102 5.13c1.62-.141 2.466.423 3.1.916l3.311 2.394c.141.07.493.492.07.492L12.645 10.13l-.245.016zM10.179 35.06V14.074c0-.916.281-1.338 1.126-1.41l22.898-1.337c.777-.07 1.128.423 1.128 1.338v20.844c0 .916-.14 1.691-1.41 1.761l-21.91 1.268c-1.269.07-1.832-.352-1.832-1.48zm21.63-19.86c.141.635 0 1.268-.635 1.34l-1.056.21v15.492c-.916.493-1.761.775-2.466.775-1.128 0-1.41-.352-2.255-1.408l-6.905-10.845v10.493l2.185.493s0 1.267-1.763 1.267l-4.86.282c-.142-.282 0-.986.492-1.127l1.269-.351V17.947l-1.761-.142c-.141-.634.21-1.549 1.197-1.62l5.214-.351 7.187 10.986V17.1l-1.832-.21c-.14-.776.422-1.339 1.127-1.409l4.863-.283z",fill:"#222"})]})})},55449:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("onboardingUseCaseBook",{viewBox:"0 0 18 22",svg:(0,o.jsx)("path",{d:"M3.654 21.535H16.36c.518 0 .918-.4.918-.918 0-.44-.302-.762-.674-.937-1.2-.537-1.435-2.198-.214-3.36.498-.44.879-.927.879-1.914V3.596c0-2.11-1.084-3.213-3.184-3.213H3.674C1.584.383.49 1.477.49 3.596v14.756c0 2.09 1.094 3.183 3.164 3.183zM13.908 2.326c.947 0 1.416.498 1.416 1.397v10.38c0 .479-.273.743-.761.743h-9.59V2.326h8.935zM2.434 15.187V3.723c0-.81.38-1.29 1.152-1.377v12.51a3 3 0 00-1.152.332zM6.72 6.8h6.826c.38 0 .693-.313.693-.694a.696.696 0 00-.693-.693H6.72a.696.696 0 00-.694.693c0 .381.313.694.694.694zm0 2.724h5.175c.381 0 .694-.312.694-.693a.696.696 0 00-.694-.693H6.721a.696.696 0 00-.694.693c0 .38.313.693.694.693zM3.918 19.7c-1.045 0-1.592-.596-1.592-1.514 0-.888.625-1.503 1.66-1.503h9.746c.108 0 .215-.01.313-.03-.488 1.035-.43 2.159.098 3.047H3.918z",fill:"#6E6C62"})})},38491:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("redo",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M1.45117 10.6826C1.45117 13.4102 3.24219 15.208 6.29785 15.208H7.93848C8.38281 15.208 8.69727 14.873 8.69727 14.4629C8.69727 14.0459 8.38281 13.7109 7.93848 13.7109H6.3457C4.14453 13.7109 2.92773 12.4053 2.92773 10.6211C2.92773 8.84375 4.14453 7.59277 6.3457 7.59277H10.7002L12.2793 7.52441L11.0762 8.53613L9.31934 10.252C9.18262 10.3887 9.10059 10.5527 9.10059 10.7715C9.10059 11.1953 9.39453 11.5029 9.83203 11.5029C10.0234 11.5029 10.2285 11.4141 10.3721 11.2705L14.3027 7.40137C14.46 7.25098 14.542 7.05273 14.542 6.84766C14.542 6.64258 14.46 6.4375 14.3027 6.29395L10.3721 2.4248C10.2285 2.28125 10.0234 2.19238 9.83203 2.19238C9.39453 2.19238 9.10059 2.5 9.10059 2.91699C9.10059 3.14258 9.18262 3.30664 9.31934 3.43652L11.0762 5.15234L12.2793 6.1709L10.7002 6.10254H6.38672C3.2832 6.10254 1.45117 7.96875 1.45117 10.6826Z"})})},53470:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("rename",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M14.7881 2.5752L15.3008 2.04199C15.5605 1.76855 15.5742 1.39941 15.3213 1.13965L15.1436 0.955078C14.9111 0.722656 14.5283 0.763672 14.2754 1.00977L13.749 1.5293L14.7881 2.5752ZM6.68066 9.87598L8.0752 9.28809L14.2891 3.06738L13.25 2.03516L7.03613 8.25586L6.4209 9.60254C6.35254 9.75977 6.52344 9.9375 6.68066 9.87598ZM4.09668 14.4355H12.0674C13.373 14.4355 14.1387 13.6768 14.1387 12.2207V4.99512L12.7988 6.33496V12.1045C12.7988 12.7676 12.4434 13.1025 11.9854 13.1025H4.17871C3.54297 13.1025 3.19434 12.7676 3.19434 12.1045V4.49609C3.19434 3.83301 3.54297 3.49805 4.17871 3.49805H10.0234L11.3633 2.1582H4.09668C2.62695 2.1582 1.85449 2.91699 1.85449 4.37988V12.2207C1.85449 13.6836 2.62695 14.4355 4.09668 14.4355Z"})})},70663:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("replace",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.26465 3.96094C2.95996 4.26562 2.979 4.66553 3.23291 4.8877C3.49316 5.12256 3.86133 5.12256 4.16602 4.83057C5.11182 3.80225 6.48291 3.15479 8 3.15479C10.6851 3.15479 12.856 5.12891 13.2051 7.66162H12.2466C11.7642 7.66162 11.6309 8.01709 11.9102 8.41064L13.4209 10.5435C13.6494 10.8608 13.9985 10.8608 14.2334 10.5435L15.7441 8.41699C16.0298 8.02344 15.8965 7.66162 15.4077 7.66162H14.519C14.1445 4.44336 11.3516 1.85986 8 1.85986C6.13379 1.85986 4.43262 2.68506 3.26465 3.96094ZM0.249512 8.42334C-0.0297852 8.81689 0.097168 9.17871 0.585938 9.17871H1.4873C1.85547 12.397 4.64844 14.9805 8 14.9805C9.87256 14.9805 11.5737 14.1553 12.748 12.873C13.0464 12.5684 13.0273 12.1685 12.7734 11.9399C12.5132 11.7051 12.1514 11.7114 11.8403 12.0034C10.9009 13.0381 9.52979 13.6855 8 13.6855C5.32129 13.6855 3.14404 11.7178 2.79492 9.17871H3.74707C4.22949 9.17871 4.36279 8.82324 4.0835 8.42969L2.57275 6.29688C2.34424 5.97949 1.99512 5.97949 1.7666 6.29688L0.249512 8.42334Z"})})},35840:(e,t,n)=>{"use strict";n.d(t,{R:()=>s,T:()=>o});n(67294);var i=n(45238);const o=(0,n(85893).jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"}),s=(0,i.I)("search",{viewBox:"0 0 16 16",svg:o})},64530:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("settingsNotificationsAndPersonal",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M12.5361 7.54883C13.2744 7.54883 13.9033 7.09082 14.1631 6.44141H16.4258C16.7607 6.44141 17.0479 6.14746 17.0479 5.79199C17.0479 5.43652 16.7676 5.14258 16.4258 5.14258H14.1699C13.9102 4.49316 13.2744 4.03516 12.5361 4.03516C11.7979 4.03516 11.1621 4.49316 10.9023 5.14258H3.59473C3.23242 5.14258 2.95215 5.43652 2.95215 5.79199C2.95215 6.14746 3.23926 6.44141 3.59473 6.44141H10.9023C11.1621 7.09082 11.7979 7.54883 12.5361 7.54883ZM12.5361 6.62598C12.0713 6.62598 11.6953 6.25684 11.6953 5.79199C11.6953 5.31348 12.0713 4.95117 12.5361 4.95117C13.0078 4.95117 13.3701 5.31348 13.3701 5.79199C13.3701 6.25684 13.0078 6.62598 12.5361 6.62598ZM3.56738 9.40137C3.23242 9.40137 2.95215 9.68848 2.95215 10.0508C2.95215 10.3994 3.23926 10.6934 3.56738 10.6934H5.91211C6.16504 11.3428 6.80078 11.8076 7.5459 11.8076C8.27734 11.8076 8.91309 11.3428 9.17285 10.6934H16.4053C16.7607 10.6934 17.0479 10.4062 17.0479 10.0508C17.0479 9.68848 16.7676 9.40137 16.4053 9.40137H9.17285C8.91309 8.75195 8.27734 8.29395 7.5459 8.29395C6.80762 8.29395 6.17188 8.75195 5.91211 9.40137H3.56738ZM7.5459 10.8848C7.07422 10.8848 6.70508 10.5156 6.70508 10.0508C6.70508 9.57227 7.07422 9.20996 7.5459 9.20996C8.01758 9.20996 8.37988 9.57227 8.37988 10.0508C8.37988 10.5156 8.01758 10.8848 7.5459 10.8848ZM12.5361 16.0596C13.2744 16.0596 13.9102 15.6016 14.1699 14.9521H16.4258C16.7607 14.9521 17.0479 14.6582 17.0479 14.3027C17.0479 13.9404 16.7676 13.6533 16.4258 13.6533H14.1631C13.9102 13.0039 13.2744 12.5459 12.5361 12.5459C11.7979 12.5459 11.1621 13.0039 10.9023 13.6533H3.59473C3.23242 13.6533 2.95215 13.9473 2.95215 14.3027C2.95215 14.6582 3.23926 14.9521 3.59473 14.9521H10.9023C11.1621 15.6016 11.7979 16.0596 12.5361 16.0596ZM12.5361 15.1436C12.0713 15.1436 11.6953 14.7676 11.6953 14.3027C11.6953 13.8311 12.0713 13.4619 12.5361 13.4619C13.0078 13.4619 13.3701 13.8311 13.3701 14.3027C13.3701 14.7676 13.0078 15.1436 12.5361 15.1436Z"})})},59078:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("sidebarInbox",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M4.61084 16.0537C3.90837 16.0537 3.37305 15.8717 3.00488 15.5078C2.64095 15.1481 2.45898 14.6191 2.45898 13.9209V10.1504C2.45898 9.89225 2.47168 9.67432 2.49707 9.49658C2.52669 9.31462 2.57536 9.15169 2.64307 9.00781C2.71077 8.86393 2.80387 8.71794 2.92236 8.56982L4.94092 6.09424C5.20752 5.76416 5.44238 5.50602 5.64551 5.31982C5.85286 5.12939 6.07715 4.99609 6.31836 4.91992C6.5638 4.83952 6.88118 4.79932 7.27051 4.79932H12.7358C13.1252 4.79932 13.4404 4.83952 13.6816 4.91992C13.9271 4.99609 14.1514 5.12939 14.3545 5.31982C14.5576 5.50602 14.7946 5.76416 15.0654 6.09424L17.0776 8.56982C17.2004 8.71794 17.2956 8.86393 17.3633 9.00781C17.431 9.15169 17.4775 9.31462 17.5029 9.49658C17.5283 9.67432 17.541 9.89225 17.541 10.1504V13.9209C17.541 14.6191 17.359 15.1481 16.9951 15.5078C16.6312 15.8717 16.098 16.0537 15.3955 16.0537H4.61084ZM4.69971 14.6445H15.3066C15.5817 14.6445 15.7912 14.5747 15.9351 14.4351C16.0832 14.2912 16.1572 14.0711 16.1572 13.7749V10.7852H12.4946C12.4142 11.1533 12.2576 11.4813 12.0249 11.769C11.7964 12.0568 11.5086 12.2853 11.1616 12.4546C10.8146 12.6196 10.4274 12.7021 10 12.7021C9.57682 12.7021 9.19173 12.6196 8.84473 12.4546C8.49772 12.2896 8.20785 12.0632 7.9751 11.7754C7.74235 11.4834 7.58789 11.1533 7.51172 10.7852H3.84277V13.7749C3.84277 14.0711 3.91471 14.2912 4.05859 14.4351C4.20671 14.5747 4.42041 14.6445 4.69971 14.6445ZM10 11.4072C10.2751 11.4072 10.512 11.3395 10.7109 11.2041C10.9098 11.0687 11.0643 10.8973 11.1743 10.6899C11.2843 10.4784 11.3394 10.2646 11.3394 10.0488V10.0298C11.3394 9.90706 11.3774 9.79915 11.4536 9.70605C11.5298 9.60872 11.6525 9.56006 11.8218 9.56006H15.8335C15.9351 9.56006 15.9964 9.52409 16.0176 9.45215C16.043 9.38021 16.0303 9.3125 15.9795 9.24902L13.7197 6.43701C13.5885 6.26774 13.4447 6.14502 13.2881 6.06885C13.1315 5.98844 12.9495 5.94824 12.7422 5.94824H7.25781C7.05469 5.94824 6.87484 5.98844 6.71826 6.06885C6.56169 6.14502 6.41569 6.26774 6.28027 6.43701L4.0332 9.24902C3.97819 9.3125 3.96126 9.38021 3.98242 9.45215C4.00781 9.52409 4.07129 9.56006 4.17285 9.56006H8.18457C8.35384 9.56006 8.47656 9.60872 8.55273 9.70605C8.62891 9.79915 8.66699 9.90706 8.66699 10.0298V10.0488C8.66699 10.2646 8.71989 10.4784 8.82568 10.6899C8.93571 10.8973 9.09017 11.0687 9.28906 11.2041C9.48796 11.3395 9.72493 11.4072 10 11.4072Z"})})},79102:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("sidebarUpdates",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M6.87695 10.8601C6.72038 10.8601 6.58708 10.8072 6.47705 10.7014C6.37126 10.5956 6.31836 10.4644 6.31836 10.3079C6.31836 10.1555 6.37126 10.0264 6.47705 9.92065C6.58708 9.81486 6.72038 9.76196 6.87695 9.76196H9.44775V6.24536C9.44775 6.08879 9.50065 5.9576 9.60645 5.85181C9.71224 5.74601 9.84131 5.69312 9.99365 5.69312C10.1502 5.69312 10.2814 5.74601 10.3872 5.85181C10.493 5.9576 10.5459 6.08879 10.5459 6.24536V10.3079C10.5459 10.4644 10.493 10.5956 10.3872 10.7014C10.2814 10.8072 10.1502 10.8601 9.99365 10.8601H6.87695ZM10 16.6174C9.0944 16.6174 8.2417 16.4439 7.44189 16.0969C6.64209 15.7542 5.9375 15.2781 5.32812 14.6687C4.71875 14.0593 4.24056 13.3569 3.89355 12.5613C3.55078 11.7615 3.37939 10.9067 3.37939 9.99683C3.37939 9.09123 3.55078 8.24064 3.89355 7.44507C4.24056 6.64526 4.71663 5.94067 5.32178 5.3313C5.93115 4.72192 6.63574 4.24585 7.43555 3.90308C8.23535 3.55607 9.08805 3.38257 9.99365 3.38257C10.8993 3.38257 11.752 3.55607 12.5518 3.90308C13.3558 4.24585 14.0604 4.72192 14.6655 5.3313C15.2749 5.94067 15.7531 6.64526 16.1001 7.44507C16.4471 8.24064 16.6206 9.09123 16.6206 9.99683C16.6206 10.9067 16.4471 11.7615 16.1001 12.5613C15.7531 13.3569 15.2749 14.0593 14.6655 14.6687C14.0604 15.2781 13.3579 15.7542 12.5581 16.0969C11.7583 16.4439 10.9056 16.6174 10 16.6174ZM10 15.1638C10.7152 15.1638 11.3838 15.0305 12.0059 14.7639C12.6322 14.4973 13.1823 14.1292 13.6562 13.6594C14.1302 13.1855 14.5005 12.6375 14.7671 12.0154C15.0337 11.3891 15.167 10.7162 15.167 9.99683C15.167 9.28166 15.0316 8.61304 14.7607 7.99097C14.4941 7.36466 14.1239 6.81453 13.6499 6.34058C13.1802 5.86662 12.6322 5.49634 12.0059 5.22974C11.3838 4.96313 10.7131 4.82983 9.99365 4.82983C9.27848 4.82983 8.60775 4.96313 7.98145 5.22974C7.35938 5.49634 6.81136 5.86662 6.3374 6.34058C5.86768 6.81453 5.49951 7.36466 5.23291 7.99097C4.97054 8.61304 4.83936 9.28166 4.83936 9.99683C4.83936 10.7162 4.97054 11.3891 5.23291 12.0154C5.49951 12.6375 5.86979 13.1855 6.34375 13.6594C6.81771 14.1292 7.36572 14.4973 7.98779 14.7639C8.6141 15.0305 9.28483 15.1638 10 15.1638Z"})})},69619:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});n(67294);var i=n(45238),o=n(85893);const s=(0,i.I)("unsync",{viewBox:"0 0 30 30",svg:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.768 23.295l1.353 1.351a11.298 11.298 0 01-6.118 1.81c-5.862 0-10.781-4.538-11.387-10.254h-1.55c-.809 0-1.011-.55-.573-1.168l2.516-3.572c.37-.527.91-.516 1.269 0l2.515 3.583c.427.606.225 1.157-.572 1.157H5.536a9.496 9.496 0 009.467 8.344c1.74 0 3.366-.454 4.765-1.251zM10.233 6.723l-1.361-1.36a11.26 11.26 0 016.131-1.818c5.851 0 10.782 4.548 11.388 10.265h1.539c.808 0 1.021.539.572 1.167l-2.504 3.572c-.37.528-.91.516-1.27 0l-2.515-3.583c-.427-.617-.224-1.156.573-1.156h1.673a9.503 9.503 0 00-9.456-8.356 9.55 9.55 0 00-4.77 1.27z"}),(0,o.jsx)("path",{d:"M27.067 28.551c.41.41 1.094.41 1.49 0 .41-.41.41-1.08 0-1.49L2.937 1.454a1.06 1.06 0 00-1.505 0c-.396.396-.396 1.08 0 1.49l25.635 25.607z"})]})})},18613:(e,t,n)=>{"use strict";n.r(t),n.d(t,{clearNotionLocalStorageWithNoPermission:()=>s});var i=n(46637),o=n(72128);function s(){i.Z.removeAllIfNoPermission(),o.Z.removeAllIfNoPermission()}},45366:(e,t,n)=>{"use strict";n.d(t,{wS:()=>s});var i=n(72126);const o=/[-./\\()"'’‘”“，。、·～；,;<>~!@#$%^&*|+=[\]{}`~?:\s]/u;function s(e){return(0,i.oA)(e.split(o))}},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},27117:(e,t,n)=>{var i=n(17187),o=n(35717);function s(e){if(!(this instanceof s))return new s(e);"number"==typeof e&&(e={max:e}),e||(e={}),i.EventEmitter.call(this),this.cache={},this.head=this.tail=null,this.length=0,this.max=e.max||1e3,this.maxAge=e.maxAge||0}e.exports=s,o(s,i.EventEmitter),Object.defineProperty(s.prototype,"keys",{get:function(){return Object.keys(this.cache)}}),s.prototype.clear=function(){this.cache={},this.head=this.tail=null,this.length=0},s.prototype.remove=function(e){if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){var t=this.cache[e];return delete this.cache[e],this._unlink(e,t.prev,t.next),t.value}},s.prototype._unlink=function(e,t,n){this.length--,0===this.length?this.head=this.tail=null:this.head===e?(this.head=t,this.cache[this.head].next=null):this.tail===e?(this.tail=n,this.cache[this.tail].prev=null):(this.cache[t].next=n,this.cache[n].prev=t)},s.prototype.peek=function(e){if(this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return t.value}},s.prototype.set=function(e,t){var n;if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){if((n=this.cache[e]).value=t,this.maxAge&&(n.modified=Date.now()),e===this.head)return t;this._unlink(e,n.prev,n.next)}else n={value:t,modified:0,next:null,prev:null},this.maxAge&&(n.modified=Date.now()),this.cache[e]=n,this.length===this.max&&this.evict();return this.length++,n.next=null,n.prev=this.head,this.head&&(this.cache[this.head].next=e),this.head=e,this.tail||(this.tail=e),t},s.prototype._checkAge=function(e,t){return!(this.maxAge&&Date.now()-t.modified>this.maxAge)||(this.remove(e),this.emit("evict",{key:e,value:t.value}),!1)},s.prototype.get=function(e){if("string"!=typeof e&&(e=""+e),this.cache.hasOwnProperty(e)){var t=this.cache[e];if(this._checkAge(e,t))return this.head!==e&&(e===this.tail?(this.tail=t.next,this.cache[this.tail].prev=null):this.cache[t.prev].next=t.next,this.cache[t.next].prev=t.prev,this.cache[this.head].next=e,t.prev=this.head,t.next=null,this.head=e),t.value}},s.prototype.evict=function(){if(this.tail){var e=this.tail,t=this.remove(this.tail);this.emit("evict",{key:e,value:t})}}},20745:(e,t,n)=>{"use strict";var i=n(73935);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot}}]);