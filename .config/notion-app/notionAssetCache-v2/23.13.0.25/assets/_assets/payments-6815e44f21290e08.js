"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[7983],{14694:(e,t,n)=>{n.d(t,{Z:()=>c});n(67294);var s=n(480),r=n(86628),i=n(24405),a=n(39567),o=n(50659),d=n(85893);function l(){window.__c={n:"AliasIcon"};const e=(0,i.yK)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.regularTextColor:"#3E3C38",stroke:"dark"===e.mode?e.sidebarBackground:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,d.jsx)("div",{children:(0,a.Y)(e.icon)})}function c(e){var t;window.__c={n:"SidebarItem"};const n=(0,s.O7)(),a=n.device.isMobile,c=(0,r.VK)((()=>{var t,s;if(a)return n.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingLeft)?null===(s=e.style)||void 0===s?void 0:s.paddingLeft:10)}),[n.WindowSizeStore,a,null===(t=e.style)||void 0===t?void 0:t.paddingLeft]),u=(0,i.yK)((t=>({wrapper:{...a?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:8,paddingBottom:8,paddingLeft:c,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:e.disableMobileBorder?void 0:`0 1px 0 ${t.regularDividerColor}`,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:27,paddingTop:2,paddingBottom:2,marginTop:1,marginBottom:1,...(0,o.MF)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:a?28:22,height:a?24:18,marginLeft:-3,marginRight:4,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.mediumTextColor,width:a?26:22,height:a?24:22,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!a?"clip":"ellipsis",...e.childrenStyle}})),[a,c,e.disableMobileBorder,e.shouldShowMobileMarginBottom,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,d.jsxs)("div",{role:e.role,"aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:u.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,d.jsx)("div",{style:u.left,children:e.left}),e.icon&&(0,d.jsxs)("div",{style:u.icon,children:[e.icon,e.isAlias&&(0,d.jsx)(l,{})]}),(0,d.jsx)("div",{style:u.children,children:e.children}),e.right&&(0,d.jsx)("div",{style:u.right,children:e.right})]})}},1063:(e,t,n)=>{n.d(t,{X:()=>c});n(67294);var s=n(480),r=n(24405),i=n(68939),a=n(50906),o=n(35057),d=n(42402),l=n(85893);function c(e){window.__c={n:"StartupCouponInlineTextLink"};const t=(0,s.O7)(),n=(0,r.yK)((()=>({couponLink:{fontSize:12}})),[]);return(0,l.jsx)(d.Z,{href:"https://notionup.typeform.com/to/qYXezfBW",external:!0,style:n.couponLink,onClick:()=>{const n=(0,o.zt)();a.sS1(t,{tier:e.tier,currentTier:n})},children:(0,l.jsx)("div",{children:(0,l.jsx)(i.FormattedMessage,{id:"startupCouponInlineLink.text",defaultMessage:"Are you a startup?"})})})}},69098:(e,t,n)=>{n.d(t,{j:()=>c,o:()=>s});var s={};n.r(s),n.d(s,{showAsyncModal:()=>p,showAsyncModalComponent:()=>m,testOnly:()=>M});var r=n(67294),i=n(86628),a=n(49085);class o extends a.default{getInitialState(){return{asyncModals:[]}}}const d=new o;var l=n(85893);const c=r.memo((e=>{window.__c={n:"AsyncModalRenderer"};const{store:t=d}=e,n=(0,i.VK)((()=>t.state.asyncModals),[t]);return(0,l.jsx)(l.Fragment,{children:n.map((e=>{const{id:t,internalRenderModal:n,isOpen:s}=e,i=n(s);return(0,l.jsx)(r.Fragment,{children:i},t)}))})}));var u=n(4615);function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return new Promise(((n,s)=>{try{y({asyncModal:x({renderModal:e,promiseResolve:n,promiseReject:s,store:t}),store:t})}catch(r){s(r)}}))}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;const n=t=>r.createElement(e,t);return p(n,t)}function y(e){const{asyncModal:t,store:n=d}=e;n.update((e=>({asyncModals:[...e.asyncModals,t]})))}function g(e){const{id:t,promiseResolve:n,store:s=d}=e;return e=>{const r=b({id:t,store:s});null!=r&&r.isOpen&&(v({id:t,store:s,update:{isOpen:!1}}),n(e))}}function h(e){const{id:t,promiseResolve:n,store:s=d}=e;return()=>{const e=b({id:t,store:s});null!=e&&e.isOpen&&(v({id:t,store:s,update:{isOpen:!1}}),n())}}function f(e){const{id:t,store:n=d}=e;return()=>{n.update((e=>({asyncModals:e.asyncModals.filter((e=>e.id!==t))})))}}function x(e){const{renderModal:t,promiseResolve:n,promiseReject:s,store:r=d}=e,i=(0,u.ZP)(),a=f({id:i,store:r}),o=h({id:i,promiseResolve:n,store:r}),l=g({id:i,promiseResolve:n,store:r});return{id:i,internalRenderModal:e=>{try{return t({isOpen:e,onClosed:a,onDismiss:o,resolve:l})}catch(n){throw s(n),n}},isOpen:!0}}function b(e){const{id:t,store:n=d}=e;return n.state.asyncModals.find((e=>e.id===t))}function v(e){const{id:t,update:n,store:s=d}=e;s.update((e=>({asyncModals:e.asyncModals.map((e=>e.id!==t?e:{...e,...n}))})))}const M={addAsyncModal:y,createAsyncModal:x,createOnClosed:f,createOnDismiss:h,createResolve:g,getAsyncModal:b,updateAsyncModal:v}},81477:(e,t,n)=>{n.d(t,{Z:()=>s});const s=function(e){return!!e.device.isMobile||e.WindowSizeStore.state.width<960}},50659:(e,t,n)=>{n.d(t,{G$:()=>r,MF:()=>i,Z3:()=>s});function s(e){let{isMobile:t}=e;return{...!t&&{borderRadius:3}}}function r(e){let{isMobile:t}=e;return t?{}:{...s({isMobile:t}),marginLeft:4,marginRight:4,width:"calc(100% - 8px)"}}function i(){return{paddingLeft:10,paddingRight:10}}},91493:(e,t,n)=>{n.d(t,{G:()=>o});n(67294);var s=n(68939),r=n(51133),i=n(27533),a=n(85893);function o(e){window.__c={n:"OrderSummaryAccountBalanceItem"};const t=(0,r.hr)(),{accountBalance:n}=e;return 0===n.amount?null:(0,a.jsxs)("div",{style:t.itemContainer,children:[(0,a.jsx)("div",{style:t.captionContainer,children:(0,a.jsx)("span",{style:t.name,children:(0,a.jsx)(s.FormattedMessage,{id:"subscriptionHelpers.lineItems.balance",defaultMessage:"Balance"})})}),(0,a.jsx)("span",{style:t.credit,children:(0,a.jsx)(i.W,{cost:n.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},59148:(e,t,n)=>{n.d(t,{T:()=>o});n(67294);var s=n(68939),r=n(51133),i=n(27533),a=n(85893);function o(e){window.__c={n:"OrderSummaryDiscountItem"};const t=(0,r.hr)(),{discount:n,promo:o}=e;return(0,a.jsxs)("div",{style:t.itemContainer,children:[(0,a.jsx)("div",{style:t.captionContainer,children:(0,a.jsx)("span",{style:t.name,children:(0,a.jsx)(s.FormattedMessage,{id:"subscriptionHelpers.lineItems.promo",defaultMessage:"Coupon"})})}),o.duration_in_months?(0,a.jsx)("span",{style:t.caption,children:(0,a.jsx)(s.FormattedMessage,{id:"subscriptionHelpers.lineItems.promo.subtitle",defaultMessage:"Valid for {durationInMonths} months",values:{durationInMonths:o.duration_in_months}})}):void 0,(0,a.jsx)("span",{style:t.credit,children:(0,a.jsx)(i.W,{cost:n.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},42329:(e,t,n)=>{n.d(t,{r:()=>o});n(67294);var s=n(68939),r=n(51133),i=n(27533),a=n(85893);function o(e){window.__c={n:"OrderSummarySubtotalItem"};const t=(0,r.hr)(),{subtotal:n}=e;return(0,a.jsxs)("div",{style:t.itemContainer,children:[(0,a.jsx)("div",{style:t.captionContainer,children:(0,a.jsx)("span",{style:t.name,children:(0,a.jsx)(s.FormattedMessage,{id:"subscriptionHelpers.lineItems.subTotal",defaultMessage:"Subtotal"})})}),(0,a.jsx)("span",{style:t.price,children:(0,a.jsx)(i.W,{cost:n.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},92041:(e,t,n)=>{n.d(t,{u:()=>d});n(67294);var s=n(68939),r=n(68785),i=n(51133),a=n(27533),o=n(85893);function d(e){window.__c={n:"OrderSummaryTaxItem"};const t=(0,i.hr)(),{tax:n,calculatingTax:d}=e;return(0,o.jsxs)("div",{style:t.itemContainer,children:[(0,o.jsx)("div",{style:t.captionContainer,children:(0,o.jsx)("span",{style:t.name,children:(0,o.jsx)(s.FormattedMessage,{id:"subscriptionHelpers.lineItems.taxIfApplicable.title",defaultMessage:"Tax if applicable"})})}),(0,o.jsx)("span",{style:t.price,children:d?(0,o.jsx)(r.Z,{}):0===n.amount?"—":(0,o.jsx)(a.W,{cost:n.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}},40022:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ue});var s=n(86664),r=n(67294),i=n(480),a=n(86628),o=n(3791),d=n(68939),l=n(29497),c=n(7184),u=n(43250),p=n(38755),m=n(80444),y=n(88632),g=n(27242),h=n(78291),f=n(68626),x=n(90850),b=n(50906),v=n(47307),M=n(92625),j=n(92083),C=n(70060),S=n(95014),w=n(88893),I=n(33493),_=n(22616),T=n(34583),O=n(85893);const Z=(0,d.defineMessages)({cancelFailedSubscription:{id:"subscription.upgrade.cancel_failed_subscription",defaultMessage:"Cancelling subscription..."},finishingUp:{id:"subscription.upgrade.finishing",defaultMessage:"Finishing up..."}});async function F(e){const{environment:t,state:n,data:s,stripe:r,elements:i,intl:a,useTestClock:o}=e;if(!i||!r)return void f.log({level:"error",from:"SpaceSubscriptionUpgradeModal",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}});let l=n.paymentData;if(!l){var c,u;const{error:e}=await i.submit();if(e)return b.VQs(t,{error:"could not submit form",error_type:"payment_method",modal_id:n.sessionId}),void g.Z.setState({...n,error:a.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});const s=await r.createPaymentMethod({elements:i});if(s.error)return b.VQs(t,{error:s.error.message,error_type:"payment_method",modal_id:n.sessionId}),void g.Z.setState({...n,error:S.translateStripeError(t,a,s.error)});if(!s.paymentMethod)return b.VQs(t,{error:"could not create token",error_type:"payment_method",modal_id:n.sessionId}),void g.Z.setState({...n,error:a.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});l={type:"paymentMethodId",value:s.paymentMethod.id},g.Z.setState({...n,paymentData:l,temporaryAddress:{...n.temporaryAddress,zipCode:(null===(c=s.paymentMethod.billing_details.address)||void 0===c?void 0:c.postal_code)??"",country:(null===(u=s.paymentMethod.billing_details.address)||void 0===u?void 0:u.country)??""}})}await async function(e){var t,n;const{environment:s,data:r,paymentData:i,stripe:a,useTestClock:o}=e,l=m.default.state.currentSpaceStore,c=g.Z.state;l&&_.Zz({environment:s,spaceId:l.id});const{status:u,prices:p,selectedCurrencyCode:y}=I.Z.state;if(!c.open||!l||"ready"!==u)return;const h=c.sessionId,f=w.GD(c.temporaryBillingInterval),F=w.Md(c,r),V=null===(t=p.find((e=>e.product===c.subscriptionTier&&e.billingInterval===f&&e.currencyCode===y)))||void 0===t?void 0:t.externalId,B=null===(n=p.find((e=>e.product===c.addOnFeature&&e.billingInterval===f&&e.currencyCode===y)))||void 0===n?void 0:n.externalId,A=c.appliedPromo,k=c.temporaryAddress;try{const e=await T.Mg({environment:s,spaceStore:l,plan:V,paymentData:i,billingEmail:F,coupon:A&&"coupon"===A.source?A.code:void 0,customerName:k.name,businessName:k.businessName,addressLine1:k.addressLine1,addressCity:k.city,addressZip:k.zipCode,addressState:k.state,addressCountry:k.country,vatId:c.vatApplicable?c.temporaryVatCode:void 0,promoCodeId:A&&"promo_code"===A.source?A.code:void 0,from:"subscription_upgrade_modal",addOns:B?[{priceId:B,isCancellation:!1}]:[],useTestClock:o,sessionId:c.sessionId,inAppOffer:"ai"===c.addOnFeature?c.coupon:void 0,isTrial:c.isTrial,isMmOrEnt:(0,C.MV)()&&(0,C.yt)()});M.j({message:Z.finishingUp});const t=e.paymentIntentClientSecret,n=e.paymentIntentId;let r=e.paymentIntentStatus;if(t&&"requires_action"===r){const{paymentIntent:e,error:n}=await a.handleNextAction({clientSecret:t});e?r=e.status:null!=n&&n.payment_intent&&(r=n.payment_intent.status)}"succeeded"===r?b.fZH(s,{payment_intent_id:n,modal_id:h}):S.paymentIntentRequiresPaymentMethod({status:r})&&v.showDialog({message:"trialing"===e.subscriptionStatus?(0,O.jsx)(d.FormattedMessage,{id:"subscription.upgrade.payment_failed.trial",defaultMessage:"Please provide an alternate payment method to complete your upgrade."}):(0,O.jsx)(d.FormattedMessage,{id:"subscription.upgrade.payment_failed",defaultMessage:"Your payment could not be processed. Please provide an alternate payment method or you will lose access to Notion."}),showCancel:!1,keepFocus:!1,disableBackgroundDismiss:!0,items:[{label:(0,O.jsx)(d.FormattedMessage,{id:"subscription.upgrade.payment_failed.pay_invoice",defaultMessage:"Complete payment"}),onAccept:()=>{b.AqV(s,{payment_intent_id:n,modal_id:h}),window.open(e.invoiceUrl,"_blank")},color:"red"},{label:(0,O.jsx)(d.FormattedMessage,{id:"subscription.upgrade.payment_failed.cancel",defaultMessage:"Cancel upgrade"}),onAccept:async()=>{b.cYL(s,{payment_intent_id:n,modal_id:h}),M.j({message:Z.cancelFailedSubscription}),await T.EO({environment:s,spaceStore:l,planType:l.getPlanType()??"personal",from:"subscription_upgrade_modal-failed_payment"}),M.x()}}]}),A&&(0,x.$r)(s.currentUser.id),function(e){const{environment:t,modalId:n}=e;g.Z.reset(),b.LYj(t,{modal_id:n})}({environment:s,modalId:h}),j.Z.setState({...j.Z.state,currentTab:"billing",defaultSubtab:void 0})}catch{b.cYL(s,{modal_id:h})}M.x()}({environment:t,data:s,paymentData:l,stripe:r,useTestClock:o})}async function V(e){const{environment:t,state:n,data:s,stripe:r,elements:i,intl:a,useTestClock:o}=e;b.PNo(t,{modal_id:n.sessionId}),g.Z.update((e=>({...e,payButtonState:"disabled"}))),await F({environment:t,state:n,data:s,stripe:r,elements:i,intl:a,useTestClock:o});const d=g.Z.state;d.open&&g.Z.setState({...d,payButtonState:"enabled"})}var B=n(18810),A=n(51133),k=n(48122),L=n(34310),D=n(42778),P=n(87755),U=n(24405),z=n(97880),R=n(82990),W=n(61519),K=n(68785),H=n(1063),E=n(38461),N=n(27533),Y=n(91493),G=n(59148),X=n(42329),q=n(92041);function Q(e){window.__c={n:"SpaceSubscriptionOrderSummary"};const{state:t,data:n,promo:s}=e,{coupon:r,isTrial:o}=t,l=(0,i.O7)(),c=(0,U.yK)((e=>({container:{display:"flex",flexDirection:"column",gap:16},header:{alignItems:"center",color:e.regularTextColor,display:"flex",fontSize:16,fontWeight:R.Z.fontWeight.semibold,gap:8,marginBottom:11,lineHeight:"22px"},couponLink:{fontSize:12}})),[]),{availableCurrencyCodes:u,selectedCurrencyCode:p}=(0,a.VK)((()=>({availableCurrencyCodes:I.Z.availableCurrencyCodes,selectedCurrencyCode:I.Z.selectedCurrencyCode})),[]),m=t.temporaryBillingInterval??"month",y=A.Zr(s),g=A.Lp(t),h=(0,a.VK)((()=>g.map((e=>I.Z.getPrice(l,(t=>t.product===e&&t.billingInterval===m))))),[m,l,g]);if(h.some((e=>!e.isLoaded)))return(0,O.jsx)(K.Z,{});const f=h.map((e=>e.result)).filter(Boolean),x=w.su(n),b=f[0].unitAmount.currencyValue,v=A.cv({prices:f,quantity:x,coupon:r}),M=A.VT({calculatingTax:t.calculatingTax,taxAmount:t.taxAmount,currencyValue:b}),j=A.rF({prices:f,quantity:x,promo:y}),C=A.Et(n,b),S=v.plus(M).minus(j).minus(C),T=S.amount<0?S.withMultipliedAmount(0):S;return(0,O.jsxs)("div",{style:c.container,children:[o?null:(0,O.jsxs)("label",{style:c.header,children:[(0,O.jsx)(d.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.header",defaultMessage:"Order summary"}),(0,O.jsx)(E.V,{availableCurrencyCodes:u,from:"upgrade_modal",onSelectCurrency:_.yD,selectedCurrencyCode:p})]}),(0,O.jsx)(ee,{prices:f,coupon:t.coupon,data:n,isTrial:o}),w.Fu(t.subscriptionTier)&&(0,O.jsx)(H.X,{tier:t.subscriptionTier}),(0,O.jsx)(W.Z,{size:1}),o?null:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(J,{subtotal:v,tax:M,discount:j,accountBalance:C,promo:y,state:t,style:{marginBottom:8}}),(0,O.jsx)($,{total:T})]})]})}function $(e){const t=A.hr();return(0,O.jsxs)("div",{style:t.itemContainer,children:[(0,O.jsx)("div",{style:t.captionContainer,children:(0,O.jsx)("span",{style:t.totalName,children:(0,O.jsx)(d.FormattedMessage,{id:"spaceSubscriptionUpgradeOrderSummary.totalForToday",defaultMessage:"Total for today"})})}),(0,O.jsx)("span",{style:t.totalPrice,children:(0,O.jsx)(N.W,{cost:e.total.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})})]})}function J(e){const{subtotal:t,tax:n,discount:s,accountBalance:r,style:i,promo:a}=e,{calculatingTax:o,coupon:d}=e.state;return(0,O.jsxs)("div",{style:i,children:[(0,O.jsx)(X.r,{subtotal:t}),(0,O.jsx)(q.u,{tax:n,calculatingTax:o}),a&&!d?(0,O.jsx)(G.T,{discount:s,promo:a}):void 0,(0,O.jsx)(Y.G,{accountBalance:r})]})}function ee(e){const{coupon:t,data:n,prices:s,isTrial:r}=e;return(0,O.jsx)(O.Fragment,{children:s.map((e=>(0,O.jsx)(te,{price:e,data:n,coupon:t,isTrial:r},e.externalId)))})}function te(e){window.__c={n:"SpaceSubscriptionGrossOrderItem"};const{price:t,data:n,coupon:s,isTrial:r}=e,i=(0,U.yK)((e=>({container:{display:"flex",justifyContent:"space-between"},item:{},title:{fontSize:14,fontWeight:R.Z.fontWeight.medium,marginBottom:4},subtitle:{color:e.mediumTextColor,fontSize:12},price:{fontSize:14}})),[]),a=w.su(n),o=t.getCostPerBillingInterval({quantity:a,coupon:s}),d=(0,O.jsx)(N.W,{cost:o.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"});return(0,O.jsxs)("div",{style:i.container,children:[(0,O.jsxs)("div",{style:i.item,children:[(0,O.jsx)("div",{style:i.title,children:(0,O.jsx)(ne,{price:t})}),(0,O.jsx)("div",{style:i.subtitle,children:(0,O.jsx)(se,{price:t,data:n,coupon:s,isTrial:r})})]}),r?null:(0,O.jsx)("div",{style:i.price,children:d})]})}function ne(e){const{price:t}=e;switch(t.product){case"free":case"student":return null;case"ai":return(0,O.jsx)(d.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.ai.addOn",defaultMessage:"Notion AI"});case"personal":return(0,O.jsx)(d.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.singlePlayerPlusPlan",defaultMessage:"Plus plan with a 1-member limit"});case"plus":return(0,O.jsx)(d.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.plusPlan",defaultMessage:"Plus plan"});case"business":return(0,O.jsx)(d.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.businessPlan",defaultMessage:"Business plan"});case"enterprise":return(0,O.jsx)(d.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.enterprisePlan",defaultMessage:"Enterprise plan"});default:(0,z.t1)(t.product)}}function se(e){const{price:t,data:n,coupon:s,isTrial:r}=e,i=w.su(n),a=t.getMonthlyUnitCost(s),o=(0,O.jsx)(N.W,{cost:a.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"});if(r)return(0,O.jsx)(d.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.planSubtitle.trial.billedYearly",defaultMessage:"{price} / member / month",values:{br:(0,O.jsx)("br",{}),price:o}});switch(t.billingInterval){case"year":return(0,O.jsx)(d.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.planSubtitle.billedYearly",defaultMessage:"{price} / member / month × {numberOfMembers, plural, one {# member} other {# members}}{br}Billed yearly",values:{br:(0,O.jsx)("br",{}),price:o,numberOfMembers:i}});case"month":return(0,O.jsx)(d.FormattedMessage,{id:"spaceSubscriptionUpgradeModal.orderSummary.planSubtitle.billedMonthly",defaultMessage:"{price} / member / month × {numberOfMembers, plural, one {# member} other {# members}}{br}Billed monthly",values:{br:(0,O.jsx)("br",{}),price:o,numberOfMembers:i}});default:(0,z.t1)(t.billingInterval)}}var re=n(89024),ie=n(1853),ae=n(81477);function oe(e){let{header:t,paymentContent:n,orderOptions:s,footer:r,showDismissButton:o}=e;window.__c={n:"CheckoutModalLayout"};const d=(0,i.O7)(),{isMobile:l}=(0,i.Fy)(),c=(0,a.VK)((()=>(0,ae.Z)(d)),[d])||!s,u=function(e){return(0,U.yK)((()=>({wrapper:{overflowY:"scroll",...!e&&{minWidth:484}},desktop:{overflow:"auto"},mobile:{display:"grid",gridTemplateRows:"1fr auto",overflow:"hidden auto"},dismiss:{top:16,right:16}})),[e])}(l),p=(0,O.jsxs)(re.jX,{direction:c?"column":"row",gap:32,style:{...l?u.mobile:u.desktop},children:[(0,O.jsx)(re.jX,{direction:"column",gap:28,width:c?"fill":420,children:n}),(0,O.jsxs)(re.jX,{direction:"column",gap:28,width:c?"fill":310,children:[s,r]})]});return(0,O.jsxs)(re.jX,{direction:"column",gap:36,padding:32,width:"hug",height:"hug",style:u.wrapper,children:[t,p,o&&(0,O.jsx)(ie.U4,{style:u.dismiss})]})}function de(e){window.__c={n:"ModalContentV2"};const{state:t,data:n,spaceStore:r}=e,l=(0,i.O7)(),c=(0,d.useIntl)(),u=(0,s.useStripe)(),m=(0,s.useElements)(),f=(0,a.VK)((()=>y.Z.state.online),[]),[x,b,v,M,j]=(0,a.VK)((()=>{var e;const n=(null===(e=h.default.state.data)||void 0===e?void 0:e.addOns)??[],s=(0,p.CV)(r);return[t.subscriptionTier,t.temporaryBillingInterval,t.addOnFeature,!s&&!(0,o.de)(n),t.coupon]}),[t,r]);if(!t.open)return null;if(!f)return(0,O.jsx)(P.Z,{});const C=A.Lp(t);return(0,O.jsx)(oe,{showDismissButton:!0,header:(0,O.jsx)("div",{children:(0,O.jsx)(L.Q,{subscriptionTier:t.subscriptionTier,onlyShowAddOn:t.onlyShowAddOn,addOnFeature:t.addOnFeature,type:t.type,isTrial:t.isTrial})}),paymentContent:(0,O.jsx)(B.iQ,{}),orderOptions:t.onlyShowAddOn?null:(0,O.jsx)("div",{children:(0,O.jsx)(D.Z,{subscriptionTier:x,billingInterval:b,addOnFeature:v,canAddAI:M,isTrial:t.isTrial,modalId:t.sessionId,coupon:j,onChangeBillingInterval:e=>{g.Z.update((t=>({...t,temporaryBillingInterval:e})))},onChangeAddOnFeature:e=>{g.Z.update((t=>({...t,addOnFeature:e})))}})}),footer:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Q,{state:t,data:n,promo:t.appliedPromo}),(0,O.jsx)(k.f,{state:t,products:C,onClickUpgrade:e=>V({environment:l,intl:c,state:t,stripe:u,elements:m,data:n,useTestClock:e.useTestClock})})]})})}function le(e){window.__c={n:"ModalContentWrapper"};const{state:t,data:n,spaceStore:r}=e,{subscriptionTier:i,onlyShowAddOn:o,calculatingTax:d,temporaryBillingInterval:l,taxAmount:c,addOnFeature:u,coupon:p}=t,m=w.XX(n),y=(0,a.VK)((()=>(null==m?void 0:m.currencyCode)??I.Z.selectedCurrencyCode),[m]),{payAmount:g}=w.uN({subscriptionTier:i,currencyCode:y,promo:t.appliedPromo,data:n,onlyShowAddOn:o,calculatingTax:d,billingInterval:l??"year",taxAmount:c,addOnFeature:u,coupon:p}),h=(0,S.useElementsOptions)({type:"subscription",amount:g.amount,currency:g.currencyCode});return(0,O.jsx)(s.Elements,{stripe:(0,S.getStripe)(),options:h,children:(0,O.jsx)(ce,{state:t,data:n,spaceStore:r})})}function ce(e){window.__c={n:"ModalContent"};const{state:t,data:n,spaceStore:r}=e,c=(0,i.O7)(),u=(0,d.useIntl)(),{isMobile:m}=(0,i.Fy)(),f=(0,s.useStripe)(),x=(0,s.useElements)(),b=(0,a.VK)((()=>y.Z.state.online),[]),v=(0,a.VK)((()=>(0,C.Pw)()),[]),[M,j,S,w,I]=(0,a.VK)((()=>{var e;const n=(null===(e=h.default.state.data)||void 0===e?void 0:e.addOns)??[],s=(0,p.CV)(r);return[t.subscriptionTier,t.temporaryBillingInterval,t.addOnFeature,!s&&!(0,o.de)(n),t.coupon]}),[t,r]);if(!t.open)return null;if(!b)return(0,O.jsx)(P.Z,{});const _=A.Lp(t);return v?(0,O.jsx)(de,{state:t,data:n,spaceStore:r}):(0,O.jsx)(l.CT,{showDismissButton:!0,main:(0,O.jsx)(l.T1,{width:m?"fill":450,children:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{style:{paddingBottom:24},children:(0,O.jsx)(L.Q,{subscriptionTier:t.subscriptionTier,onlyShowAddOn:t.onlyShowAddOn,addOnFeature:t.addOnFeature,type:t.type,isTrial:t.isTrial})}),t.onlyShowAddOn?null:(0,O.jsx)(D.Z,{subscriptionTier:M,billingInterval:j,addOnFeature:S,canAddAI:w,isTrial:t.isTrial,modalId:t.sessionId,coupon:I,onChangeBillingInterval:e=>{g.Z.update((t=>({...t,temporaryBillingInterval:e})))},onChangeAddOnFeature:e=>{g.Z.update((t=>({...t,addOnFeature:e})))}}),(0,O.jsx)(B.iQ,{})]})}),sidebar:(0,O.jsxs)(l.T6,{width:m?"fill":300,children:[(0,O.jsx)(Q,{state:t,data:n,promo:t.appliedPromo}),(0,O.jsx)(k.f,{state:t,products:_,onClickUpgrade:e=>V({environment:c,intl:u,state:t,stripe:f,elements:x,data:n,useTestClock:e.useTestClock})})]})})}const ue=function(e){window.__c={n:"SpaceSubscriptionUpgradeModal"};const{data:t,spaceStore:n}=e,s=(0,a.VK)((()=>g.Z.state),[]),o=(0,i.O7)(),l=(0,d.useIntl)();return(0,r.useEffect)((()=>{const{state:e}=g.Z;if(!e.open)return;const{currentUserStore:n}=m.default.state,s=null!=n&&n.isDefined()?n.getModel():void 0;if(s){const n=s.getDisplayName(l);var r;if(g.Z.setState({...e,temporaryAddress:{...e.temporaryAddress,name:n}}),"subscribed_admin"===t.type||"unsubscribed_admin"===t.type)g.Z.setState({...e,appliedPromo:null===(r=t.customerData)||void 0===r?void 0:r.stripe.promo})}}),[]),(0,O.jsx)(c.c,{ariaLabelledBy:u.BaY,isOpen:s.open,onDismiss:()=>T.Fp(o),children:s.open?(0,O.jsx)(le,{state:s,data:t,spaceStore:n}):null})}},15967:(e,t,n)=>{n.d(t,{J:()=>i});n(67294);var s=n(45238),r=n(85893);const i=(0,s.I)("settingsBilling",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M3.24219 17.5625H16.7578C18.3984 17.5625 19.2109 16.75 19.2109 15.1406V5.60156C19.2109 3.99219 18.3984 3.17969 16.7578 3.17969H3.24219C1.60938 3.17969 0.789062 3.98438 0.789062 5.60156V15.1406C0.789062 16.7578 1.60938 17.5625 3.24219 17.5625ZM2.04688 5.66406C2.04688 4.85156 2.47656 4.4375 3.25781 4.4375H16.7422C17.5156 4.4375 17.9531 4.85156 17.9531 5.66406V6.84375H2.04688V5.66406ZM3.25781 16.3047C2.47656 16.3047 2.04688 15.8906 2.04688 15.0781V8.61719H17.9531V15.0781C17.9531 15.8906 17.5156 16.3047 16.7422 16.3047H3.25781ZM4.5 14.625H6.41406C6.86719 14.625 7.17969 14.3125 7.17969 13.875V12.4297C7.17969 11.9844 6.86719 11.6797 6.41406 11.6797H4.5C4.03906 11.6797 3.72656 11.9844 3.72656 12.4297V13.875C3.72656 14.3125 4.03906 14.625 4.5 14.625Z"})})},5517:(e,t,n)=>{n.d(t,{q:()=>i});n(67294);var s=n(45238),r=n(85893);const i=(0,s.I)("settingsPlans",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M2.75781 17.7656C2.95312 17.7656 3.15625 17.6953 3.40625 17.5547L7.38281 15.4141L11.7031 17.8359C11.9844 17.9922 12.2891 18.0703 12.5781 18.0703C12.8516 18.0703 13.125 18 13.3594 17.8672L17.4453 15.5469C17.9141 15.2891 18.125 14.9141 18.125 14.3906V3.86719C18.125 3.28906 17.8047 2.96875 17.2422 2.96875C17.0469 2.96875 16.8438 3.03125 16.5859 3.17188L12.4453 5.47656L8.20312 2.875C7.96094 2.73438 7.6875 2.65625 7.41406 2.65625C7.13281 2.65625 6.85156 2.73438 6.60938 2.875L2.54688 5.1875C2.08594 5.45312 1.875 5.82812 1.875 6.35156V16.8594C1.875 17.4375 2.19531 17.7656 2.75781 17.7656ZM6.875 14.1719L3.35156 16.1094C3.3125 16.125 3.27344 16.1484 3.23438 16.1484C3.17188 16.1484 3.13281 16.1016 3.13281 16.0234V6.65625C3.13281 6.46875 3.20312 6.33594 3.39062 6.22656L6.59375 4.35156C6.69531 4.29688 6.78125 4.25 6.875 4.19531V14.1719ZM8.13281 14.2969V4.35938C8.21094 4.40625 8.30469 4.45312 8.38281 4.5L11.8672 6.625V16.3906C11.7578 16.3281 11.6406 16.2734 11.5234 16.2109L8.13281 14.2969ZM13.125 16.5312V6.54688L16.6484 4.625C16.6875 4.60156 16.7266 4.58594 16.7578 4.58594C16.8281 4.58594 16.8672 4.63281 16.8672 4.71094V14.0781C16.8672 14.2734 16.7891 14.4062 16.6094 14.5156L13.4766 16.3359C13.3594 16.4062 13.2422 16.4766 13.125 16.5312Z"})})},72263:(e,t,n)=>{n.d(t,{_:()=>i});n(67294);var s=n(45238),r=n(85893);const i=(0,s.I)("settingsUpgrade",{viewBox:"0 0 20 20",svg:(0,r.jsx)("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm0-2.734a.562.562 0 00.586-.586V9.383l-.063-1.656.797.945.922.937a.52.52 0 00.414.172c.32 0 .57-.242.57-.562a.566.566 0 00-.164-.406L10.43 6.219c-.149-.149-.29-.227-.461-.227-.164 0-.297.07-.453.227l-2.61 2.593a.555.555 0 00-.148.407c0 .32.242.562.562.562a.572.572 0 00.414-.172l.93-.937.781-.938-.062 1.649v3.906c0 .344.25.586.586.586z"})})}}]);