"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[8567],{98567:(e,t,i)=>{i.d(t,{D5:()=>Ie,E5:()=>Ze,s6:()=>Se,Tq:()=>Te});var n=i(67294),o=i(1302),r=i(480),s=i(86628),l=i(24405),a=i(15145),d=i(1800),c=i(7057),u=i(78601),p=i(66673),m=i(69651),g=i(75553),f=i(56666),h=i(40462),x=i(64572),v=i(76725),y=i(72126),S=i(4615),j=i(99405),w=i(21202),b=i(70279),k=i(70203),C=i(44805),I=i(82990),_=i(44876),P=i(68939),T=i(50906),Z=i(14871),U=i(45990),K=i(993),M=i(32741),R=i(95477),O=i(60682),z=i(24990),B=i(49616),V=i(4708),H=i(73744),E=i(41232),W=i(6398),D=i(88804),L=i(75024),F=i(24461),A=i(4023),q=i(15723),G=i(80444),N=i(77080),Y=i(96049),$=i(42653),J=i(72014),X=i(26350),Q=i(48588),ee=i(10912),te=i(18746),ie=i(64921),ne=i(31945),oe=i(51077),re=i(73063),se=i(12981),le=i(53437),ae=i(31278),de=i(76798),ce=i(94096),ue=i(19987),pe=i(69255),me=i(25735),ge=i(19889),fe=i(12740),he=i(85893);function xe(e){window.__c={n:"HoverUserPreviewOverlayRenderer"};const t=(0,s.VK)((()=>G.default.state.currentSpaceStore),[]),i=(0,s.VK)((()=>{var t;return null===(t=e.state)||void 0===t?void 0:t.annotation}),[e.state]),n=(0,p.Rm)(i,void 0,600,Object.is),o=(0,s.VK)((()=>{if(t&&n)return X.U6.createChildStore(t,{id:n[1],table:ge.KJ})}),[t,n]),r=(0,s.VK)((()=>!!o&&o.isDefined()),[o]);return o&&r&&t?(0,he.jsx)(fe.Z,{targetUserStore:o}):null}var ve=i(29551),ye=i(65496);function Se(e){window.__c={n:"HoverPreviewOverlay"};const t=(0,r.O7)(),i=(0,s.Kw)(Y.Z,{debugName:"HoverPreviewOverlay"}),{state:o,pinPopup:l,unpinPopup:a,hasBeenHovering:d,isPinned:c,dismissPopup:u}=function(){const[e,t]=(0,n.useState)(!1),[i]=(0,s.AF)(Q.Z),o=(0,p.Kt)(i,400,Object.is),[r,l]=(0,n.useState)(void 0),a=r||(e?void 0:o),d=(0,n.useCallback)((()=>l(a)),[a]),c=(0,n.useCallback)((()=>{l(void 0)}),[]),u=(0,n.useCallback)((()=>{c(),t(!0)}),[c]);return(0,n.useEffect)((()=>{t(!1)}),[o]),{state:a,pinPopup:d,unpinPopup:c,hasBeenHovering:i&&i===a,isPinned:Boolean(r),dismissPopup:u}}(),m=(0,s.VK)((()=>N.default.checkGate("first_party_links")),[]),g=(0,s.VK)((()=>(0,V.En)()),[]),f=function(e){const t=(0,r.O7)();return(0,s.VK)((()=>!!e&&(0,D.E)(t,e.store)),[e,t])}(o),h=(0,n.useMemo)((()=>Boolean(o&&function(e,t){return e.annotations.some(k.j0F)||t&&e.annotations.some(k.nSN)}(o,f))),[o,f]),x=(0,n.useMemo)((()=>o&&o.token.node.getBoundingClientRect()),[o]),v=x&&0===x.width&&0===x.height&&0===x.left&&0===x.top,S=h?!v:Boolean(!i&&d&&!v),[,j]=(0,s.AF)($.Z);(0,n.useEffect)((()=>(j({isPinned:c}),()=>j({isPinned:!1}))),[c,j]);const w=!(null!=o&&o.annotations.some(k.nSN))&&m&&!(null!=o&&o.annotations.some(k.STW)),b=(g&&(null==o?void 0:o.annotations.some(k.IWo)))??!1,C=(0,s.VK)((()=>t.RouterStore.state),[t.RouterStore]);return(0,n.useEffect)((()=>{u()}),[C,u]),(0,n.useEffect)((()=>{const e=y.P2((()=>{M.lY(),u()}),200,{leading:!0});return H.lj(window,"scroll",e,!0),()=>H.ZV(window,"scroll",e,!0)}),[u]),(0,he.jsx)(le.ZP,{disableMouseCapture:!0,preventCaptureEsc:!0,preventPointerEvents:!h,preventScaleTransition:!0,preventOpacityTransition:!0,popupType:le.ZP.PopupType.Popup,open:S,originRect:x,originGap:6,alignmentToOrigin:b?le.ZP.Alignment.End:le.ZP.Alignment.Start,placementToOrigin:b?le.ZP.Placement.Top:le.ZP.Placement.Bottom,useLightBoxShadow:w,render:()=>o&&(0,he.jsx)("div",{onMouseEnter:l,onMouseLeave:a,children:(0,he.jsx)(je,{state:o,isHoveredTokenEditable:f,onDismiss:a})})})}function je(e){window.__c={n:"HoverPreviewOverlayRenderer"};const t=(0,s.VK)((()=>N.default.checkGate("first_party_links")),[]),i=(0,s.VK)((()=>(0,V.En)()),[]),n=(0,r.Fy)(),o=(0,s.VK)((()=>{const{currentSpaceStore:e}=G.default.state;return e?e.getPermissionGroups():[]}),[]),a=(0,l.yK)((e=>({noMembersInGroupStyle:{fontSize:I.Z.fontSize.UISmall.desktop,color:e.mediumTextColor,padding:"4px 8px"}})),[]),d=e.state.annotations,c=d.find(k.j0F),u=d.find(k.fpG),p=d.find(k._bk),m=d.find(k.aq),g=k.frE(d),f=t?d.find(k.STW):void 0,h=i?d.find(k.IWo):void 0;if(c&&e.state.store.table!==b.x_)return(0,he.jsx)(we,{...e,state:{...e.state,annotation:c}});if(u)return(0,he.jsx)(be,{...e,state:{...e.state,annotation:u}});if(p){const e=k.kxk(p);if(e){const t=e.groupId,i=o.find((e=>e.id===t));if(i)return(0,he.jsx)(me.Y,{group:i,limit:10,color:"white_background",trackHover:!0,noMembersMessage:(0,he.jsx)(ve.gq,{style:a.noMembersInGroupStyle,children:(0,he.jsx)("div",{style:I.Z.textOverflowStyle,children:(0,he.jsx)(P.FormattedMessage,{id:"groupPreview.noUsers",defaultMessage:"No users in this group"})})})})}}return m?(0,he.jsx)(ke,{...e,state:{...e.state,annotation:m}}):g&&!n.isMobile?(0,he.jsx)(Ie,{...e,state:{...e.state,annotation:g},onDismiss:e.onDismiss}):t&&f&&!n.isMobile?(0,he.jsx)(Pe,{...e,state:{...e.state,annotation:f},onDismiss:e.onDismiss}):h&&!n.isMobile?(0,he.jsx)(xe,{...e,state:{...e.state,annotation:h},onDismiss:e.onDismiss}):null}function we(e){window.__c={n:"HoverLinkPreviewOverlayRenderer"};const{onDismiss:t}=e,{annotation:i,store:c,token:u}=e.state,p=(0,r.O7)(),m=(0,l.Fg)(),f=k.zW$(i),v=(0,x.A5)({url:f,baseUrl:R.default.domainBaseUrl,publicDomainName:R.default.publicDomainName}),y=(0,n.useCallback)((async()=>{t(),K.AE({token:u,store:c,readOnly:!1}),await o.default.afterNextFlush(),U.dz({type:"focusOnly",focus:!0})}),[t,c,u]),S=(0,n.useCallback)((async()=>{t(),await o.default.afterNextFlush();const e=Z.tq.copiedLinkToClipboard;let i=f;const n=(0,j.Wj)({url:f,baseUrl:R.default.domainBaseUrl,publicDomainName:R.default.publicDomainName,isMobile:p.device.isMobile,protocol:R.default.protocol,currentUrl:window.location.href});if("page"===n.name){const e=X.G.createChildStore(c,{table:w.iU,id:n.blockId});i=(0,d.Z)({pageId:n.blockId,pageModel:e.getModel(),baseUrl:R.default.domainBaseUrl,discussionId:n.discussionId,scrollToBlockId:n.scrollToBlockId,peekViewBlockId:n.peekViewBlockId,peekMode:n.peekMode,pageVisitSource:a.tY.CopyLink})}Z.RD({environment:p,stringValue:i,copiedMessage:e})}),[p,t,c,f]),b=(0,l.yK)((e=>({wrapper:{fontSize:I.Z.fontSize.UISmall.desktop,color:e.mediumTextColor,fontWeight:I.Z.fontWeight.regular,fill:e.mediumIconColor},destination:{padding:"4px 0 4px 6px"},button:{display:"flex",alignItems:"center",padding:"2px 6px",whiteSpace:"nowrap",marginRight:2,borderRadius:4,color:e.regularTextColor},destinationText:{paddingRight:6,maxWidth:250,...I.Z.textOverflowStyle},icon:{height:"1em",width:"1em",marginRight:"0.25em",fill:e.mediumIconColor}})),[]),_=(0,P.useIntl)(),T=(0,P.defineMessages)({copyLink:{defaultMessage:"Copy link",id:"hoverPreviewOverlay.copyLink"}}),M=(0,s.VK)((()=>{if(!v)return;const e=X.G.createChildStore(c,{table:w.iU,id:v});return{pageIcon:(0,C.tp)({pageModel:e.getModel(),pageRole:e.getRole(),baseUrl:R.default.domainBaseUrl,getRecordModel:c.getRecordModel,emojiType:(0,O.e_)(p),isSafariOrIOS:p.device.isSafari||p.device.isIOS,isClient:!0,showEmojiInline:p.device.isWindows,currentUserId:p.currentUser.id,theme:m,emojiData:z.Z.state}),title:(0,he.jsx)(de.Z,{style:b.destinationText,store:e})}}),[p,c,v,b,m])||{pageIcon:(0,h.o)(b.icon),title:(0,he.jsx)("div",{style:b.destinationText,children:f})};return(0,he.jsxs)(ve.gq,{style:b.wrapper,alignItems:"center",children:[(0,he.jsxs)(ve.gq,{style:b.destination,alignItems:"center",children:[M.pageIcon,M.title]}),(0,he.jsx)(re.Z,{onClick:S,icon:g.U,isDarkIconColor:!0,ariaLabel:_.formatMessage(T.copyLink)}),e.isHoveredTokenEditable&&(0,he.jsx)(ie.Z,{style:b.button,onClick:y,children:(0,he.jsx)(P.FormattedMessage,{defaultMessage:"Edit",id:"hoverPreviewOverlay.editButton.label"})})]})}function be(e){window.__c={n:"HoverDatePreviewOverlayRenderer"};const{annotation:t}=e.state,i=k.zyO(t),n=(0,l.yK)((e=>({container:{fontSize:I.Z.fontSize.UISmall.desktop,color:e.mediumTextColor,padding:"4px 8px"},icon:{height:"1em",width:"1em",marginRight:"0.25em",fill:e.mediumIconColor}})),[]),o=(0,P.useIntl)(),r="relative"===i.date_format?"ll":"relative",s=(0,c.ZV)({value:i,date_format:r,time_format:"h:mm A",allowRelativeDates:!0,intl:o});return s===(0,c.ZV)({value:i,date_format:i.date_format,time_format:i.time_format,allowRelativeDates:!0,intl:o})?null:(0,he.jsxs)(ve.gq,{style:n.container,alignItems:"center",children:[(0,m.C)(n.icon),(0,he.jsx)("div",{style:I.Z.textOverflowStyle,children:s})]})}function ke(e){window.__c={n:"HoverTemplateVariablePreviewOverlayRenderer"};const{annotation:t}=e.state,i=k.fsE(t),n=(0,P.useIntl)(),o=k.Z08(i.type,n),r=(0,l.yK)((e=>({container:{fontSize:I.Z.fontSize.UISmall.desktop,color:e.mediumTextColor,padding:"4px 8px"}})),[]);return(0,he.jsx)(ve.gq,{style:r.container,alignItems:"center",children:(0,he.jsx)("div",{style:I.Z.textOverflowStyle,children:o})})}function Ce(e){var t;window.__c={n:"ExternalObjectInstancePreviewContent"};const{renderConfig:i,store:n}=e,o=(0,l.yK)((e=>({title:{color:e.regularTextColor,fontWeight:I.Z.fontWeight.semibold,whiteSpace:"initial",fontSize:13,padding:"4px 0",width:"100%"},header:{color:e.mediumTextColor,fontSize:I.Z.fontSize.UISmall.desktop},dictionaryKey:{color:e.lightTextColor,fontWeight:I.Z.fontWeight.regular,fontSize:I.Z.fontSize.UISmall.desktop},dictionaryValue:{color:e.mediumTextColor,fontSize:I.Z.fontSize.UISmall.desktop,whiteSpace:"normal",wordBreak:"break-word"}})),[]);return(0,he.jsxs)(he.Fragment,{children:[i.title&&(0,he.jsx)(ve.gq,{children:(0,he.jsx)(W.ox,{...i.title,store:n,style:o.title})}),i.headerAttributes&&i.headerAttributes.length>0&&(0,he.jsx)(ve.gq,{alignItems:"center",style:{...o.header,marginBottom:8},children:(0,v.Z)(i.headerAttributes.map(((e,t)=>(0,he.jsx)(W.ox,{...e,store:n,style:{...o.header,...I.Z.textOverflowStyle}},`attribute-${t}`)))||[],(e=>(0,he.jsxs)("span",{children:[" ","·"," "]},`dot-${e}`)))}),i.dictionaryAttributes&&i.dictionaryAttributes.length>0&&(0,he.jsx)(ve.Ht,{children:i.dictionaryAttributes.map(((e,t)=>{var r;let{key:s,value:l}=e;return(0,he.jsxs)(ve.gq,{style:{marginBottom:t!==((null===(r=i.dictionaryAttributes)||void 0===r?void 0:r.length)??0)-1?4:8},children:[(0,he.jsx)("div",{style:{marginRight:8,width:"30%",display:"flex",alignItems:"center"},children:(0,he.jsx)("span",{style:o.dictionaryKey,children:(0,he.jsx)(P.FormattedMessage,{...s.formatter,values:{value:l.attribute.name}})})}),(0,he.jsxs)("div",{style:{width:"70%",display:"flex",alignItems:"center"},children:[l.icon&&(0,_.li)(l.icon)&&(0,he.jsx)(oe.Z,{type:"image_url",imageURL:l.icon.values[0],size:16,style:{marginRight:6}}),(0,he.jsx)(W.ox,{...l,store:n,style:o.dictionaryValue,avatarStyle:{marginRight:6}})]})]},t)}))}),i.bodyAttribute&&(0,he.jsx)(ve.gq,{style:((null===(t=i.dictionaryAttributes)||void 0===t?void 0:t.length)??0)>0?{marginTop:3}:{},children:(0,he.jsx)(W.hx,{attribute:i.bodyAttribute})}),i.previewImageAttribute&&(0,he.jsx)("div",{style:{marginTop:i.dictionaryAttributes?6:0,marginBottom:4,display:"flex",justifyContent:"center"},children:(0,he.jsx)("div",{children:(0,he.jsx)(se.Z,{src:i.previewImageAttribute.values[0],style:{width:"100%",maxHeight:200}})})})]})}function Ie(e){window.__c={n:"HoverExternalObjectInstanceOverlayRenderer"};const{state:{annotation:t,store:i,token:o},onDismiss:a}=e,d=k.frW(t),c=(0,r.O7)(),p=(0,l.Fg)(),m=(0,n.useRef)(null),g=(0,s.VK)((()=>{const t=X.G.createChildStore(i,{table:w.iU,id:d,spaceId:i.pointer.spaceId}),n=t.canEdit(),r=(0,E._F)({store:t,isInDarkMode:"dark"===p.mode,canEdit:n,currentUserId:c.currentUser.id,getRenderFn:e=>t=>{var i,n;return(null===(i=e.hover)||void 0===i?void 0:i.call(e,t))||(null===(n=u.j.hover)||void 0===n?void 0:n.call(u.j,t))},showAction:void 0});if(!r)return;const{renderConfig:s,integration:l}=r,g=Boolean(r.action),h=e.isHoveredTokenEditable,x=i.recordStoreUIParentStore&&i.recordStoreUIParentStore instanceof X.G?i.recordStoreUIParentStore:void 0;return(0,he.jsxs)("div",{style:{display:"flex",flexDirection:"column"},ref:m,children:[(0,he.jsxs)(ve.gq,{alignItems:"center",style:{fontSize:12},children:[(0,he.jsx)(oe.Z,{type:"image_url",imageURL:l.icon,size:16,style:{margin:4}}),(0,he.jsx)("div",{style:{flexGrow:1,fontWeight:I.Z.fontWeight.medium},children:l.name}),o&&!g&&h&&(0,he.jsx)("div",{children:(0,he.jsx)(ne.ZP,{popupType:ne.Z4.Popup,placementToOrigin:A.u.Right,alignmentToOrigin:A.v.Start,originGap:4,onClose:()=>{let e=!1;const t=m.current;t&&(e=(0,q.uh)(t.getBoundingClientRect(),F.IL.x,F.IL.y)),e||null==a||a()},renderOrigin:e=>(0,he.jsx)(ie.Z,{style:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,borderRadius:4,fill:p.lightIconColor},...e,children:(0,f.o)({width:14})}),render:e=>(0,he.jsx)(pe.default,{titleForReloadMenuOption:(0,he.jsx)(P.FormattedMessage,{id:"linkMention.reload",defaultMessage:"Reload mention"}),parentBlockStore:x,store:t,token:o,onAccept:()=>e.close(),extraSecondaryItemKey:"mention_to_preview"})})})]}),g&&h?(0,he.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"6px 0"},children:(0,he.jsx)(ue.Z,{canEdit:n,store:t,isHoverPreview:!0,postActionCallback:a})}):(0,he.jsx)(Ce,{renderConfig:s,store:t})]})}),[d,i,c,p,o,a,e.isHoveredTokenEditable,m]);return g?(0,he.jsx)("div",{style:{padding:"12px 16px",minWidth:260,maxWidth:320},children:g}):null}function _e(e){window.__c={n:"HoverPagePreviewContent"};const t=(0,r.O7)(),{store:i}=e,o=(0,s.VK)((()=>B.TP(i)),[i]),a=(0,l.yK)((e=>({icon:{height:16,width:16,fill:e.icon.purple,marginRight:2},title:{fontSize:12,color:e.icon.purple},summary:{...(0,L.pd)(4),fontSize:12,lineHeight:1.35,color:e.text.secondary,marginBottom:12},contentCover:{color:e.text.primary,fontSize:11,lineHeight:1.5,marginBottom:0,width:"110%",transform:"translateX(-13px) translateY(-2px) scale(0.91)"},contentCoverEmpty:{height:16},imageCoverWrap:{marginBottom:16},contentCoverFade:{height:48,background:`linear-gradient(to bottom, transparent, ${e.surface.elevated} 100%)`},loadingShimmer:{marginBottom:0},rendererBlockStyle:{fontSize:9}})),[]),d=o&&k.Vkf(o)>=20,c=(0,n.useMemo)((()=>(0,S.ZP)()),[]);return(0,n.useEffect)((()=>{const e=J.$g.getCurrentPageVisitId();return T.piO(t,{hover_session_id:c,mentioned_page_id:i.pointer.id,hover_content_type:d?"ai_summary":"content_preview",page_visit_id:e}),()=>{T.Yo0(t,{hover_session_id:c,hover_content_type:d?"ai_summary":"content_preview",mentioned_page_id:i.pointer.id,page_visit_id:e})}}),[t,c,d,i.pointer.id]),d?(0,he.jsx)("div",{children:(0,he.jsx)("div",{style:a.summary,children:(0,he.jsx)(te.A,{textValue:o,parentStore:i})})}):(0,he.jsx)(ee.Z,{variant:"default",store:i,coverFormat:{type:"page_content"},coverContentFadedOverlay:!0,coverContentFadedOverlayStyle:a.contentCoverFade,coverHeight:86,contentWrapStyle:a.contentCover,imageCoverWrapStyle:a.imageCoverWrap,emptyGalleryCoverStyle:a.contentCoverEmpty,loadingShimmerStyle:a.loadingShimmer,showLoadingShimmer:!0,showEmptyGalleryCover:!0,onLoadProxiedImage:()=>{},rendererBlockStyle:a.rendererBlockStyle})}function Pe(e){window.__c={n:"HoverPagePreviewOverlayRenderer"};const t=(0,s.VK)((()=>{const t=G.default.state.currentSpaceStore;if(!t)return;const i=X.G.createChildStore(t,{id:e.state.annotation[1],table:"block"});return i.isNavigableBlock()&&i.isDefined()?i:void 0}),[e.state.annotation]);return(0,he.jsx)(Ze,{store:t})}const Te=260;function Ze(e){let{store:t,events:i}=e;window.__c={n:"HoverPagePreview"};const n=(0,l.yK)((e=>({wrapper:{width:Te},coverContainer:{height:36},content:{padding:"0 16px"},breadcrumb:{color:e.text.tertiary,fontSize:11,marginBottom:-2},pageTitle:{display:"inline",fontWeight:I.Z.fontWeight.semibold,color:e.text.primary,fontSize:13,lineHeight:1.15},pageTitleIcon:{position:"relative",marginLeft:16,marginTop:-15,marginBottom:8},pageTitleContainer:{...(0,L.pd)(2),verticalAlign:"top",lineHeight:1.15},description:{fontSize:I.Z.fontSize.UISmall.desktop,color:e.icon.primary,lineHeight:1.2},empty:{height:16}})),[]),[o,r,a]=(0,s.VK)((()=>{if(!t)return[void 0,!1,null,null];const e=t.isEmptyPage(),i=e?(0,he.jsx)("div",{style:{height:24}}):(0,he.jsx)(_e,{store:t});return[t.getIcon(),e,i]}),[t]);return t?(0,he.jsxs)("div",{style:n.wrapper,...i,children:[(0,he.jsx)("div",{style:n.coverContainer,children:(0,he.jsx)(ye.Z,{store:t,disabled:!0,paddingLeft:0,paddingRight:0,height:36,proxyWidth:260})}),(0,he.jsx)(ae.Z,{disabled:!0,icon:o,isEmptyPage:r,isLarge:!0,disableShrinking:!0,size:26,emojiSize:26,largeIcon:!0,style:n.pageTitleIcon}),(0,he.jsxs)(ve.Ht,{gap:4,style:n.content,children:[(0,he.jsxs)(ve.Ht,{gap:2,children:[(0,he.jsx)(ce.Z,{store:t,style:n.breadcrumb}),(0,he.jsx)("div",{style:n.pageTitleContainer,children:(0,he.jsx)(de.Z,{shouldWrap:!0,maxLines:2,store:t,style:n.pageTitle})})]}),a]})]}):null}},12740:(e,t,i)=>{i.d(t,{Z:()=>R});i(57658);var n=i(67294),o=i(480),r=i(86628),s=i(24405),l=i(6695),a=i(72126),d=i(4615),c=i(21202),u=i(19889),p=i(82990),m=i(68939),g=(i(95477),i(66890)),f=i(80444),h=i(886),x=i(88632),v=i(77080),y=i(19671),S=i(26350),j=i(78291),w=i(88893),b=i(97039),k=i(78030),C=i(45653),I=i(29551),_=i(99036),P=(i(51365),i(33929)),T=(i(61766),i(13023),i(24118)),Z=(i(53876),i(12867),i(85893));T.Ae;function U(e){return(0,r.VK)((()=>{if(!e)return{collectionStore:void 0,schema:void 0,format:void 0};const t=e.getAssociatedCollectionStore();let i,n;return i=t?t.getSchema():_.Kc(P.default.getIntl()),t&&(n=l.iB(t.getFormat(),i,void 0,l.j5.Collection)),{collectionStore:t,schema:i,format:n}}),[e])}const K=["Title","Pronoun","Teams (via Teams DB)","Office","Manager","Languages (Fluency)","Tenure"],M={"Teams (via Teams DB)":"Teams","Languages (Fluency)":"Languages"};function R(e){let{targetUserStore:t}=e;window.__c={n:"PeopleProfilePopup"};const i=(0,s.yK)((e=>({wrapper:{minWidth:100,maxWidth:300},profile:{padding:"10px 12px 12px 10px"},content:{padding:"8px 10px 10px"},breadcrumb:{color:e.text.secondary},profileTitle:{paddingLeft:20,fontSize:18,lineHeight:1.25,fontWeight:p.Z.fontWeight.semibold,color:e.text.primary},profileSubtitle:{paddingLeft:20,paddingTop:2,fontSize:p.Z.fontSize.UISmall.desktop,color:e.icon.primary,paddingBottom:1},profileKeyRow:{minWidth:80},profileKeyText:{textTransform:"capitalize",fontWeight:500},description:{padding:"6px 8px 12px 20px",fontSize:p.Z.fontSize.UISmall.desktop,color:e.icon.primary,borderTop:`1px solid ${e.regularDividerColor}`}})),[]),a=(0,r.VK)((()=>f.default.state.currentSpaceStore),[]),u=(0,r.VK)((()=>f.default.state.currentUserStore),[]),m=(0,r.VK)((()=>!!t&&t.isDefined()),[t]),x=(0,r.VK)((()=>{if(!t)return;const e=t.getEmail();if(!e)return;const i=v.default.getConfigKey("notion_people_block_id","data")[e];if(!i)return;return S.G.createChildStore(t,{table:c.iU,id:(0,d.Mt)(i)})}),[t]),{collectionStore:j,schema:w,format:C}=U(x),_=function(e){let{collectionStore:t,format:i,schema:n,userPeopleCollectionPage:o}=e;return(0,r.VK)((()=>{var e;if(!(t&&i&&n&&o))return;const r=l.iB(i,n,void 0,l.j5.Collection),s=null==r||null===(e=r.collection_page_properties)||void 0===e?void 0:e.filter((e=>{var t;const i=null===(t=n[e.property])||void 0===t?void 0:t.name;return void 0!==i&&K.includes(i)}));if(!s)return;const a={};return s.forEach((e=>{var i;a[(null===(i=n[e.property])||void 0===i?void 0:i.name)||""]=(0,Z.jsx)(b.Z,{store:o,property:e.property,locked:!0,disabled:!0,format:k.C.Page,onTab:()=>{},onUntab:()=>{},tableWrap:!1,blockPropertyValueOverlayStore:y.Z,showRelationTooltip:!1,collectionStore:t})})),a}),[t,n,i,o])}({collectionStore:j,format:C,schema:w,userPeopleCollectionPage:x}),P=(0,o.O7)(),T=(0,n.useMemo)((()=>new h.Z(P)),[P]);(0,n.useEffect)((()=>{j&&T.setContext({type:"collectionPage",collectionStore:j})}),[T,j]);const M=(0,r.VK)((()=>!!(t&&u&&m)&&t.id===u.id),[t,u,m]);return t&&m&&a?x&&T&&_?(0,Z.jsx)("div",{style:i.wrapper,children:(0,Z.jsx)(g.L1,{value:T,children:(0,Z.jsxs)(I.Ht,{children:[(0,Z.jsx)(I.gq,{gap:3,alignItems:"center",style:i.profile,children:(0,Z.jsx)(O,{userStore:t,styles:i})}),(0,Z.jsxs)("div",{style:i.description,children:[(0,Z.jsx)(z,{userProfile:_,styles:i}),M?(0,Z.jsx)(I.gq,{gap:1,alignItems:"center",children:(0,Z.jsx)(B,{spaceStore:a,limit:5,styles:i})}):void 0]})]})})}):(0,Z.jsx)("div",{style:i.wrapper,children:(0,Z.jsxs)(I.Ht,{children:[(0,Z.jsx)(I.gq,{gap:3,alignItems:"center",style:i.profile,children:(0,Z.jsx)(O,{userStore:t,styles:i})}),M?(0,Z.jsx)("div",{style:i.description,children:(0,Z.jsx)(I.gq,{gap:1,alignItems:"center",children:(0,Z.jsx)(B,{spaceStore:a,limit:5,styles:i})})}):void 0]})}):null}function O(e){let{userStore:t,styles:i}=e;window.__c={n:"UserContactCard"};const n=(0,m.useIntl)(),{name:o,email:s}=(0,r.VK)((()=>({name:t.getFullName(n),email:t.getEmail()})),[t,n]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(C.Z,{userStore:t,size:70,borderStyle:"none"}),(0,Z.jsxs)(I.Ht,{gap:1,children:[(0,Z.jsx)("div",{style:i.profileTitle,children:o}),(0,Z.jsx)("div",{style:i.profileSubtitle,children:s})]})]})}function z(e){let{userProfile:t,styles:i}=e;return t?(0,Z.jsx)(Z.Fragment,{children:K.filter((e=>t[e])).map((e=>(0,Z.jsxs)(I.gq,{gap:1,alignItems:"center",children:[(0,Z.jsx)(I.Ht,{children:(0,Z.jsx)(I.gq,{style:i.profileKeyRow,children:(0,Z.jsx)("div",{style:i.profileKeyText,children:M[e]?M[e]:e})})}),(0,Z.jsx)(I.Ht,{style:{transform:"scale(0.9)",transformOrigin:"center left"},children:t[e]})]},e)))}):null}function B(e){let{spaceStore:t,limit:i,styles:n}=e;window.__c={n:"UserSimilarity"};const{userSimilarityList:o}=(0,r.VK)((()=>{var e,n;const o=null===(e=j.default.state)||void 0===e?void 0:e.data,r=o?w.CM(o):[],s=(null==o?void 0:o.userSimilarity)||{},l=r.map((e=>{const t=s[e.userId];return{id:e.userId,similarity:t||0}})).sort(((e,t)=>t.similarity-e.similarity)).slice(0,i),d=[],c=a.yW(l.map((e=>{const i=S.U6.createChildStore(t,{table:u.KJ,id:e.id});return d.push({id:e.id,similarity:e.similarity,userStore:i}),i.isReady()})));return{isOnline:x.Z.state.online,subscriptionDataStoreData:o,userSimilarityData:(null===(n=j.default.state.data)||void 0===n?void 0:n.userSimilarity)||{},visibleUsersLoaded:c,visibleUsers:r,userSimilarityList:d}}),[t,i]);return t&&o&&0!==o.length?(0,Z.jsxs)(I.gq,{gap:1,alignItems:"center",style:{paddingTop:4},children:[(0,Z.jsx)(I.Ht,{children:(0,Z.jsx)(I.gq,{style:n.profileKeyRow,children:(0,Z.jsx)("div",{style:n.profileKeyText,children:"Coworkers"})})}),(0,Z.jsx)(I.Ht,{children:(0,Z.jsx)(I.gq,{gap:5,children:(0,Z.jsx)("div",{children:(0,Z.jsx)("div",{style:{display:"flex",position:"relative",float:"right"},children:o.map((e=>(0,Z.jsx)("div",{style:{marginLeft:1.5},children:(0,Z.jsx)(C.Z,{userStore:e.userStore,size:18})},e.id)))})})})})]}):null}},25735:(e,t,i)=>{i.d(t,{Y:()=>m});i(67294);var n=i(480),o=i(86628),r=i(24405),s=i(82990),l=i(68939),a=i(50906),d=i(16639),c=i(80444),u=i(29302),p=i(85893);function m(e){window.__c={n:"GroupMembersListTooltip"};const{group:t,limit:i,noMembersMessage:m,color:g,trackHover:f}=e,h=(0,r.yK)((e=>({container:{marginBottom:4,..."white_background"===g?{fontSize:s.Z.fontSize.UISmall.desktop,color:e.mediumTextColor,padding:"4px 8px"}:{}},userContainer:{display:"flex",alignContent:"flex-end",minWidth:140,width:"100%",marginTop:4},user:{flexGrow:1},moreMessage:{marginLeft:2,marginTop:4,..."white_background"===g?{fontSize:s.Z.fontSize.UISmall.desktop,color:e.mediumTextColor}:{color:e.mediumInvertedTextColor}}})),[g]),x=(0,o.VK)((()=>c.default.state.currentSpaceStore),[]),v=(0,n.O7)();(0,o.VK)((()=>{f&&a.iHH(v,{group_id:t.id})}),[f,t.id,v]);const{countRemainingUsers:y,limitedUserStores:S}=(0,o.VK)((()=>(0,d.rm)({group:t,spaceStore:x,limit:i})),[t,x,i]);return 0===S.length?(0,p.jsx)(p.Fragment,{children:m}):(0,p.jsxs)("div",{style:h.container,children:[S.map((e=>(0,p.jsx)("div",{style:h.userContainer,children:(0,p.jsx)(u.Z,{style:h.user,userStore:e,avatarSize:18})},e.id))),y>0&&(0,p.jsx)("div",{style:h.moreMessage,children:(0,p.jsx)(l.FormattedMessage,{id:"blockPermissionsSettings.groupPermissionUsers.tooltip",defaultMessage:"{countRemainingUsers} more…",values:{countRemainingUsers:y}})})]})}},88804:(e,t,i)=>{i.d(t,{E:()=>a,N:()=>l});var n=i(83212),o=i(26350),r=i(98165),s=i(67669);function l(e,t){const i=t.getRecordStoreUIRoot(),l=i instanceof o.G&&i.isPageBlock()&&i.isLocked(),a=(0,r.n3)(i)&&n.Z.getMode(e,i),d=Boolean((0,s.YF)(a));return!t.canEdit()||l||d}function a(e,t){return!l(e,t)}}}]);